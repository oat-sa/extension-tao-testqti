{"version":3,"file":"taoQtiTest/controller/routes.js","sources":["routes.js","creator/templates/testpart!tpl","creator/templates/section!tpl","creator/templates/rubricblock!tpl","creator/templates/itemref!tpl","creator/templates/item!tpl","tpl!taoQtiTest/controller/creator/templates/test-props","tpl!taoQtiTest/controller/creator/templates/testpart-props","tpl!taoQtiTest/controller/creator/templates/section-props","tpl!taoQtiTest/controller/creator/templates/itemref-props","tpl!taoQtiTest/controller/creator/templates/rubricblock-props","creator/templates/index.js","creator/views/item.js","creator/views/property.js","creator/views/actions.js","creator/views/itemref.js","creator/helpers/ckConfigurator.js","creator/views/rubricblock.js","creator/helpers/qtiTest.js","creator/helpers/sectionCategory.js","creator/views/section.js","creator/views/testpart.js","creator/views/test.js","creator/encoders/dom2qti.js","creator/creator.js","../../taoTests/runner/providerRegistry.js","../../taoTests/runner/runner.js","../../taoTests/runner/areaBroker.js","../../taoTests/runner/proxyRegistry.js","../../taoTests/runner/proxy.js","../../taoItems/assets/manager.js","../../taoItems/runner/api/itemRunner.js","../../taoQtiItem/qtiItem/core/qtiClasses.js","../../taoQtiItem/qtiItem/helper/util.js","../../taoQtiItem/qtiItem/helper/rendererConfig.js","../../taoQtiItem/qtiItem/core/Element.js","../../taoQtiItem/qtiItem/core/Loader.js","../../taoQtiItem/qtiItem/helper/interactionHelper.js","../../taoQtiItem/qtiRunner/core/Renderer.js","../../taoItems/assets/strategies.js","../../taoQtiItem/qtiCommonRenderer/renderers/config.js","../../taoQtiItem/qtiCommonRenderer/renderers/Renderer.js","../../taoQtiItem/runner/provider/manager/picManager.js","../../taoQtiItem/runner/provider/qti.js","../../taoQtiItem/runner/qtiItemRunner.js","../runner/provider/layout!tpl","../runner/provider/qti.js","../runner/config/qtiServiceConfig.js","../runner/proxy/qtiServiceProxy.js","../../taoTests/runner/plugin.js","../runner/plugins/controls/title/title!tpl","../runner/plugins/controls/title/title.js","../testRunner/progressUpdater.js","../runner/plugins/controls/progressbar/progressbar!tpl","../runner/plugins/controls/progressbar/progressbar.js","../runner/plugins/navigation/button!tpl","../runner/plugins/navigation/next.js","../runner/plugins/navigation/previous.js","../runner/plugins/navigation/nextSection.js","../runner/plugins/navigation/skip.js","css!taoQtiTestCss/new-test-runner","runner/runner.js","../testRunner/actionBarHook.js","../testRunner/actionBarTools.js","../testRunner/tpl/navigator!tpl","../testRunner/tpl/navigatorTree!tpl","../testRunner/testReview.js","../testRunner/testMetaData.js","../../serviceApi/ServiceApi.js","../../serviceApi/UserInfoService.js","../../serviceApi/StateStorage.js","runtime/testRunner.js"],"names":["define","Creator","css","actions","index","hb","template","Handlebars","depth0","helpers","partials","data","this","compilerInfo","merge","stack1","helper","buffer","functionType","escapeExpression","identifier","call","hash","options","helperMissing","title","__","href","label","program1","uri","parent","inverse","self","noop","fn","program","program2","each","testPart","section","rubricBlock","itemRef","item","testProps","testPartProps","sectionProps","itemRefProps","rubricBlockProps","testpart","itemref","rubricblock","properties","test","$","templates","itemTemplate","itemView","loadItems","setUpLiveSearch","timeout","liveSearch","pattern","$search","val","length","clearTimeout","setTimeout","items","update","keyup","siblings","click","disableSelection","$itemBox","empty","append","enableSelection","$panel","selectable","filter","selected","event","ui","addClass","unselected","removeClass","stop","trigger","undefined","DataBinder","propView","tmplName","model","propValidation","$view","on","e","isValid","namespace","$togglers","groupValidator","$container","open","databinder","children","hide","appendTo","startDomComponent","bind","getView","isOpen","onOpen","cb","stopPropagation","onClose","destroy","remove","toggle","not","show","propertyView","find","preventDefault","$elt","hasClass","disabledClass","blur","activeClass","btnOnClass","move","$actionContainer","containerClass","elementClass","$element","parents","$elements","is","fadeOut","insertBefore","fadeIn","insertAfter","movable","actionContainerElt","$moveUp","$moveDown","removable","$delete","disable","enable","_","setUp","$itemRef","propHandler","removePropHandler","categoriesProperty","initCategories","$select","select2","categories","width","tags","multiple","tokenSeparators","formatNoMatches","maximumInputLength","resize","listenActionState","document","$parent","$target","target","throttle","$refs","first","$actions","innerWidth","outerWidth","ckConfigurator","mathJax","getConfig","editor","toolbarType","underline","ckeditor","ckConfig","filterPlugin","plugin","contains","plugins","reject","split","join","extraPlugins","$rubricBlock","rbViews","$propContainer","setUpEditor","$rubricBlockBinding","$rubricBlockContent","syncRubricBlockContent","html","inline","qtiTestHelper","extractIdentifiers","obj","identifiers","has","concat","toLowerCase","flatten","forEach","value","getIdentifier","qtiType","lockedIdentifiers","suggestion","glue","push","idFormatValidator","qtiIdPattern","name","message","validate","callback","testidFormatValidator","qtiTestIdPattern","idAvailableValidator","values","original","filterQtiType","type","addMissingQtiType","collection","parentType","key","isObject","isArray","isNumber","replace","consolidateModel","testParts","assessmentSections","assessmentSection","ordering","shuffle","rubricBlocks","content","views","errorHandler","isValidSectionModel","sectionParts","setCategories","oldCategories","getCategories","removed","difference","all","propagated","addCategories","removeCategories","map","compact","arrays","union","apply","intersection","partial","sort","_ns","itemRefView","rubricBlockView","sectionCategory","$section","$selectionSwitcher","$selectionSelect","$selectionWithRep","switchSelection","prop","incrementer","selection","$title","text","itemRefs","labels","encode","acceptItemRefs","$selected","$items","Array","prototype","slice","arguments","$placeholder","$placeholders","off","defaultItemData","itemSessionControl","isUndefined","maxAttempts","clone","$item","addItemRef","defaults","decode","trim","end","qti-type","attr","$refList","itemData","eq","addRubricBlock","adder","templateData","$li","indexOf","$sections","sectionView","$testPart","$identifier","sections","addSection","sectionIndex","$testParts","testPartView","testView","addTestPart","testPartIndex","navigationMode","submissionMode","added","getAttributes","object","omit","attrToStr","attributes","reduce","acc","isString","isEmpty","Dom2QtiEncoder","modelValue","result","startTag","nodeValue","$nodeValue","elt","nodeType","xmlBase","nodeName","id","class","lang","transform","childNodes","module","history","feedback","DataBindController","itemrefView","validators","url","search","getJSON","notempty","Controller","routes","start","$saver","config","back","binderOptions","filters","isItemRef","isSection","encoders","dom2qti","beforeSave","binder","takeControl","get","register","window","save","success","providerRegistry","validator","registerProvider","provider","valid","TypeError","isPlainObject","isFunction","init","_providers","getProvider","providerName","size","Error","keys","clearProviders","eventifier","Promise","logger","testRunnerFactory","pluginFactories","providerRun","method","args","resolve","runner","pluginRun","execStack","getPlugins","reportError","err","areaBroker","proxy","testData","testContext","states","ready","render","finish","pluginFactory","pluginName","getAreaBroker","then","setState","loadItem","renderItem","unloadItem","getPlugin","loadAreaBroker","getProxy","loadProxy","getState","active","getTestData","setTestData","getTestContext","setTestContext","context","next","scope","previous","jump","position","skip","exit","why","pause","resume","requireAreas","mapping","broker","areas","HTMLElement","defineAreas","required","getContainer","getArea","area","toUpperCase","proxyRegistry","_proxies","_registry","registerProxy","_proxyApi","apiName","assign","proxyFactory","proxyName","delegate","fnName","promise","proxyAdapter","_slice","initConfig","_defaults","getTestMap","callTestAction","action","params","getItemData","getItemState","submitItemState","state","storeItemResponse","response","callItemAction","urlUtil","assetManagerFactory","strategies","cache","parseUrl","assetManager","_strategies","addStrategy","strategy","handle","setStrategies","newStrategies","setData","getData","resolved","inputUrl","hasOwnProperty","parse","resolveBy","clearCache","itemRunnerFactory","ItemRunner","providers","events","flow","done","pending","toString","container","newData","initDone","pendingTask","assets","renderDone","clear","clearDone","getResponses","responses","handler","_container","assessmentItem","responseProcessing","_simpleFeedbackRule","stylesheet","math","img","outcomeDeclaration","responseDeclaration","associableHotspot","gap","gapImg","gapText","hotspotChoice","hottext","inlineChoice","simpleAssociableChoice","simpleChoice","associateInteraction","choiceInteraction","endAttemptInteraction","extendedTextInteraction","gapMatchInteraction","graphicAssociateInteraction","graphicGapMatchInteraction","graphicOrderInteraction","hotspotInteraction","hottextInteraction","inlineChoiceInteraction","matchInteraction","mediaInteraction","orderInteraction","prompt","selectPointInteraction","sliderInteraction","textEntryInteraction","uploadInteraction","feedbackBlock","feedbackInline","modalFeedback","customInteraction","infoControl","include","util","buildSerial","prefix","chars","i","charAt","Math","floor","random","buildId","usedIds","suffix","exists","getUsedIds","buildIdentifier","useSuffix","getUsedIdentifiers","qtiClass","findInCollection","element","collectionNames","searchedSerial","found","collectionName","nameToken","addMarkupNamespace","markup","ns","$0","$1","$2","$3","$4","removeMarkupNamespaces","getMarkupUsedNamespaces","namespaces","slash","node","uniq","rendererConfigHelper","getOptionsFromArguments","placeholder","subclass","renderer","arg","isRenderer","console","log","Class","rendererConfig","_instances","Element","extend","serial","relatedItem","metaData","match","setAttributes","initContainer","initObject","getSerial","elts","getComposingElements","removeData","removeAttr","removeAttributes","attrNames","getBody","getObject","v","isA","getUsedClasses","ret","composingElts","location","getRelatedItem","setRelatedItem","recursive","setRenderer","getRenderer","_renderer","tplData","defaultData","tag","body","resolveUrl","rendering","renderTpl","replaceWith","postRender","altClassName","postRenderers","$scope","toArray","arr","className","clazz","_containClass","regex","RegExp","toggleClass","isset","issetElement","unset","unsetElement","allClassStr","qtiElement","getElementBySerial","composingElements","qtiClasses","loadPortableCustomElementData","portableElement","typeIdentifier","entryPoint","libraries","Loader","classesLocation","qti","setClassesLocation","getRequiredClasses","loadRequiredClasses","reload","requiredClasses","requiredClass","_this","require","QtiClass","getLoadedClasses","loadItemData","Qti","loadContainer","outcomes","outcome","buildOutcome","addOutcomeDeclaration","feedbacks","buildElement","addModalFeedback","stylesheets","addStylesheet","buildResponse","addResponseDeclaration","feedbackRules","forIn","fbData","buildSimpleFeedbackRule","setResponseProcessing","buildResponseProcessing","setNamespaces","loadAndBuildElement","loadElement","loadElementData","loadElements","allElements","elementData","howMatch","defaultValue","correctResponse","correctResponses","mapEntries","areaMapping","mappingAttributes","feedbackRule","condition","comparedValue","comparedOutcome","feedbackOutcome","feedbackThen","modalFeedbacks","feedbackElse","rp","processingType","xml","bodyObject","bodyData","elements","eltData","setElement","bdy","loadObjectData","loadInteractionData","loadChoiceData","loadMathData","loadPicData","interaction","buildInteractionChoices","loadPciData","choices","set","matchSet","choice","addChoice","gapImgs","addGapImg","_alt","setMathML","mathML","annotations","encoding","setAnnotation","pci","pic","convertChoices","outputType","c","findChoices","inputType","getChoice","getChoiceByIdentifier","shuffleChoices","r","f","j","n","k","tmp","serialToIdentifier","choiceSerial","interactionHelper","themeLoader","getDocumentBaseUrl","protocol","host","pathname","_isValidRenderer","classCorrect","_renderableClasses","pos","subClass","_renderableSubclasses","_dependencies","Renderer","_locations","_renderers","shuffledChoices","_getClassRenderer","setOption","setOptions","opts","getOption","getAssetManager","getThemeLoader","qtiSubclass","res","decorators","before","after","renderDirect","tpl","compile","setResponse","qtiInteraction","getResponse","resetResponse","getLoadedRenderers","renderersLocations","load","themes","base","available","theme","path","reqClass","deps","requiredSubClasses","unload","setShuffledChoices","identificationType","pluck","getShuffledChoices","reshuffle","returnedType","getChoices","getRenderers","getLocations","getAbsoluteUrl","relUrl","warn","absUrl","runtimeLocations","runtimeLocation","baseUrl","build","defaultOptions","NewRenderer","isRelative","slashcat","directory","encodeURIComponent","file","external","isAbsolute","base64","isBase64","taomedia","assetStrategies","itemThemes","portableAssetStrategy","source","relative","root_url","locations","simpleChoice.choiceInteraction","simpleChoice.orderInteraction","simpleAssociableChoice.matchInteraction","simpleAssociableChoice.associateInteraction","picManager","_pic","_item","getPic","getItem","getTypeIdentifier","getDom","_dom","tool","button","broken","dom","disabled","offset","height","outerHeight","eventName","rest","unshift","picManagerCollection","getList","force","_list","_map","getElements","manager","managerFactory","picId","execute","executeAll","enablePic","disablePic","showPic","hidePic","enableAll","disableAll","showAll","hideAll","collectionFactory","QtiLoader","QtiRenderer","qtiItemRuntimeProvider","rendererOptions","innerHTML","race","delay","responseIdentifier","originalEvent","detail","themeName","change","invoke","getInteractions","itemRunner","qtiRuntimeProvider","qtiItemRunner","layoutTpl","initial","interacting","suspended","closed","qtiProvider","$layout","toolbox","navigation","control","panel","header","proxyConfig","pick","computeNext","itemUri","results","direction","renderTo","itemState","getContentArea","storage","_entries","configFactory","getTestDefinition","testDefinition","getTestCompilation","testCompilation","getServiceCallId","serviceCallId","getServiceController","serviceController","getServiceExtension","serviceExtension","getTestActionUrl","_url","getItemActionUrl","testServiceCallId","itemDefinition","request","ajax","async","dataType","fail","jqXHR","qtiServiceProxy","getTestRunner","setConfig","unless","titles","titleTpl","testRunner","createElement","isDeepestSectionVisible","sectionTitle","getControlArea","progressUpdaters","progressBar","progressLabel","progressbar","write","ratio","progressIndicator","progressIndicatorMethod","getProgression","percentageProgression","progression","total","max","numberItems","numberCompleted","positionProgression","progressScope","progressIndicatorScope","progressScopeCounter","testSection","counter","progressUpdaterFactory","updater","progressUpdater","progressTpl","icon","buttonTpl","buttonData","isLast","updateElement","getNavigationArea","removeProp","canMoveBackward","nextSection","allowSkipping","loadingBar","progress","runnerController","error","defer","exitUrl","isValidConfig","toolconfig","hook","triggerItemLoaded","itemLoaded","initQtiTool","$toolsContainer","itemIsLoaded","tools","$button","$existingBtn","isValidHook","isVisible","_appendInOrder","$after","$before","order","prepend","parseInt","isNaN","$btn","_order","$doc","actionBarHook","registeredQtiTools","qtiTools","actionBarTools","registerTools","getRegisteredTools","getRegistered","isRegistered","list","promises","getId","region","hidden","program4","program29","program6","program7","answered","program8","program9","flagged","program11","program13","viewed","program17","program15","program21","program19","program24","program22","program27","program25","itemId","parts","navigatorTpl","navigatorTreeTpl","capitalize","_cssCls","collapsed","collapsible","masked","unseen","_selectors","component","filterBar","tree","collapseHandle","linearState","infoAnswered","infoViewed","infoUnanswered","infoFlagged","infoPanel","infoPanelLabels","partLabels","sectionLabels","itemLabels","itemIcons","icons","linearStart","counters","actives","collapsiblePanels","notFlagged","notAnswered","_filterMap","unanswered","filtered","_optionsMap","reviewScope","reviewPreventsUnseen","canCollapse","_reviewScopes","testReview","initOptions","putOnRight","insertMethod","currentFilter","$component","_loadDOM","_initEvents","_updateDisplayOptions","$infoAnswered","$infoViewed","$infoUnanswered","$infoFlagged","$filterBar","$filters","$tree","$linearState","_openSelected","closest","_togglePanel","_openOnly","_mark","_select","_jump","mode","_filter","criteria","_updateSectionCounters","jquery","hierarchy","parentsUntil","add","opened","root","collapseSelector","_setItemIcon","_adjustItemIcon","defaultIcon","iconCls","cls","_toggleFlag","flag","itemPosition","$filtered","nb","_writeCount","scopeClass","$root","_updateOptions","optionKey","contextKey","_updateInfos","Number","$place","count","_getProgressionOfTest","numberPresented","numberFlagged","_getProgressionOfTestPart","numberItemsPart","numberCompletedPart","numberPresentedPart","numberFlaggedPart","_getProgressionOfTestSection","numberItemsSection","numberCompletedSection","numberPresentedSection","numberFlaggedSection","_updateTree","navigatorMap","reviewScopePart","reviewScopeSection","_partsFilter","part","preventsUnseen","setItemFlag","updateNumberFlagged","fields","currentPosition","currentFound","currentSection","currentPart","itemFound","itemSection","itemPart","field","progressInfoMethod","extraParameters","testReviewFactory","testMetaDataFactory","_testServiceCallId","testMetaData","getLocalStorageData","setLocalStorageData","currentKey","getLocalStorageKey","localStorage","setItem","domException","removeItem","JSON","_storageKeyPrefix","_data","SECTION_EXIT_CODE","COMPLETED_NORMALLY","QUIT","COMPLETE_TIMEOUT","TIMEOUT","FORCE_QUIT","IN_PROGRESS","ERROR","TEST_EXIT_CODE","COMPLETE","TERMINATED","INCOMPLETE","INCOMPLETE_QUIT","INACTIVE","CANDIDATE_DISAGREED_WITH_NDA","getTestServiceCallId","setTestServiceCallId","stringify","addData","overwrite","clearData","UrlParser","ServiceApi","parameters","stateStorage","userService","paused","connected","hasBeenPaused","SIG_SUCCESS","SIG_ERROR","loadInto","frame","$frame","callUrl","getCallUrl","isCORSAllowed","checkCORS","connect","contentWindow","__knownParent__","onServiceApiReady","param","getUserPropertyValues","property","getHasBeenPaused","setHasBeenPaused","getParameter","onFinish","onFinishCallback","onKill","onKillCallback","onExit","onExitCallback","kill","valueArray","UserInfoService","requestUrl","service","StateStorage","submitUrl","iframeNotifier","MathJax","deleter","moment","modal","timerIds","currentTimes","lastDates","timeDiffs","waitingTime","$timers","$controls","timerIndex","sessionStateService","optionNextSection","optionNextSectionWarning","optionReviewScreen","TestRunner","TEST_STATE_INITIAL","TEST_STATE_INTERACTING","TEST_STATE_MODAL_FEEDBACK","TEST_STATE_SUSPENDED","TEST_STATE_CLOSED","TEST_NAVIGATION_LINEAR","TEST_NAVIGATION_NONLINEAR","TEST_ITEM_STATE_INTERACTING","beforeTransition","disableGui","$itemFrame","$rubricBlocks","$timerWrapper","afterTransition","enableGui","ITEM","ITEM_START_TIME_CLIENT","Date","now","isJumpOutOfSection","isCurrentItemActive","isTimedSection","exitTimedSection","killItemSession","actionCall","keepItemTimed","duration","markForReview","markForReviewUrl","itemFlagged","updateTools","moveForward","itemPositionSection","isTimeout","exitSection","moveBackward","jumpPosition","getCurrentSectionItems","isJumpToOtherSection","isValidPosition","exitCode","SECTION","qtiRunner","getQtiRunner","updateItemApi","displayExitMessage","doNextSection","hasOption","scopeSuffixMap","scopeSuffix","$confirmBox","unansweredCount","flaggedCount","isCurrentItemAnswered","ITEM_END_TIME_CLIENT","ITEM_TIMEZONE","utcOffset","format","itemServiceApi","itemSessionState","getCurrentItemState","option","itemFrame","getElementById","itemWindow","itemContainerFrame","itemContainerWindow","timeConstraints","qtiClassName","sectionItems","partId","testPartId","navMap","partIndex","updateTimer","confirmBox","confirmBtn","eval","itemServiceApiCall","initMetadata","getSessionStateService","accuracy","$runner","restart","updateContext","updateProgress","updateNavigation","updateTestReview","updateInformation","updateRubrics","updateExitButton","resetCurrentItemState","$contentBox","adjustFrame","visibility","itemIdentifier","showSkip","showSkipEnd","showNextSection","$skip","$skipEnd","$nextSection","createTimer","cst","$timer","$label","$time","formatTime","seconds","hasTimers","$topActionBar","allowLateSubmission","warningTime","NEGATIVE_INFINITY","timerWarning","setInterval","getTime","round","clearInterval","isFinite","timeWarning","humanize","warning","rubrics","prependTo","Hub","Queue","$exit","$moveForward","$moveEnd","$moveBackward","considerProgress","$progressBox","testTitle","sectionText","$position","$titleGroup","$logout","logoutButton","exitButton","frameContentHeight","rubricHeight","finalHeight","innerHeight","$bottomActionBar","$sideBars","$sideBar","contents","$naviButtons","hideGui","showGui","totalSeconds","sec_num","hours","minutes","time","processError","serviceApi","extraParams","TEST","setCurrentItemState","currentItemState","$skipButtons","$forwardButtons","$progressBar","$progressLabel","$contentPanel","ajaxError","jqxhr","status","getDuration","reviewScreen","reviewRegion","reviewCanCollapse","animate","opacity","responseId"],"mappings":"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EAAA6xB,QACA0Z,UAAAiB,WAAA3a,OAAAA;A/DrvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClGA,ADmGA;AClGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpCA,ADqCA;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACzHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzJA,AD0JA;ACzJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AChOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvJA,ADwJA;ACvJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9HA,AD+HA;AC9HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACxMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC7IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC3YA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5KA,AD6KA;AC5KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7HA,AD8HA;AC7HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvIA,ADwIA;ACvIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjNA,ADkNA;ACjNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACzHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3fA,AD4fA;AC3fA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC5IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClIA,ADmIA;AClIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtQA,ADuQA;ACtQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC9OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AClgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpMA,ADqMA;ACpMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClCA,ADmCA;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC9bA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AChaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACrGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3uBA,AD4uBA;AC3uBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC3FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClHA,ADmHA;AClHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC9bA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACpNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtOA,ADuOA;ACtOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC5JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnMA,ADoMA;ACnMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC5SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnIA,ADoIA;ACnIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC/KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzIA,AD0IA;ACzIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC/KA;AACA;AACA,ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5HA,AD6HA;AC5HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACjRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACzKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC3DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtNA,ADuNA;ACtNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC13BA,AD23BA;AC13BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChNA,ADiNA;AChNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,AC9LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChDA,ADiDA;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n * \n * \n */\n\n//@see http://forge.taotesting.com/projects/tao/wiki/Front_js\ndefine('taoQtiTest/controller/routes',[],function(){\n    'use strict';\n\n    return {\n        'Creator': {\n            'css': 'creator', \n            'actions': {\n                'index' : 'controller/creator/creator'\n            }\n        }\n    };\n});\n\n","\ndefine('tpl!taoQtiTest/controller/creator/templates/testpart', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div id=\\\"\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"testpart clearfix\\\">\\n\\n   <h1><span data-bind=\\\"identifier\\\">\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n        <div class=\\\"actions\\\"> \\n            <div class=\\\"tlb\\\">\\n                <div class=\\\"tlb-top\\\">\\n                    <span class=\\\"tlb-box\\\">\\n                        <span class=\\\"tlb-bar\\\">\\n                            <span class=\\\"tlb-start\\\"></span>\\n                            <span class=\\\"tlb-group\\\">\\n                                <a href=\\\"#\\\" class=\\\"tlb-button-off property-toggler\\\" title=\\\"Test Part Properties\\\"><span class=\\\"icon-settings\\\"></span></a>\\n                                <span class=\\\"tlb-separator\\\"></span>\\n                                <a href=\\\"#\\\" class=\\\"tlb-button-off move-up\\\" title=\\\"Move Up\\\"><span class=\\\"icon-up\\\"></span></a>\\n                                <a href=\\\"#\\\" class=\\\"tlb-button-off move-down\\\" title=\\\"Move Down\\\"><span class=\\\"icon-down\\\"></span></a>\\n                                <span class=\\\"tlb-separator\\\"></span> \\n                                <a href=\\\"#\\\" class=\\\"tlb-button-off\\\" title=\\\"Remove Test Part\\\" data-delete=\\\"#\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"><span class=\\\"icon-bin\\\"></span></a>\\n                            </span>\\n                            <span class=\\\"tlb-end\\\"></span>\\n                        </span>  \\n                        <!--<span class=\\\"tlb-bar\\\">-->\\n                            <!--<span class=\\\"tlb-start\\\"></span>-->\\n                            <!--<span class=\\\"tlb-text-button-box\\\">-->\\n                                <!--<a class=\\\"tlb-text-button-off section-adder\\\">-->\\n                                    <!--<span class=\\\"icon-add\\\"></span>-->\\n                                    <!--<span class=\\\"tlb-text\\\">New Section</span>-->\\n                                <!--</a>-->\\n                            <!--</span>-->\\n                            <!--<span class=\\\"tlb-end\\\"></span>-->\\n                        <!--</span>-->\\n                    </span>   \\n                </div>\\n            </div>\\n        </div>\\n        <a href=\\\"#\\\" class=\\\"toggler opened\\\" data-toggle=\\\"#testpart-content-\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"></a>\\n    </h1>\\n    <div id=\\\"testpart-content-\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"testpart-content\\\">\\n        \\n       <!-- assessmentTest/testPart/assessmentSections -->\\n       <div class=\\\"sections\\\" data-bind-each=\\\"assessmentSections\\\" data-bind-tmpl=\\\"section\\\" data-bind-filter=\\\"isSection\\\"></div>\\n\\n        <button class=\\\"btn-info small section-adder\\\">\\n            <span class=\\\"icon-add\\\"></span>New section\\n        </button>\\n    </div>\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/controller/creator/templates/section', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing;\n\n\n  buffer += \"<div id=\\\"\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"section\\\">\\n\\n<!-- assessmentTest/testPart/assessmentSection/title -->\\n    <h2><span data-bind=\\\"title\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n        <div class=\\\"actions\\\">\\n            <div class=\\\"tlb\\\">\\n                <div class=\\\"tlb-top\\\">\\n                    <span class=\\\"tlb-box\\\">\\n                        <span class=\\\"tlb-bar\\\">\\n                            <span class=\\\"tlb-start\\\"></span>\\n                            <span class=\\\"tlb-group\\\">\\n                                <a href=\\\"#\\\" class=\\\"tlb-button-off rub-toggler\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Manage Rubric Blocks\", options) : helperMissing.call(depth0, \"__\", \"Manage Rubric Blocks\", options)))\n    + \"\\\" data-toggle=\\\"#rublocks-\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" ><span class=\\\"icon-rubric\\\"></span></a>\\n                                <span class=\\\"tlb-separator\\\"></span>\\n                                <a href=\\\"#\\\" class=\\\"tlb-button-off property-toggler\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Section Properties\", options) : helperMissing.call(depth0, \"__\", \"Section Properties\", options)))\n    + \"\\\"><span class=\\\"icon-settings\\\"></span></a>\\n                                <span class=\\\"tlb-separator\\\"></span>\\n                                <a href=\\\"#\\\" class=\\\"tlb-button-off move-up disabled\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Move Up\", options) : helperMissing.call(depth0, \"__\", \"Move Up\", options)))\n    + \"\\\"><span class=\\\"icon-up\\\"></span></a>\\n                                <a href=\\\"#\\\" class=\\\"tlb-button-off move-down disabled\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Move Down\", options) : helperMissing.call(depth0, \"__\", \"Move Down\", options)))\n    + \"\\\"><span class=\\\"icon-down\\\"></span></a>\\n                                <span class=\\\"tlb-separator\\\"></span>\\n                                <a href=\\\"#\\\" class=\\\"tlb-button-off disabled\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Remove Section\", options) : helperMissing.call(depth0, \"__\", \"Remove Section\", options)))\n    + \"\\\" data-delete=\\\":parent .section\\\"><span class=\\\"icon-bin\\\"></span></a>\\n                            </span>\\n                            <span class=\\\"tlb-end\\\"></span>\\n                        </span>\\n                    </span>\\n                </div>\\n            </div>\\n        </div>\\n    </h2>\\n\\n    <div id=\\\"rublocks-\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"rublocks clearfix toggled\\\">\\n        <h3>\\n            <span class=\\\"title\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Rubric Blocks\", options) : helperMissing.call(depth0, \"__\", \"Rubric Blocks\", options)))\n    + \"</span>\\n        </h3>\\n        <ol class=\\\"rubricblocks decimal\\\" data-bind-each=\\\"rubricBlocks\\\" data-bind-tmpl=\\\"rubricblock\\\"></ol>\\n        <button class=\\\"btn-info small rublock-adder\\\">\\n            <span class=\\\"icon-add\\\"></span>\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"New Rubric Block\", options) : helperMissing.call(depth0, \"__\", \"New Rubric Block\", options)))\n    + \"\\n        </button>\\n    </div>\\n    <div class=\\\"itemrefs-wrapper\\\">\\n        <h3>\\n            <span class=\\\"title\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Items\", options) : helperMissing.call(depth0, \"__\", \"Items\", options)))\n    + \"</span>\\n        </h3>\\n        <ol class=\\\"itemrefs decimal clearfix\\\" data-bind-each=\\\"sectionParts\\\" data-bind-tmpl=\\\"itemref\\\" data-bind-filter=\\\"isItemRef\\\" data-msg=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Add selected item(s) here.\", options) : helperMissing.call(depth0, \"__\", \"Add selected item(s) here.\", options)))\n    + \"\\\"></ol>\\n        <div class=\\\"itemref-placeholder\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Add selected item(s) here.\", options) : helperMissing.call(depth0, \"__\", \"Add selected item(s) here.\", options)))\n    + \"\\n        </div>\\n    </div>\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/controller/creator/templates/rubricblock', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<li class=\\\"rubricblock\\\">\\n    <div class=\\\"actions\\\">\\n       <div class=\\\"tlb\\\">\\n            <div class=\\\"tlb-top\\\">\\n                <span class=\\\"tlb-box\\\">\\n                    <span class=\\\"tlb-bar\\\">\\n                        <span class=\\\"tlb-start\\\"></span>\\n                        <span class=\\\"tlb-group\\\">\\n                            <!--<a href=\\\"#\\\" class=\\\"tlb-button-off property-toggler\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Rubric Block Properties\", options) : helperMissing.call(depth0, \"__\", \"Rubric Block Properties\", options)))\n    + \"\\\"><span class=\\\"icon-settings\\\"></span></a>-->\\n                            <!--<span class=\\\"tlb-separator\\\"></span> -->\\n                            <a href=\\\"#\\\" class=\\\"tlb-button-off\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Remove Rubric Block\", options) : helperMissing.call(depth0, \"__\", \"Remove Rubric Block\", options)))\n    + \"\\\" data-delete=\\\":parent .rubricblock\\\"><span class=\\\"icon-bin\\\"></span></a>\\n                        </span>\\n                        <span class=\\\"tlb-end\\\"></span>\\n                    </span>\\n                </span>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"rubricblock-content\\\" contenteditable></div>\\n    <div class=\\\"rubricblock-binding\\\" data-bind=\\\"content\\\" data-bind-html=\\\"true\\\" data-bind-encoder=\\\"dom2qti\\\"></div>\\n</li>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/controller/creator/templates/itemref', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing;\n\n\n  buffer += \"<li id='\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"' data-uri='\";\n  if (helper = helpers.href) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.href); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"' class='itemref'>\\n    <span class='title truncate'>\";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n    <div class=\\\"actions\\\"> \\n        <div class=\\\"tlb\\\">\\n            <div class=\\\"tlb-top\\\">\\n                <span class=\\\"tlb-box\\\">\\n                    <span class=\\\"tlb-bar\\\">\\n                        <span class=\\\"tlb-start\\\"></span>\\n                        <span class=\\\"tlb-group\\\">\\n                            <a href=\\\"#\\\" class=\\\"tlb-button-off property-toggler\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Item Reference Properties\", options) : helperMissing.call(depth0, \"__\", \"Item Reference Properties\", options)))\n    + \"\\\"><span class=\\\"icon-settings\\\"></span></a>\\n                            <span class=\\\"tlb-separator\\\"></span>\\n                            <a href=\\\"#\\\" class=\\\"tlb-button-off move-up\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Move Up\", options) : helperMissing.call(depth0, \"__\", \"Move Up\", options)))\n    + \"\\\"><span class=\\\"icon-up\\\"></span></a>\\n                            <a href=\\\"#\\\" class=\\\"tlb-button-off move-down\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Move Down\", options) : helperMissing.call(depth0, \"__\", \"Move Down\", options)))\n    + \"\\\"><span class=\\\"icon-down\\\"></span></a>\\n                            <span class=\\\"tlb-separator\\\"></span> \\n                            <a href=\\\"#\\\" class=\\\"tlb-button-off\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Remove Item Reference\", options) : helperMissing.call(depth0, \"__\", \"Remove Item Reference\", options)))\n    + \"\\\" data-delete=\\\":parent .itemref\\\"><span class=\\\"icon-bin\\\"></span></a>\\n                        </span>\\n                        <span class=\\\"tlb-end\\\"></span>\\n                    </span>  \\n                </span>   \\n            </div>\\n        </div>\\n    </div>\\n</li>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/controller/creator/templates/item', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n     <li data-uri='\";\n  if (helper = helpers.uri) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.uri); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"' class='truncate'>\\n        \";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \" \\n        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.parent), {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n     </li>\\n\";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"<span class='flag truncate' title=\\\"\";\n  if (helper = helpers.parent) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.parent); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  if (helper = helpers.parent) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.parent); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\";\n  return buffer;\n  }\n\n  stack1 = helpers.each.call(depth0, depth0, {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/controller/creator/templates/test-props', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, functionType=\"function\";\n\n\n  buffer += \"<div class=\\\"test-props props clearfix\\\">\\n\\n    <!-- test properties -->\\n    <h3 data-bind=\\\"title\\\"></h3>\\n\\n<!-- assessmentTest/identifier -->\\n    <div class=\\\"grid-row\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"test-identifier\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Identifier\", options) : helperMissing.call(depth0, \"__\", \"Identifier\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr></label>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n            <input type=\\\"text\\\" name=\\\"test-identifier\\\" data-bind=\\\"identifier\\\" data-validate=\\\"$notEmpty; $testIdFormat; $testIdAvailable(original=\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \");\\\" />\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"The principle identifier of the test.\", options) : helperMissing.call(depth0, \"__\", \"The principle identifier of the test.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n\\n<!-- assessmentTest/title -->\\n    <div class=\\\"grid-row\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"test-title\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Title\", options) : helperMissing.call(depth0, \"__\", \"Title\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr></label>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n            <input type=\\\"text\\\" name=\\\"test-title\\\" data-bind=\\\"title\\\" data-validate=\\\"$notEmpty\\\" />\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"The test title.\", options) : helperMissing.call(depth0, \"__\", \"The test title.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n\\n    <h4 class=\\\"toggler closed\\\" data-toggle=\\\"~ .test-time-limits\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Time Limits\", options) : helperMissing.call(depth0, \"__\", \"Time Limits\", options)))\n    + \"</h4>\\n\\n<!-- assessmentTest/timeLimits -->\\n    <div class=\\\"test-time-limits toggled\\\">\\n\\n\\n\\n<!-- assessmentTest/timeLimits/maxTime -->\\n        <div class=\\\"grid-row\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"test-max-time\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Maximum Duration\", options) : helperMissing.call(depth0, \"__\", \"Maximum Duration\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <input type=\\\"text\\\" name=\\\"max-time\\\" value=\\\"00:00:00\\\" data-duration=\\\"HH:mm:ss\\\" data-bind=\\\"timeLimits.maxTime\\\" data-bind-encoder=\\\"time\\\" />\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Maximum duration for the all test.\", options) : helperMissing.call(depth0, \"__\", \"Maximum duration for the all test.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n<!-- assessmentTest/timeLimits/allowLateSubmission -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Late submission allowed\", options) : helperMissing.call(depth0, \"__\", \"Late submission allowed\", options)))\n    + \"\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"test-allow-late-submission\\\" value=\\\"true\\\" data-bind=\\\"timeLimits.allowLateSubmission\\\" data-bind-encoder=\\\"boolean\\\" />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Whether a candidate's response that is beyond the maximum duration should still be accepted.\", options) : helperMissing.call(depth0, \"__\", \"Whether a candidate's response that is beyond the maximum duration should still be accepted.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/controller/creator/templates/testpart-props', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing;\n\n\n  buffer += \"<div id=\\\"testpart-props-\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"testpart-props props clearfix\\\">\\n    <h3>\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h3>\\n\\n    <form autocomplete=\\\"off\\\">\\n\\n<!-- assessmentTest/testPart/identifier -->\\n        <div class=\\\"grid-row\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"testpart-identifier\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Identifier\", options) : helperMissing.call(depth0, \"__\", \"Identifier\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr></label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <input type=\\\"text\\\" name=\\\"testpart-identifier\\\" data-bind=\\\"identifier\\\" data-validate=\\\"$notEmpty; $idFormat; $testIdAvailable(original=\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \");\\\" />\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"The test part identifier.\", options) : helperMissing.call(depth0, \"__\", \"The test part identifier.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n<!-- assessmentTest/testPart/navigationMode -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n               \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Navigation\", options) : helperMissing.call(depth0, \"__\", \"Navigation\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"radio\\\" name=\\\"testpart-navigation-mode\\\" value=\\\"0\\\" checked=\\\"checked\\\" data-bind=\\\"navigationMode\\\" data-bind-encoder=\\\"number\\\" />\\n                    <span class=\\\"icon-radio\\\"></span>\\n                    \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Linear\", options) : helperMissing.call(depth0, \"__\", \"Linear\", options)))\n    + \"\\n                </label>\\n                <label>\\n                    <input type=\\\"radio\\\" name=\\\"testpart-navigation-mode\\\" value=\\\"1\\\"  />\\n                    <span class=\\\"icon-radio\\\"></span>\\n                    \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Non Linear\", options) : helperMissing.call(depth0, \"__\", \"Non Linear\", options)))\n    + \"\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"The navigation mode determines the general paths that the candidate may take. A linear mode restricts the candidate to attempt each item in turn. Non Linear removes this restriction.\", options) : helperMissing.call(depth0, \"__\", \"The navigation mode determines the general paths that the candidate may take. A linear mode restricts the candidate to attempt each item in turn. Non Linear removes this restriction.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n<!-- assessmentTest/testPart/submissionMode -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Submission\", options) : helperMissing.call(depth0, \"__\", \"Submission\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"radio\\\" name=\\\"testpart-submission-mode\\\" value=\\\"0\\\" checked=\\\"checked\\\" data-bind=\\\"submissionMode\\\" data-bind-encoder=\\\"number\\\" />\\n                    <span class=\\\"icon-radio\\\"></span>\\n                    \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Individual\", options) : helperMissing.call(depth0, \"__\", \"Individual\", options)))\n    + \"\\n                </label>\\n                <label>\\n                    <input type=\\\"radio\\\" name=\\\"testpart-submission-mode\\\" value=\\\"1\\\"  />\\n                    <span class=\\\"icon-radio\\\"></span>\\n                    \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Simultaneous\", options) : helperMissing.call(depth0, \"__\", \"Simultaneous\", options)))\n    + \"\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"The submission mode determines when the candidate's responses are submitted for response processing. A testPart in individual mode requires the candidate to submit their responses on an item-by-item basis. In simultaneous mode the candidate's responses are all submitted together at the end of the testPart.\", options) : helperMissing.call(depth0, \"__\", \"The submission mode determines when the candidate's responses are submitted for response processing. A testPart in individual mode requires the candidate to submit their responses on an item-by-item basis. In simultaneous mode the candidate's responses are all submitted together at the end of the testPart.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n        <h4 class=\\\"toggler closed\\\" data-toggle=\\\"~ .testpart-item-session-control\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Item Session Control\", options) : helperMissing.call(depth0, \"__\", \"Item Session Control\", options)))\n    + \"</h4>\\n\\n\\n<!-- assessmentTest/testPart/itemSessionControl -->\\n        <div class=\\\"testpart-item-session-control toggled\\\">\\n\\n<!-- assessmentTest/testPart/itemSessionControl/maxAttempts -->\\n            <div class=\\\"grid-row\\\">\\n                <div class=\\\"col-5\\\">\\n                    <label for=\\\"testpart-max-attempts\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Max Attempts\", options) : helperMissing.call(depth0, \"__\", \"Max Attempts\", options)))\n    + \"</label>\\n                </div>\\n                <div class=\\\"col-6\\\">\\n                    <input name=\\\"testpart-max-attempts\\\" type=\\\"text\\\" data-increment=\\\"1\\\" data-min=\\\"0\\\" value=\\\"1\\\" data-bind=\\\"itemSessionControl.maxAttempts\\\" data-bind-encoder=\\\"number\\\" />\\n                </div>\\n                <div class=\\\"col-1 help\\\">\\n                    <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n                    <div class=\\\"tooltip-content\\\">\\n                    \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Controls the maximum number of attempts allowed. 0 means unlimited.\", options) : helperMissing.call(depth0, \"__\", \"Controls the maximum number of attempts allowed. 0 means unlimited.\", options)))\n    + \"\\n                    </div>\\n                </div>\\n            </div>\\n\\n<!-- assessmentTest/testPart/itemSessionControl/showFeedback -->\\n            <div class=\\\"grid-row pseudo-label-box\\\">\\n                <div class=\\\"col-5\\\">\\n                    <label for=\\\"testpart-show-feedback\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Show Feedback\", options) : helperMissing.call(depth0, \"__\", \"Show Feedback\", options)))\n    + \"</label>\\n                </div>\\n                <div class=\\\"col-6\\\">\\n                    <label>\\n                        <input type=\\\"checkbox\\\" name=\\\"testpart-show-feedback\\\" value=\\\"true\\\" data-bind=\\\"itemSessionControl.showFeedback\\\" data-bind-encoder=\\\"boolean\\\" />\\n                        <span class=\\\"icon-checkbox\\\" />\\n                    </label>\\n                </div>\\n                <div class=\\\"col-1 help\\\">\\n                    <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n                    <div class=\\\"tooltip-content\\\">\\n                    \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"This constraint affects the visibility of feedback after the end of the last attempt.\", options) : helperMissing.call(depth0, \"__\", \"This constraint affects the visibility of feedback after the end of the last attempt.\", options)))\n    + \"\\n                    </div>\\n                </div>\\n            </div>\\n\\n\\n\\n\\n\\n<!-- assessmentTest/testPart/itemSessionControl/allowComment -->\\n            <div class=\\\"grid-row pseudo-label-box\\\">\\n                <div class=\\\"col-5\\\">\\n                    <label for=\\\"testpart-allow-comment\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Allow Comment\", options) : helperMissing.call(depth0, \"__\", \"Allow Comment\", options)))\n    + \"</label>\\n                </div>\\n                <div class=\\\"col-6\\\">\\n                    <label>\\n                        <input type=\\\"checkbox\\\" name=\\\"testpart-allow-comment\\\" value=\\\"true\\\" data-bind=\\\"itemSessionControl.allowComment\\\" data-bind-encoder=\\\"boolean\\\" />\\n                        <span class=\\\"icon-checkbox\\\" />\\n                    </label>\\n                </div>\\n                <div class=\\\"col-1 help\\\">\\n                    <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n                    <div class=\\\"tooltip-content\\\">\\n                    \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"This constraint controls whether or not the candidate is allowed to provide a comment on the item during the session. Comments are not part of the assessed responses.\", options) : helperMissing.call(depth0, \"__\", \"This constraint controls whether or not the candidate is allowed to provide a comment on the item during the session. Comments are not part of the assessed responses.\", options)))\n    + \"\\n                    </div>\\n                </div>\\n            </div>\\n\\n<!-- assessmentTest/testPart/itemSessionControl/allowSkipping -->\\n            <div class=\\\"grid-row pseudo-label-box\\\">\\n                <div class=\\\"col-5\\\">\\n                    <label for=\\\"testpart-allow-skipping\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Allow Skipping\", options) : helperMissing.call(depth0, \"__\", \"Allow Skipping\", options)))\n    + \"</label>\\n                </div>\\n                <div class=\\\"col-6\\\">\\n                    <label>\\n                        <input type=\\\"checkbox\\\" name=\\\"testpart-allow-skipping\\\" value=\\\"true\\\" checked=\\\"checked\\\"  data-bind=\\\"itemSessionControl.allowSkipping\\\" data-bind-encoder=\\\"boolean\\\"   />\\n                        <span class=\\\"icon-checkbox\\\" />\\n                    </label>\\n                </div>\\n                <div class=\\\"col-1 help\\\">\\n                    <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n                    <div class=\\\"tooltip-content\\\">\\n                    \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"If the candidate can skip the item, without submitting a response.\", options) : helperMissing.call(depth0, \"__\", \"If the candidate can skip the item, without submitting a response.\", options)))\n    + \"\\n                    </div>\\n                </div>\\n            </div>\\n\\n\\n        </div>\\n\\n        <h4 class=\\\"toggler closed\\\" data-toggle=\\\"~ .testpart-time-limits\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Time Limits\", options) : helperMissing.call(depth0, \"__\", \"Time Limits\", options)))\n    + \"</h4>\\n\\n<!-- assessmentTest/testPart/timeLimits/minTime -->\\n        <div class=\\\"testpart-time-limits toggled\\\">\\n\\n\\n\\n<!-- assessmentTest/testPart/timeLimits/maxTime -->\\n            <div class=\\\"grid-row\\\">\\n                <div class=\\\"col-5\\\">\\n                    <label for=\\\"testpart-max-time\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Maximum Duration\", options) : helperMissing.call(depth0, \"__\", \"Maximum Duration\", options)))\n    + \"</label>\\n                </div>\\n                <div class=\\\"col-6\\\">\\n                    <input type=\\\"text\\\" name=\\\"max-time\\\" value=\\\"00:00:00\\\" data-duration=\\\"HH:mm:ss\\\" data-bind=\\\"timeLimits.maxTime\\\" data-bind-encoder=\\\"time\\\" />\\n                </div>\\n                <div class=\\\"col-1 help\\\">\\n                    <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n                    <div class=\\\"tooltip-content\\\">\\n                    \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Maximum duration for this test part.\", options) : helperMissing.call(depth0, \"__\", \"Maximum duration for this test part.\", options)))\n    + \"\\n                    </div>\\n                </div>\\n            </div>\\n\\n<!-- assessmentTest/testPart/timeLimits/allowLateSubmission -->\\n            <div class=\\\"grid-row pseudo-label-box\\\">\\n                <div class=\\\"col-5\\\">\\n                    <label for=\\\"testpart-allow-late-submission\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Late submission allowed\", options) : helperMissing.call(depth0, \"__\", \"Late submission allowed\", options)))\n    + \"</label>\\n                </div>\\n                <div class=\\\"col-6\\\">\\n                    <label>\\n                        <input type=\\\"checkbox\\\" name=\\\"section-allow-late-submission\\\" value=\\\"true\\\" data-bind=\\\"timeLimits.allowLateSubmission\\\" data-bind-encoder=\\\"boolean\\\" />\\n                        <span class=\\\"icon-checkbox\\\" />\\n                    </label>\\n                </div>\\n                <div class=\\\"col-1 help\\\">\\n                    <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n                    <div class=\\\"tooltip-content\\\">\\n                    \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Whether a candidate's response that is beyond the maximum duration of the test part should still be accepted.\", options) : helperMissing.call(depth0, \"__\", \"Whether a candidate's response that is beyond the maximum duration of the test part should still be accepted.\", options)))\n    + \"\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </form>\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/controller/creator/templates/section-props', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing;\n\n\n  buffer += \"<div id=\\\"section-props-\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"section-props props clearfix\\\">\\n    <h3>\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h3>\\n\\n<!-- assessmentTest/testPart/assessmentSection/identifier -->\\n    <div class=\\\"grid-row\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"section-identifier\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Identifier\", options) : helperMissing.call(depth0, \"__\", \"Identifier\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr></label>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n            <input type=\\\"text\\\" name=\\\"section-identifier\\\" data-bind=\\\"identifier\\\" data-validate=\\\"$notEmpty; $idFormat; $testIdAvailable(original=\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \");\\\" />\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"The identifier of the section.\", options) : helperMissing.call(depth0, \"__\", \"The identifier of the section.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/title -->\\n    <div class=\\\"grid-row\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"section-title\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Title\", options) : helperMissing.call(depth0, \"__\", \"Title\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr></label>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n            <input type=\\\"text\\\" name=\\\"section-title\\\" data-bind=\\\"title\\\" data-validate=\\\"$notEmpty\\\" />\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"The section title.\", options) : helperMissing.call(depth0, \"__\", \"The section title.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n\\n\\n\\n\\n\\n<!-- assessmentTest/testPart/assessmentSection/visible -->\\n    <div class=\\\"grid-row pseudo-label-box\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"section-visible\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Visible\", options) : helperMissing.call(depth0, \"__\", \"Visible\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr></label>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n            <label>\\n                <input type=\\\"checkbox\\\" name=\\\"section-visible\\\" value=\\\"true\\\" checked=\\\"checked\\\"  data-bind=\\\"visible\\\" data-bind-encoder=\\\"boolean\\\" />\\n                <span class=\\\"icon-checkbox\\\"></span>\\n            </label>\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"A visible section is one that is identifiable by the candidate.\", options) : helperMissing.call(depth0, \"__\", \"A visible section is one that is identifiable by the candidate.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/keepTogether -->\\n    <div class=\\\"grid-row pseudo-label-box\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"section-keep-together\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Keep Together\", options) : helperMissing.call(depth0, \"__\", \"Keep Together\", options)))\n    + \"</label>\\n        </div>\\n\\n        <div class=\\\"col-6\\\">\\n            <label>\\n                <input type=\\\"checkbox\\\" name=\\\"section-keep-together\\\" value=\\\"true\\\" checked=\\\"checked\\\"  data-bind=\\\"keepTogether\\\" data-bind-encoder=\\\"boolean\\\" />\\n                <span class=\\\"icon-checkbox\\\"></span>\\n            </label>\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"An invisible section with a parent that is subject to shuffling can specify whether or not its children, which will appear to the candidate as if they were part of the parent, are shuffled as a block or mixed up with the other children of the parent section.\", options) : helperMissing.call(depth0, \"__\", \"An invisible section with a parent that is subject to shuffling can specify whether or not its children, which will appear to the candidate as if they were part of the parent, are shuffled as a block or mixed up with the other children of the parent section.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n\\n    <!-- assessmentTest/testPart/assessmentSection/sectionPart/category -->\\n    <div class=\\\"grid-row\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"section-category\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Categories\", options) : helperMissing.call(depth0, \"__\", \"Categories\", options)))\n    + \"</label>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n            <input type=\\\"text\\\" name=\\\"section-category\\\" />\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Section level category enables configuring the categories of its composing items all at once. A category in gray means that all items have that category. A category in white means that only a few items have that category.\", options) : helperMissing.call(depth0, \"__\", \"Section level category enables configuring the categories of its composing items all at once. A category in gray means that all items have that category. A category in white means that only a few items have that category.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n\\n    <h4 class=\\\"toggler closed\\\" data-toggle=\\\"~ .section-selection\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Selection\", options) : helperMissing.call(depth0, \"__\", \"Selection\", options)))\n    + \"</h4>\\n\\n<!-- assessmentTest/testPart/assessmentSection/selection -->\\n    <div class=\\\"section-selection toggled\\\">\\n\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"section-enable-selection\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Enable selection\", options) : helperMissing.call(depth0, \"__\", \"Enable selection\", options)))\n    + \"</label>\\n            </div>\\n\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"section-enable-selection\\\"  />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n        </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/selection/select -->\\n        <div class=\\\"grid-row\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"section-select\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Select\", options) : helperMissing.call(depth0, \"__\", \"Select\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr></label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <input name=\\\"section-select\\\" type=\\\"text\\\" data-increment=\\\"1\\\" data-min=\\\"0\\\" value=\\\"0\\\" data-bind=\\\"selection.select\\\"  data-bind-encoder=\\\"number\\\" />\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"The number of child elements to be selected.\", options) : helperMissing.call(depth0, \"__\", \"The number of child elements to be selected.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/selection/withReplacement -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"section-with-replacement\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"With Replacement\", options) : helperMissing.call(depth0, \"__\", \"With Replacement\", options)))\n    + \"</label>\\n            </div>\\n\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"section-with-replacement\\\" value=\\\"true\\\" data-bind=\\\"selection.withReplacement\\\"  data-bind-encoder=\\\"boolean\\\" />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"When selecting child elements each element is normally eligible for selection once only.\", options) : helperMissing.call(depth0, \"__\", \"When selecting child elements each element is normally eligible for selection once only.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <h4 class=\\\"toggler closed\\\" data-toggle=\\\"~ .section-ordering\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Ordering\", options) : helperMissing.call(depth0, \"__\", \"Ordering\", options)))\n    + \"</h4>\\n\\n<!-- assessmentTest/testPart/assessmentSection/ordering -->\\n    <div class=\\\"section-ordering toggled\\\">\\n<!-- assessmentTest/testPart/assessmentSection/ordering/shuffle -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"section-shuffle\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Shuffle\", options) : helperMissing.call(depth0, \"__\", \"Shuffle\", options)))\n    + \"</label>\\n            </div>\\n\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"section-shuffle\\\" value=\\\"true\\\" data-bind=\\\"ordering.shuffle\\\"  data-bind-encoder=\\\"boolean\\\"  />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"If set, it causes the order of the child elements to be randomized, otherwise it uses the order in which the child elements are defined.\", options) : helperMissing.call(depth0, \"__\", \"If set, it causes the order of the child elements to be randomized, otherwise it uses the order in which the child elements are defined.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <h4 class=\\\"toggler closed\\\" data-toggle=\\\"~ .section-item-session-control\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Item Session Control\", options) : helperMissing.call(depth0, \"__\", \"Item Session Control\", options)))\n    + \"</h4>\\n\\n<!-- assessmentTest/testPart/assessmentSection/itemSessionControl -->\\n    <div class=\\\"section-item-session-control toggled\\\">\\n<!-- assessmentTest/testPart/assessmentSection/itemSessionControl/maxAttempts -->\\n        <div class=\\\"grid-row\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"section-max-attempts\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Max Attempts\", options) : helperMissing.call(depth0, \"__\", \"Max Attempts\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <input name=\\\"section-max-attempts\\\" type=\\\"text\\\" data-increment=\\\"1\\\" data-min=\\\"0\\\" value=\\\"1\\\" data-bind=\\\"itemSessionControl.maxAttempts\\\" data-bind-encoder=\\\"number\\\" />\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Controls the maximum number of attempts allowed. 0 means unlimited.\", options) : helperMissing.call(depth0, \"__\", \"Controls the maximum number of attempts allowed. 0 means unlimited.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/itemSessionControl/showFeedback -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"section-show-feedback\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Show Feedback\", options) : helperMissing.call(depth0, \"__\", \"Show Feedback\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"section-show-feedback\\\" value=\\\"true\\\" data-bind=\\\"itemSessionControl.showFeedback\\\" data-bind-encoder=\\\"boolean\\\" />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"This constraint affects the visibility of feedback after the end of the last attempt.\", options) : helperMissing.call(depth0, \"__\", \"This constraint affects the visibility of feedback after the end of the last attempt.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n\\n\\n\\n\\n<!-- assessmentTest/testPart/assessmentSection/itemSessionControl/allowComment -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"section-allow-comment\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Allow Comment\", options) : helperMissing.call(depth0, \"__\", \"Allow Comment\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"section-allow-comment\\\" value=\\\"true\\\"  data-bind=\\\"itemSessionControl.allowComment\\\" data-bind-encoder=\\\"boolean\\\" />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"This constraint controls whether or not the candidate is allowed to provide a comment on the item during the session. Comments are not part of the assessed responses.\", options) : helperMissing.call(depth0, \"__\", \"This constraint controls whether or not the candidate is allowed to provide a comment on the item during the session. Comments are not part of the assessed responses.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/itemSessionControl/allowSkipping -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"section-allow-skipping\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Allow Skipping\", options) : helperMissing.call(depth0, \"__\", \"Allow Skipping\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"section-allow-skipping\\\" value=\\\"true\\\" checked=\\\"checked\\\" data-bind=\\\"itemSessionControl.allowSkipping\\\" data-bind-encoder=\\\"boolean\\\" />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"If the candidate can skip the item, without submitting a response.\", options) : helperMissing.call(depth0, \"__\", \"If the candidate can skip the item, without submitting a response.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n\\n    </div>\\n\\n    <h4 class=\\\"toggler closed\\\" data-toggle=\\\"~ .section-time-limits\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Time Limits\", options) : helperMissing.call(depth0, \"__\", \"Time Limits\", options)))\n    + \"</h4>\\n\\n<!-- assessmentTest/timeLimits -->\\n    <div class=\\\"section-time-limits toggled\\\">\\n\\n\\n\\n\\n<!-- assessmentTest/testPart/assessmentSection/timeLimits/maxTime -->\\n        <div class=\\\"grid-row\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"section-max-time\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Maximum Duration\", options) : helperMissing.call(depth0, \"__\", \"Maximum Duration\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <input type=\\\"text\\\" name=\\\"max-time\\\" value=\\\"00:00:00\\\" data-duration=\\\"HH:mm:ss\\\" data-bind=\\\"timeLimits.maxTime\\\" data-bind-encoder=\\\"time\\\" />\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Maximum duration for this section.\", options) : helperMissing.call(depth0, \"__\", \"Maximum duration for this section.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/timeLimits/allowLateSubmission -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"section-allow-late-submission\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Late submission allowed\", options) : helperMissing.call(depth0, \"__\", \"Late submission allowed\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"section-allow-late-submission\\\" value=\\\"true\\\" data-bind=\\\"timeLimits.allowLateSubmission\\\" data-bind-encoder=\\\"boolean\\\" />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span>\\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Whether a candidate's response that is beyond the maximum duration of the section should still be accepted.\", options) : helperMissing.call(depth0, \"__\", \"Whether a candidate's response that is beyond the maximum duration of the section should still be accepted.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/controller/creator/templates/itemref-props', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing;\n\n\n  buffer += \"<div id=\\\"itemref-props-\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"itemref-props props clearfix\\\">\\n\\n    <h3>\";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h3>\\n\\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/identifier -->\\n    <div class=\\\"grid-row\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"itemref-identifier\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Identifier\", options) : helperMissing.call(depth0, \"__\", \"Identifier\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr></label>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n            <input type=\\\"text\\\" name=\\\"itemref-identifier\\\" data-bind=\\\"identifier\\\" data-validate=\\\"$notEmpty; $testIdFormat; $testIdAvailable(original=\";\n  if (helper = helpers.identifier) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.identifier); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \");\\\" />\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"The identifier of the item reference.\", options) : helperMissing.call(depth0, \"__\", \"The identifier of the item reference.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/href -->\\n    <div class=\\\"grid-row\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"itemref-href\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Reference\", options) : helperMissing.call(depth0, \"__\", \"Reference\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr></label>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n            <input type=\\\"text\\\" name=\\\"itemref-href\\\" data-bind=\\\"href\\\" readonly=\\\"readonly\\\" />\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"The reference.\", options) : helperMissing.call(depth0, \"__\", \"The reference.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n    \\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/category -->\\n    <div class=\\\"grid-row\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"itemref-category\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Categories\", options) : helperMissing.call(depth0, \"__\", \"Categories\", options)))\n    + \"</label>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n            <input type=\\\"text\\\" name=\\\"itemref-category\\\" data-bind=\\\"categories\\\" data-bind-encoder=\\\"str2array\\\" />\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Items can optionally be assigned to one or more categories.\", options) : helperMissing.call(depth0, \"__\", \"Items can optionally be assigned to one or more categories.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/required -->\\n    <div class=\\\"grid-row pseudo-label-box\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"itemref-required\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required\", options) : helperMissing.call(depth0, \"__\", \"Required\", options)))\n    + \"</label>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n            <label>\\n                <input type=\\\"checkbox\\\" name=\\\"itemref-required\\\" value=\\\"true\\\" data-bind=\\\"required\\\" data-bind-encoder=\\\"boolean\\\" />\\n                <span class=\\\"icon-checkbox\\\"></span>\\n            </label>\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"If required it must appear (at least once) in the selection.\", options) : helperMissing.call(depth0, \"__\", \"If required it must appear (at least once) in the selection.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/fixed -->\\n    <div class=\\\"grid-row pseudo-label-box\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"itemref-fixed\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Fixed\", options) : helperMissing.call(depth0, \"__\", \"Fixed\", options)))\n    + \"</label>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n            <label>\\n                <input type=\\\"checkbox\\\" name=\\\"itemref-fixed\\\" value=\\\"true\\\" data-bind=\\\"fixed\\\" data-bind-encoder=\\\"boolean\\\" />\\n                <span class=\\\"icon-checkbox\\\"></span>\\n            </label>\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Not shuffled, the position remains fixed.\", options) : helperMissing.call(depth0, \"__\", \"Not shuffled, the position remains fixed.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n\\n\\n    <h4 class=\\\"toggler closed\\\" data-toggle=\\\"~ .itemref-item-session-control\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Item Session Control\", options) : helperMissing.call(depth0, \"__\", \"Item Session Control\", options)))\n    + \"</h4>\\n\\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/itemSessionControl -->\\n    <div class=\\\"itemref-item-session-control toggled\\\">\\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/itemSessionControl/maxAttempts -->\\n        <div class=\\\"grid-row\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"itemref-max-attempts\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Max Attempts\", options) : helperMissing.call(depth0, \"__\", \"Max Attempts\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <input name=\\\"itemref-max-attempts\\\" type=\\\"text\\\" data-increment=\\\"1\\\" data-min=\\\"0\\\" value=\\\"1\\\" data-bind=\\\"itemSessionControl.maxAttempts\\\" data-bind-encoder=\\\"number\\\" />\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Controls the maximum number of attempts allowed. 0 means unlimited.\", options) : helperMissing.call(depth0, \"__\", \"Controls the maximum number of attempts allowed. 0 means unlimited.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/itemSessionControl/showFeedback -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"itemref-show-feedback\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Show Feedback\", options) : helperMissing.call(depth0, \"__\", \"Show Feedback\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"itemref-show-feedback\\\" value=\\\"true\\\" data-bind=\\\"itemSessionControl.showFeedback\\\" data-bind-encoder=\\\"boolean\\\" />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"This constraint affects the visibility of feedback after the end of the last attempt.\", options) : helperMissing.call(depth0, \"__\", \"This constraint affects the visibility of feedback after the end of the last attempt.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n\\n\\n\\n\\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/itemSessionControl/allowComment -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"itemref-allow-comment\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Allow Comment\", options) : helperMissing.call(depth0, \"__\", \"Allow Comment\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"itemref-allow-comment\\\" value=\\\"true\\\"  data-bind=\\\"itemSessionControl.allowComment\\\" data-bind-encoder=\\\"boolean\\\" />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"This constraint controls whether or not the candidate is allowed to provide a comment on the item during the session. Comments are not part of the assessed responses.\", options) : helperMissing.call(depth0, \"__\", \"This constraint controls whether or not the candidate is allowed to provide a comment on the item during the session. Comments are not part of the assessed responses.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/itemSessionControl/allowSkipping -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"itemref-allow-skipping\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Allow Skipping\", options) : helperMissing.call(depth0, \"__\", \"Allow Skipping\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"itemref-allow-skipping\\\" value=\\\"true\\\" checked=\\\"checked\\\" data-bind=\\\"itemSessionControl.allowSkipping\\\" data-bind-encoder=\\\"boolean\\\" />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"If the candidate can skip the item, without submitting a response.\", options) : helperMissing.call(depth0, \"__\", \"If the candidate can skip the item, without submitting a response.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n\\n    </div>\\n\\n    <h4 class=\\\"toggler closed\\\" data-toggle=\\\"~ .itemref-time-limits\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Time Limits\", options) : helperMissing.call(depth0, \"__\", \"Time Limits\", options)))\n    + \"</h4>\\n\\n<!-- assessmentTest/timeLimits -->\\n    <div class=\\\"itemref-time-limits toggled\\\">\\n\\n\\n\\n\\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/timeLimits/maxTime -->\\n        <div class=\\\"grid-row\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"itemref-max-time\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Maximum Duration\", options) : helperMissing.call(depth0, \"__\", \"Maximum Duration\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <input type=\\\"text\\\" name=\\\"max-time\\\" value=\\\"00:00:00\\\" data-duration=\\\"HH:mm:ss\\\" data-bind=\\\"timeLimits.maxTime\\\" data-bind-encoder=\\\"time\\\" />\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Maximum duration for this item.\", options) : helperMissing.call(depth0, \"__\", \"Maximum duration for this item.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n\\n<!-- assessmentTest/testPart/assessmentSection/sectionPart/timeLimits/allowLateSubmission -->\\n        <div class=\\\"grid-row pseudo-label-box\\\">\\n            <div class=\\\"col-5\\\">\\n                <label for=\\\"itemref-allow-late-submission\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Late submission allowed\", options) : helperMissing.call(depth0, \"__\", \"Late submission allowed\", options)))\n    + \"</label>\\n            </div>\\n            <div class=\\\"col-6\\\">\\n                <label>\\n                    <input type=\\\"checkbox\\\" name=\\\"itemref-allow-late-submission\\\" value=\\\"true\\\" data-bind=\\\"timeLimits.allowLateSubmission\\\" data-bind-encoder=\\\"boolean\\\" />\\n                    <span class=\\\"icon-checkbox\\\"></span>\\n                </label>\\n            </div>\\n            <div class=\\\"col-1 help\\\">\\n                <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n                <div class=\\\"tooltip-content\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Whether a candidate's response that is beyond the maximum duration of the item should still be accepted.\", options) : helperMissing.call(depth0, \"__\", \"Whether a candidate's response that is beyond the maximum duration of the item should still be accepted.\", options)))\n    + \"\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/controller/creator/templates/rubricblock-props', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, functionType=\"function\";\n\n\n  buffer += \"<div class=\\\"rubricblock-props props clearfix\\\">\\n\\n    <h3>\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Rubric Block\", options) : helperMissing.call(depth0, \"__\", \"Rubric Block\", options)))\n    + \": \";\n  if (helper = helpers.index) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.index); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</h3>\\n\\n <!--assessmentTest/testPart/assessmentSection/sectionPart/rubrickBlocK/views -->\\n    <div class=\\\"grid-row\\\">\\n        <div class=\\\"col-5\\\">\\n            <label for=\\\"itemref-identifier\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Views\", options) : helperMissing.call(depth0, \"__\", \"Views\", options)))\n    + \" <abbr title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Required field\", options) : helperMissing.call(depth0, \"__\", \"Required field\", options)))\n    + \"\\\">*</abbr></label>\\n        </div>\\n        <div class=\\\"col-6\\\">\\n            <select name=\\\"view\\\" multiple=\\\"multiple\\\" data-bind=\\\"views\\\">\\n                <option value=\\\"author\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Author\", options) : helperMissing.call(depth0, \"__\", \"Author\", options)))\n    + \"</option>\\n                <option value=\\\"candidate\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Candidate\", options) : helperMissing.call(depth0, \"__\", \"Candidate\", options)))\n    + \"</option>\\n                <option value=\\\"proctor\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Proctor\", options) : helperMissing.call(depth0, \"__\", \"Proctor\", options)))\n    + \"</option>\\n                <option value=\\\"scorer\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Scorer\", options) : helperMissing.call(depth0, \"__\", \"Scorer\", options)))\n    + \"</option>\\n                <option value=\\\"testConstructor\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Test constructor\", options) : helperMissing.call(depth0, \"__\", \"Test constructor\", options)))\n    + \"</option>\\n                <option value=\\\"tutor\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Tutor\", options) : helperMissing.call(depth0, \"__\", \"Tutor\", options)))\n    + \"</option>\\n            </select>\\n        </div>\\n        <div class=\\\"col-1 help\\\">\\n            <span class=\\\"icon-help\\\" data-tooltip=\\\"~ .tooltip-content\\\" data-tooltip-theme=\\\"info\\\"></span> \\n            <div class=\\\"tooltip-content\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Who can view the rubric block during the delivery.\", options) : helperMissing.call(depth0, \"__\", \"Who can view the rubric block during the delivery.\", options)))\n    + \"\\n            </div>\\n        </div>\\n    </div>\\n\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","define('taoQtiTest/controller/creator/templates/index',[\n'tpl!taoQtiTest/controller/creator/templates/testpart',\n'tpl!taoQtiTest/controller/creator/templates/section', \n'tpl!taoQtiTest/controller/creator/templates/rubricblock', \n'tpl!taoQtiTest/controller/creator/templates/itemref',\n'tpl!taoQtiTest/controller/creator/templates/item',\n'tpl!taoQtiTest/controller/creator/templates/test-props',\n'tpl!taoQtiTest/controller/creator/templates/testpart-props', \n'tpl!taoQtiTest/controller/creator/templates/section-props', \n'tpl!taoQtiTest/controller/creator/templates/itemref-props', \n'tpl!taoQtiTest/controller/creator/templates/rubricblock-props'], \n\nfunction(testPart, section, rubricBlock, itemRef, item, testProps, testPartProps, sectionProps, itemRefProps, rubricBlockProps){\n    'use strict';\n\n    /**\n     * Expose all the templates used by the test creator\n     * @exports taoQtiTest/controller/creator/templates/index\n     */\n    return {\n        'testpart'      : testPart,\n        'section'       : section,\n        'itemref'       : itemRef,\n        'item'          : item,\n        'rubricblock'   : rubricBlock,\n        'properties'    : {\n            'test'      : testProps,\n            'testpart'  : testPartProps,\n            'section'   : sectionProps,\n            'itemref'   : itemRefProps,\n            'rubricblock'   : rubricBlockProps\n        }\n    };\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n */\n\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/creator/views/item',['jquery', 'taoQtiTest/controller/creator/templates/index'], function($, templates){\n    'use strict';\n  \n    var itemTemplate = templates.item;\n \n   /**\n     * The ItemView setup items related components\n     * @exports taoQtiTest/controller/creator/views/item\n     * @param {Function} loadItems - the function used to get items from the server\n     */\n   var itemView =  function(loadItems){\n            \n        var $panel     = $('.test-creator-items .item-selection'); \n        var $search    = $('#item-filter');\n        var $itemBox   = $('.item-box', $panel);\n        \n        if(typeof loadItems === 'function'){\n            //search pattern is empty the 1st time, give it undefined\n            loadItems(undefined, function(items){\n                update(items);\n                setUpLiveSearch();\n            });\n        }\n        \n        /**\n         * Set up the search behavior: once 3 chars are enters into the field,\n         * we load the items that matches the given search pattern.\n         * @private\n         */\n        function setUpLiveSearch (){\n            var timeout;\n            \n            var liveSearch = function(){\n                var pattern = $search.val();\n                if(pattern.length > 1 || pattern.length === 0){\n                    clearTimeout(timeout);\n                    timeout = setTimeout(function(){\n                        loadItems(pattern, function(items){\n                            update(items);\n                        });\n                    }, 300);\n                }\n            };\n            \n            //trigger the search on keyp and on the magnifer button click\n            $search.keyup(liveSearch)\n                     .siblings('.ctrl').click(liveSearch);\n        }\n        \n        /**\n         * Update the items list\n         * @private\n         * @param {Array} items - the new items\n         */\n        function update (items){\n            disableSelection();\n            $itemBox.empty().append(itemTemplate(items));\n            enableSelection();\n        }\n    \n        /**\n         * Disable the selectable component\n         * @private\n         * @param {Array} items - the new items\n         */\n        function disableSelection (){\n            if($panel.data('selectable')){\n                $panel.selectable('disable');\n            }\n        }\n    \n        /**\n         * Enable to select items to be added to sections\n         * using the jquery-ui selectable.\n         * @private\n         */\n        function enableSelection (){\n            \n            if($panel.data('selectable')){\n                $panel.selectable('enable');\n            } else {\n                $panel.selectable({\n                    filter: 'li',\n                    selected: function( event, ui ) {\n                        $(ui.selected).addClass('selected');\n                    },\n                    unselected: function( event, ui ) {\n                        $(ui.unselected).removeClass('selected');\n                    },\n                    stop: function(){\n                        $(this).trigger('itemselect.creator', $('.selected')); \n                    }\n                });\n            }\n        }\n   };\n    \n    return itemView;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n */\n\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/creator/views/property',[\n'jquery', \n'ui', \n'core/databinder', \n'taoQtiTest/controller/creator/templates/index'], \nfunction($, ui, DataBinder, templates){\n    'use strict';\n\n    /**\n     * @callback PropertyViewCallback\n     * @param {propertyView} propertyView - the view object \n     */\n   \n    /**\n     * The PropertyView setup the property panel component\n     * \n     * @exports taoQtiTest/controller/creator/views/property\n     */\n   var propView = function propView(tmplName, model){\n       var $container = $('.test-creator-props');\n       var template = templates.properties[tmplName];\n       var $view;       \n\n       /**\n        * Opens the view for the 1st time\n        */ \n       var open = function propOpen(){\n            var databinder;\n            $container.children('.props').hide().trigger('propclose.propview');\n            $view = $(template(model)).appendTo($container).filter('.props'); \n            \n            //start listening for DOM compoenents inside the view\n            ui.startDomComponent($view);\n\n            //start the data binding\n            databinder = new DataBinder($view, model);\n            databinder.bind();\n    \n            propValidation(); \n\n            $view.trigger('propopen.propview');\n       };\n\n       /**\n        * Get the view container element\n        * @returns {jQueryElement}\n        */  \n       var getView = function propGetView(){\n            return $view;\n       };\n           \n       /**\n        * Check wheter the view is displayed\n        * @returns {boolean} true id opened\n        */  \n       var isOpen = function propIsOpen(){\n            return $view.css('display') !== 'none';\n       };\n\n       /**\n        * Bind a callback on view open\n        * @param {PropertyViewCallback} cb\n        */  \n       var onOpen = function propOnOpen(cb){\n            $view.on('propopen.propview', function(e){\n                e.stopPropagation();\n                cb(); \n            });\n       };\n\n       \n       /**\n        * Bind a callback on view close\n        * @param {PropertyViewCallback} cb\n        */  \n       var onClose = function propOnClose(cb){\n            $view.on('propclose.propview', function(e){\n                e.stopPropagation();\n                cb(); \n            });\n       };\n\n       /**\n        * Removes the property view\n        */  \n       var destroy = function propDestroy(){\n            $view.remove();\n       };\n       \n       /**\n        * Toggles the property view display\n        */  \n       var toggle = function propToggle(){\n            $container.children('.props').not($view).hide().trigger('propclose.propview');\n            if(isOpen()){\n                $view.hide().trigger('propclose.propview');\n            } else {\n                $view.show().trigger('propopen.propview');\n            }\n       };\n      \n       /**\n        * Set up the validation on the property view\n        * @private\n        */  \n       function propValidation() {\n            $view.on('validated.group', function(e, isValid){\n                if(e.namespace === 'group'){\n                    var $togglers = $('#test-creator .property-toggler, #saver');\n                    if(isValid === true){\n                        $togglers.removeClass('disabled');\n                    } else {\n                        $togglers.addClass('disabled');\n                    }\n                }\n            });\n            $view.groupValidator();\n        }\n\n      return {\n        open : open,\n        getView : getView,\n        isOpen : isOpen,\n        onOpen : onOpen,\n        onClose : onClose,\n        destroy : destroy,\n        toggle : toggle\n      }; \n   };\n\n   return propView;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n */\n\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/creator/views/actions',[\n'jquery',\n'taoQtiTest/controller/creator/views/property'],\nfunction($, propertyView){\n    'use strict';\n\n    var disabledClass = 'disabled';\n    var activeClass = 'active';\n    var btnOnClass = 'tlb-button-on';\n\n    /**\n     * Set up the property view for an element\n     * @param {jQueryElement} $container - that contains the property opener\n     * @param {String} template - the name of the template to give to the propertyView\n     * @param {Object} model - the model to bind\n     * @param {PropertyViewCallback} cb - execute at view setup phase\n     */\n    function properties ($container, template, model, cb) {\n        var propView = null;\n        $container.find('.property-toggler').on('click', function(e){\n            e.preventDefault();\n            var $elt = $(this);\n            if(!$(this).hasClass(disabledClass)){\n\n                $elt.blur(); //to remove the focus\n\n                if(propView === null){\n\n                    $container.addClass(activeClass);\n                    $elt.addClass(btnOnClass);\n\n                    propView = propertyView(template, model);\n                    propView.open();\n\n                    propView.onOpen(function(){\n                        $container.addClass(activeClass);\n                        $elt.addClass(btnOnClass);\n                    });\n                    propView.onClose(function(){\n                        $container.removeClass(activeClass);\n                        $elt.removeClass(btnOnClass);\n                    });\n\n                    if(typeof cb === 'function'){\n                        cb(propView);\n                    }\n                } else {\n                    propView.toggle();\n                }\n            }\n        });\n    }\n\n\n    /**\n     * Enable to move an element\n     * @param {jQueryElement} $actionContainer - where the mover is\n     * @param {String} containerClass - the cssClass of the element container\n     * @param {String} elementClass - the cssClass to identify elements\n     */\n    function move ($actionContainer, containerClass, elementClass) {\n        var $element = $actionContainer.parents('.' + elementClass);\n        var $container = $element.parents('.' + containerClass );\n\n        //move up an element\n        $('.move-up', $actionContainer).click(function(e){\n            var $elements, index;\n\n            //prevent default and click during animation\n            e.preventDefault();\n            if($element.is(':animated')){\n                return false;\n            }\n\n            //get the position\n            $elements = $('.' + elementClass, $container);\n            index = $elements.index($element);\n            if (index > 0) {\n                $element.fadeOut(200, function(){\n                    $element\n                        .insertBefore($('.' + elementClass + ' :eq(' + (index - 1) + ')', $container))\n                        .fadeIn(400, function(){\n                            $container.trigger('change');\n                        });\n                });\n            }\n        });\n\n        //move down an element\n        $('.move-down', $actionContainer).click(function(e){\n            var $elements, index;\n\n            //prevent default and click during animation\n            e.preventDefault();\n            if($element.is(':animated')){\n                return false;\n            }\n\n            //get the position\n            $elements = $('.' + elementClass, $container);\n            index = $elements.index($element);\n            if (index < ($elements.length - 1) && $elements.length > 1) {\n                $element.fadeOut(200, function(){\n                    $element\n                        .insertAfter($('.' + elementClass + ' :eq(' + (index + 1) + ')', $container))\n                        .fadeIn(400, function(){\n                            $container.trigger('change');\n                        });\n                });\n            }\n        });\n    }\n\n    /**\n     * Update the movable state of an element\n     * @param {jQueryElement} $container - the movable elements (scopped)\n     * @param {String} elementClass - the cssClass to identify elements\n     * @param {String} actionContainerElt - the element name that contains the actions\n     */\n    function movable ($container, elementClass, actionContainerElt){\n        $container.each(function(){\n            var $elt = $(this);\n            var $actionContainer = $(actionContainerElt, $elt);\n\n            var index = $container.index($elt);\n            var $moveUp = $('.move-up', $actionContainer);\n            var $moveDown = $('.move-down', $actionContainer);\n\n            //only one test part, no moving\n            if( $container.length === 1 ){\n                $moveUp.addClass(disabledClass);\n                $moveDown.addClass(disabledClass);\n\n            //testpart is the first, only moving down\n            } else if(index === 0) {\n                $moveUp.addClass(disabledClass);\n                $moveDown.removeClass(disabledClass);\n\n            //testpart is the lasst, only moving up\n            } else if ( index >= ($container.length - 1) ) {\n                $moveDown.addClass(disabledClass);\n                $moveUp.removeClass(disabledClass);\n\n            //or enable moving top/bottom\n            } else {\n                $moveUp.removeClass(disabledClass);\n                $moveDown.removeClass(disabledClass);\n            }\n         });\n    }\n\n    /**\n     * Update the removable state of an element\n     * @param {jQueryElement} $container - that contains the removable action\n     * @param {String} actionContainerElt - the element name that contains the actions\n     */\n    function removable ($container, actionContainerElt){\n        $container.each(function(){\n            var $elt = $(this);\n            var $actionContainer = $(actionContainerElt, $elt);\n            var $delete = $('[data-delete]', $actionContainer);\n\n            if($container.length <= 1){\n                $delete.addClass(disabledClass);\n            } else {\n                $delete.removeClass(disabledClass);\n            }\n        });\n    }\n\n    /**\n     * Disable all the actions of the target\n     * @param {jQueryElement} $container - that contains the the actions\n     * @param {String} actionContainerElt - the element name that contains the actions\n     */\n    function disable($container, actionContainerElt){\n        $container.find(actionContainerElt).find('[data-delete],.move-up,.move-down').addClass(disabledClass);\n    }\n\n    /**\n     * Enable all the actions of the target\n     * @param {jQueryElement} $container - that contains the the actions\n     * @param {String} actionContainerElt - the element name that contains the actions\n     */\n    function enable($container, actionContainerElt){\n        $container.find(actionContainerElt).find('[data-delete],.move-up,.move-down').removeClass(disabledClass);\n    }\n\n    /**\n     * The actions gives you shared behavior for some actions.\n     *\n     * @exports taoQtiTest/controller/creator/views/actions\n     */\n    return {\n        properties  : properties,\n        move        : move,\n        removable   : removable,\n        movable     : movable,\n        disable     : disable,\n        enable      : enable\n    };\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n */\n\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/creator/views/itemref',[\n'jquery',\n'lodash', \n'i18n',\n'taoQtiTest/controller/creator/views/actions'],\nfunction($, _, __, actions){\n    'use strict';\n\n   /**\n    * Set up an item ref: init action beahviors. Called for each one.\n    *\n    * @param {jQueryElement} $itemRef - the itemRef element to set up\n    * @param {Object} model - the data model to bind to the ref\n    */\n   var setUp =  function setUp ($itemRef, model){\n\n        var $actionContainer = $('.actions', $itemRef);\n        \n        actions.properties($actionContainer, 'itemref', model, propHandler);\n        actions.move($actionContainer, 'itemrefs', 'itemref');\n\n        resize();\n\n        /**\n         * Perform some binding once the property view is create\n         * @private\n         * @param {propView} propView - the view object\n         */\n        function propHandler (propView) {\n\n            categoriesProperty(propView.getView());\n            \n            $itemRef.parents('.testpart').on('delete', removePropHandler);\n            $itemRef.parents('.section').on('delete', removePropHandler);\n            $itemRef.on('delete', removePropHandler);\n            \n            function removePropHandler(e){\n                if(propView !== null){\n                    propView.destroy();\n                }\n            }\n        }\n\n        /**\n         * Set up the category property\n         * @private\n         * @param {jQueryElement} $view - the $view object containing the $select\n         */\n        function categoriesProperty($view){\n            \n            var $select = $view.find('[name=itemref-category]');\n            $select.select2({\n                width: '100%',\n                tags : [],\n                multiple : true,\n                tokenSeparators: [\",\", \" \", \";\"],\n                formatNoMatches : function(){\n                    return __('Enter a category');\n                },\n                maximumInputLength : 32\n            });\n            \n            initCategories();\n            $view.on('propopen.propview', function(){\n                initCategories();\n            });\n            \n            /**\n             * save the categories into the model\n             * @private\n             */\n            function initCategories(){\n                $select.select2('val', model.categories);\n            }\n        }\n   };\n\n   /**\n    * Listen for state changes to enable/disable . Called globally.\n    */\n   var listenActionState =  function listenActionState (){\n\n        var $actionContainer;\n        \n        $('.itemrefs').each(function(){\n            actions.movable($('.itemref', $(this)), 'itemref', '.actions');\n        });\n       \n        $(document)\n        .on('delete', function(e){\n            var $parent;\n            var $target = $(e.target);\n            if($target.hasClass('itemref')){\n                $parent = $target.parents('.itemrefs');\n                actions.disable($parent.find('.itemref'), '.actions');\n           }\n        })\n        .on('add change undo.deleter deleted.deleter', '.itemrefs',  function(e){\n            var $parent;\n            var $target = $(e.target);\n            if($target.hasClass('itemref') || $target.hasClass('itemrefs')){\n                $parent = $('.itemref', $target.hasClass('itemrefs') ? $target : $target.parents('.itemrefs'));\n                actions.enable($parent, '.actions');\n                actions.movable($parent, 'itemref', '.actions');\n            }\n        });\n   };\n\n    /**\n     * We need to resize the itemref in case of long labels\n     */\n    var resize = _.throttle(function resize(){\n        var $refs = $('.itemrefs').first();\n        var $actions = $('.itemref .actions').first();\n        var width = $refs.innerWidth() - $actions.outerWidth();\n        $('.itemref > .title').width(width); \n    }, 100);\n    \n    /**\n     * The itemrefView setup itemref related components and beahvior\n     * \n     * @exports taoQtiTest/controller/creator/views/itemref\n     */\n    return {\n        setUp : setUp,\n        listenActionState: listenActionState,\n        resize : resize\n   };\n \n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sbastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoQtiTest/controller/creator/helpers/ckConfigurator',['ui/ckeditor/ckConfigurator', 'mathJax'], function(ckConfigurator, mathJax) {\n    'use strict';\n\n    /**\n     * Generate a configuration object for CKEDITOR\n     *\n     * @param editor instance of ckeditor\n     * @param toolbarType block | inline | flow | qtiBlock | qtiInline | qtiFlow | reset to get back to normal\n     * @param {Object} [options] - is based on the CKEDITOR config object with some additional sugar\n     *        Note that it's here you need to add parameters for the resource manager.\n     *        Some options are not covered in http://docs.ckeditor.com/#!/api/CKEDITOR.config\n     * @param [options.dtdOverrides] - @see dtdOverrides which pre-defines them\n     * @param {Object} [options.positionedPlugins] - @see ckConfig.positionedPlugins\n     * @param {Boolean} [options.qtiImage] - enables the qtiImage plugin\n     * @param {Boolean} [options.qtiInclude] - enables the qtiInclude plugin\n     * @param {Boolean} [options.underline] - enables the underline plugin\n     * @param {Boolean} [options.mathJax] - enables the mathJax plugin\n     *\n     * @see http://docs.ckeditor.com/#!/api/CKEDITOR.config\n     */\n    var getConfig = function(editor, toolbarType, options){\n        options = options || {};\n\n        options.underline = true;\n\n        return ckConfigurator.getConfig(editor, toolbarType, options);\n    };\n\n    return {\n        getConfig : getConfig\n    };\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n */\n\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/creator/views/rubricblock',[\n    'jquery',\n    'lodash',\n    'taoQtiTest/controller/creator/views/actions',\n    'helpers',\n    'ckeditor',\n    'taoQtiTest/controller/creator/helpers/ckConfigurator'\n], function($, _, actions, helpers, ckeditor, ckConfigurator){ // qtiClasses, creatorRenderer, XmlRenderer, simpleParser){\n    'use strict';\n\n    //compute ckeditor config only once\n    var ckConfig = ckConfigurator.getConfig(ckeditor, 'qtiBlock');\n\n    var filterPlugin = function filterPlugin(plugin){\n        return _.contains(['taoqtiimage', 'taoqtimedia','taoqtimaths', 'taoqtiinclude'], plugin);\n    };\n    ckConfig.plugins = _.reject(ckConfig.plugins.split(','), filterPlugin).join(',');\n    ckConfig.extraPlugins = _.reject(ckConfig.extraPlugins.split(','), filterPlugin).join(',');\n\n    /**\n     * Set up a rubric block: init action beahviors. Called for each one.\n     *\n     * @param {jQueryElement} $rubricBlock - the rubricblock to set up\n     */\n    var setUp = function setUp($rubricBlock, model, data){\n\n        actions.properties($rubricBlock, 'rubricblock', model, propHandler);\n        setUpEditor();\n\n        /**\n         * Perform some binding once the property view is create\n         * @private\n         * @param {propView} propView - the view object\n         */\n        function propHandler(propView){\n\n            rbViews(propView.getView());\n\n            $rubricBlock.parents('.testpart').on('delete', removePropHandler);\n            $rubricBlock.parents('.section').on('delete', removePropHandler);\n            $rubricBlock.on('delete', removePropHandler);\n\n            function removePropHandler(e){\n                if(propView !== null){\n                    propView.destroy();\n                }\n            }\n        }\n\n        /**\n         * Set up the views select box\n         * @private\n         * @param {jQuerElement} $propContainer - the element container\n         */\n        function rbViews($propContainer){\n            var $select = $('select', $propContainer);\n\n            $select.select2({\n                'width' : '100%'\n            }).on(\"select2-removed\", function(e){\n                if($select.select2('val').length === 0){\n                    $select.select2('val', [1]);\n                }\n            });\n\n            if($select.select2('val').length === 0){\n                $select.select2('val', [1]);\n            }\n        }\n\n        /**\n         * Set up ck editor\n         * @private\n         */\n        function setUpEditor(){\n            var editor;\n\n            //we need to synchronize the ck elt with an hidden elt that has data-binding\n            var $rubricBlockBinding = $('.rubricblock-binding', $rubricBlock);\n            var $rubricBlockContent = $('.rubricblock-content', $rubricBlock);\n            var syncRubricBlockContent = _.throttle(function(){\n                 $rubricBlockBinding\n                    .html($rubricBlockContent.html())\n                    .trigger('change');\n            }, 100);\n\n            $rubricBlockContent.empty().html($rubricBlockBinding.html());\n\n            editor = ckeditor.inline($rubricBlockContent[0], ckConfig);\n            editor.on('change', function(e) {\n                syncRubricBlockContent();\n            });\n        }\n    };\n\n    /**\n     * The rubriclockView setup RB related components and beahvior\n     *\n     * @exports taoQtiTest/controller/creator/views/rubricblock\n     */\n    return {\n        setUp : setUp\n    };\n\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/creator/helpers/qtiTest',['lodash', 'i18n'], function(_, __){\n    'use strict';\n\n    /**\n     * Utils to manage the QTI Test model\n     * @exports taoQtiTest/controller/creator/qtiTestHelper\n     */\n    var qtiTestHelper = {\n\n        /**\n         * Extract qti identifiers from a model\n         * @param {Object} obj - the model to extract id from\n         * @returns {Array} the extracted identifiers\n         */\n        extractIdentifiers : function extractIdentifiers(obj){\n            var self = this;\n            var identifiers = [];\n            if(_.has(obj, 'identifier')){\n                identifiers = identifiers.concat(obj.identifier.toLowerCase());\n            }\n            _.flatten(_.forEach(obj, function(value) {\n                identifiers = identifiers.concat(typeof value === \"object\" ? self.extractIdentifiers(value) : []);\n            }), true);\n            return identifiers;\n        },\n\n        /**\n         * Get a valid and avialable qti identifier\n         * @param {String} qtiType - the type of element you want an id for\n         * @param {Array} lockedIdentifiers - the list of identifiers you cannot use anymore\n         * @returns {String} the identifier\n         */\n        getIdentifier : function getIdentifier(qtiType, lockedIdentifiers){\n            var index = 1;\n            var suggestion;\n            var glue =  '-';\n\n            do {\n                suggestion = qtiType +  glue + (index++);\n            } while(_.contains(lockedIdentifiers, suggestion.toLowerCase()));\n\n            lockedIdentifiers.push(suggestion.toLowerCase());\n\n            return suggestion;\n        },\n\n        /**\n         * Gives you a validator that check QTI id format\n         * @returns {Object} the validator\n         */\n        idFormatValidator : function idFormatValidator(){\n            var qtiIdPattern = /^[_a-zA-Z]{1}[a-zA-Z0-9\\-._]{0,31}$/i;\n            return {\n                name : 'idFormat',\n                message : __('is not a valid identifier (alphanum, underscore, dash and dots)'),\n                validate : function(value, callback){\n                    if(typeof callback === 'function'){\n                        callback(qtiIdPattern.test(value));\n                    }\n                }\n            };\n        },\n\n        /**\n         * Gives you a validator that check QTI id format of the test (it is different from the others...)\n         * @returns {Object} the validator\n         */\n        testidFormatValidator : function testidFormatValidator(){\n            var qtiTestIdPattern = /^\\S+$/;\n            return {\n                name : 'testIdFormat',\n                message : __('is not a valid identifier (everything except spaces)'),\n                validate : function(value, callback){\n                    if(typeof callback === 'function'){\n                        callback(qtiTestIdPattern.test(value));\n                    }\n                }\n            };\n        },\n\n        /**\n         * Gives you a validator that check if a QTI id is available\n         * @param {Array} lockedIdentifiers - the list of identifiers you cannot use anymore\n         * @returns {Object} the validator\n         */\n        idAvailableValidator : function idAvailableValidator(lockedIdentifiers){\n            return {\n                name : 'testIdAvailable',\n                message : __('is already used in the test.'),\n                validate : function(value, callback, options){\n                    if(typeof callback === 'function'){\n                        callback(!_.contains(_.values(lockedIdentifiers), value.toLowerCase()) || (options.original && value === options.original));\n                    }\n                }\n            };\n        },\n\n        /**\n         * Does the value contains the type type\n         * @param {Object} value\n         * @param {string} type\n         * @returns {boolean}\n         */\n        filterQtiType : function filterQtiType (value, type){\n             return value['qti-type'] && value['qti-type'] === type;\n        },\n\n        /**\n         * Add the 'qti-type' properties to object that miss it, using the parent key name\n         * @param {Object|Array} collection\n         * @param {string} parentType\n         */\n        addMissingQtiType : function addMissingQtiType(collection, parentType) {\n              var self = this;\n              _.forEach(collection, function(value, key) {\n                if (_.isObject(value) && !_.isArray(value) && !_.has(value, 'qti-type')) {\n                    if (_.isNumber(key)) {\n                        if (parentType) {\n                            value['qti-type'] = parentType;\n                        }\n                    } else {\n                        value['qti-type'] = key;\n                    }\n                }\n                if (_.isArray(value)) {\n                    self.addMissingQtiType(value, key.replace(/s$/, ''));\n                } else if (_.isObject(value)) {\n                   self.addMissingQtiType(value);\n                }\n            });\n        },\n\n        /**\n         * Applies consolidation rules to the model\n         * @param {Object} model\n         * @returns {Object}\n         */\n        consolidateModel : function consolidateModel(model){\n            if(model && model.testParts && _.isArray(model.testParts) && model.testParts[0]){\n                var testPart = model.testParts[0];\n                if(testPart.assessmentSections && _.isArray(testPart.assessmentSections)){\n                     _.forEach(testPart.assessmentSections, function(assessmentSection, key) {\n\n                         //remove ordering is shuffle is false\n                         if(assessmentSection.ordering &&\n                                 assessmentSection.ordering.shuffle !== undefined && assessmentSection.ordering.shuffle === false){\n                             delete assessmentSection.ordering;\n                         }\n\n                          if(assessmentSection.rubricBlocks && _.isArray(assessmentSection.rubricBlocks)) {\n\n                              //remove rubrick blocks if empty\n                              if (assessmentSection.rubricBlocks.length === 0 ||\n                                      (assessmentSection.rubricBlocks.length === 1 && assessmentSection.rubricBlocks[0].content.length === 0) ) {\n\n                                  delete assessmentSection.rubricBlocks;\n                              }\n                              //ensure the view attribute is present\n                              else if(assessmentSection.rubricBlocks.length > 0){\n                                _.forEach(assessmentSection.rubricBlocks, function(rubricBlock){\n                                        rubricBlock.views = ['candidate'];\n                                        //change once views are supported\n                                        //if(rubricBlock && rubricBlock.content && (!rubricBlock.views || (_.isArray(rubricBlock.views) && rubricBlock.views.length === 0))){\n                                            //rubricBlock.views = ['candidate'];\n                                        //}\n                                  });\n                              }\n                        }\n                     });\n                }\n            }\n            return model;\n        }\n    };\n\n    return  qtiTestHelper;\n});\n\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA;\n */\ndefine('taoQtiTest/controller/creator/helpers/sectionCategory',[\n    'lodash',\n    'core/errorHandler'\n], function (_, errorHandler){\n\n    'use strict';\n\n    var _ns = '.sectionCategory';\n    \n    /**\n     * Check if the given object is a valid assessmentSection model object\n     * \n     * @param {object} model\n     * @returns {boolean}\n     */\n    function isValidSectionModel(model){\n        return (_.isObject(model) && model['qti-type'] === 'assessmentSection' && _.isArray(model.sectionParts));\n    }\n    \n    /**\n     * Set an array of categories to the section model (affect the childen itemRef)\n     * \n     * @param {object} model\n     * @param {array} categories\n     * @returns {undefined}\n     */\n    function setCategories(model, categories){\n\n        var oldCategories = getCategories(model);\n        \n        //the categories that are no longer in the new list of categories should be removed\n        var removed = _.difference(oldCategories.all, categories);\n        \n        //the categories that are not in the old categories collection should be added to the children\n        var propagated = _.difference(categories, oldCategories.all);\n        \n        //process the modification\n        addCategories(model, propagated);\n        removeCategories(model, removed);\n    }\n    \n    /**\n     * Get the categories assign to the section model, infered by its interal itemRefs\n     * \n     * @param {object} model\n     * @returns {object}\n     */\n    function getCategories(model){\n\n        if(isValidSectionModel(model)){\n            var categories = _.map(model.sectionParts, function (itemRef){\n                if(itemRef['qti-type'] === 'assessmentItemRef' && _.isArray(itemRef.categories)){\n                    return _.compact(itemRef.categories);\n                }\n            });\n            //array of categories\n            var arrays = _.values(categories);\n            var union = _.union.apply(null, arrays);\n            \n            //categories that are common to all itemRef\n            var propagated = _.intersection.apply(null, arrays);\n            \n            //the categories that are only partially covered on the section level : complementary of \"propagated\"\n            var partial = _.difference(union, propagated);\n            \n            return {\n                all : union.sort(),\n                propagated : propagated.sort(),\n                partial : partial.sort()\n            };\n        }else{\n            errorHandler.throw(_ns, 'invalid tool config format');\n        }\n    }\n    \n    /**\n     * Add an array of categories to a section model (affect the childen itemRef)\n     * \n     * @param {object} model\n     * @param {array} categories\n     * @returns {undefined}\n     */\n    function addCategories(model, categories){\n        if(isValidSectionModel(model)){\n            _.each(model.sectionParts, function (itemRef){\n                if(itemRef['qti-type'] === 'assessmentItemRef'){\n                    if(!_.isArray(itemRef.categories)){\n                        itemRef.categories = [];\n                    }\n                    itemRef.categories = _.union(itemRef.categories, categories);\n                }\n            });\n        }else{\n            errorHandler.throw(_ns, 'invalid tool config format');\n        }\n    }\n    \n    /**\n     * Remove an array of categories from a section model (affect the childen itemRef)\n     * \n     * @param {object} model\n     * @param {array} categories\n     * @returns {undefined}\n     */\n    function removeCategories(model, categories){\n        if(isValidSectionModel(model)){\n            _.each(model.sectionParts, function (itemRef){\n                if(itemRef['qti-type'] === 'assessmentItemRef' && _.isArray(itemRef.categories)){\n                    itemRef.categories = _.difference(itemRef.categories, categories);\n                }\n            });\n        }else{\n            errorHandler.throw(_ns, 'invalid tool config format');\n        }\n    }\n\n    return {\n        isValidSectionModel : isValidSectionModel,\n        setCategories : setCategories,\n        getCategories : getCategories,\n        addCategories : addCategories,\n        removeCategories : removeCategories\n    };\n});\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n */\n\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/creator/views/section',[\n    'jquery',\n    'lodash',\n    'uri',\n    'i18n',\n    'taoQtiTest/controller/creator/views/actions',\n    'taoQtiTest/controller/creator/views/itemref',\n    'taoQtiTest/controller/creator/views/rubricblock',\n    'taoQtiTest/controller/creator/templates/index',\n    'taoQtiTest/controller/creator/helpers/qtiTest',\n    'taoQtiTest/controller/creator/helpers/sectionCategory'\n],\nfunction($, _, uri, __, actions, itemRefView, rubricBlockView, templates, qtiTestHelper, sectionCategory){\n    'use strict';\n\n   /**\n    * Set up a section: init action beahviors. Called for each section.\n    *\n    * @param {jQueryElement} $sectuin - the section to set up\n    * @param {Object} model - the data model to bind to the test part\n    * @param {Object} [data] - additionnal data used by the setup\n    * @param {Array} [data.identifiers] - the locked identifiers\n    */\n   var setUp = function setUp ($section, model, data){\n\n        var $actionContainer = $('h2', $section);\n\n        actions.properties($actionContainer, 'section', model, propHandler);\n        actions.move($actionContainer, 'sections', 'section');\n        itemRefs();\n        acceptItemRefs();\n        rubricBlocks();\n        addRubricBlock();\n\n        //trigger for the case the section is added an a selection is ongoing\n\n\n        /**\n         *  Perform some binding once the property view is create\n         *  @param {propView} propView - the view object\n         */\n        function propHandler (propView) {\n\n            var $view = propView.getView();\n            \n            //enable/disable selection\n            var $selectionSwitcher = $('[name=section-enable-selection]', $view);\n            var $selectionSelect = $('[name=section-select]', $view);\n            var $selectionWithRep = $('[name=section-with-replacement]', $view);\n\n            var switchSelection = function switchSelection(){\n                 if($selectionSwitcher.prop('checked') === true){\n                    $selectionSelect.incrementer('enable');\n                    $selectionWithRep.removeClass('disabled');\n                 } else {\n                    $selectionSelect.incrementer('disable');\n                    $selectionWithRep.addClass('disabled');\n                 }\n            };\n            $selectionSwitcher.on('change', switchSelection);\n            $selectionSwitcher.on('change', function updateModel(){\n                 if(!$selectionSwitcher.prop('checked')){\n                     $selectionSelect.val(0);\n                     $selectionWithRep.prop('checked', false);\n                     delete model.selection;\n                 }\n            });\n\n            $selectionSwitcher.prop('checked', !!model.selection).trigger('change');\n\n            //listen for databinder change to update the test part title\n            var $title =  $('[data-bind=title]', $section);\n            $view.on('change.binder', function(e, model){\n                if(e.namespace === 'binder' && model['qti-type'] === 'assessmentSection'){\n                    $title.text(model.title);\n                }\n            });\n\n            $section.parents('.testpart').on('deleted.deleter', removePropHandler);\n            $section.on('deleted.deleter', removePropHandler);\n            \n            //section level category configuration\n            categoriesProperty($view);\n            \n            function removePropHandler(){\n                if(propView !== null){\n                    propView.destroy();\n                }\n            }\n        }\n        \n        /**\n         * Set up the item refs that already belongs to the section\n         * @private\n         */\n        function itemRefs(){\n\n            if(!model.sectionParts){\n                model.sectionParts = [];\n            }\n            $('.itemref', $section).each(function(){\n                var $itemRef = $(this);\n                var index = $itemRef.data('bind-index');\n                if(!model.sectionParts[index]){\n                    model.sectionParts[index] = {};\n                }\n\n                itemRefView.setUp($itemRef, model.sectionParts[index]);\n                $itemRef.find('.title').text(\n                    data.labels[uri.encode($itemRef.data('uri'))]\n                );\n            });\n        }\n\n        /**\n         * Make the section to accept the selected items\n         * @private\n         */\n        function acceptItemRefs(){\n            var $selected;\n            var $items     = $('.test-creator-items');\n\n             //the item selector trigger a select event\n             $items.on('itemselect.creator', function(e){\n                var selection = Array.prototype.slice.call(arguments, 1);\n                var $placeholder = $('.itemref-placeholder', $section);\n                var $placeholders = $('.itemref-placeholder');\n                \n                if(selection.length > 0){\n                    $placeholder.show().off('click').on('click', function(e){\n                        \n                        //prepare the item data \n                        var categories, \n                            defaultItemData = {};\n                            \n                        if(model.itemSessionControl && !_.isUndefined(model.itemSessionControl.maxAttempts)){\n                            \n                            //for a matter of consistency, the itemRef will \"inherit\" the itemSessionControl configuration from its parent section\n                            defaultItemData.itemSessionControl = _.clone(model.itemSessionControl);\n                        }\n                        \n                        //the itemRef should also \"inherit\" the categories set at the item level\n                        categories = sectionCategory.getCategories(model);\n                        defaultItemData.categories = categories.propagated;\n                            \n                        _.forEach(selection, function(item){\n                            var $item = $(item);\n\n                            addItemRef($('.itemrefs', $section), undefined, _.defaults({\n                                href        : uri.decode($item.data('uri')),\n                                label       : $.trim($item.clone().children().remove().end().text()),\n                                'qti-type'  : 'assessmentItemRef'\n                            }, defaultItemData));\n                        });\n\n                        //reset the current selection\n                        $('.ui-selected', $items).removeClass('ui-selected').removeClass('selected');\n                        $placeholders.hide().off('click');\n                    });\n                } else {\n                    $placeholders.hide().off('click');\n                }\n             });\n\n\n            //we listen the event not from the adder but  from the data binder to be sure the model is up to date\n            $(document)\n              .off('add.binder', '#' + $section.attr('id') + ' .itemrefs')\n              .on('add.binder', '#' + $section.attr('id') + ' .itemrefs', function(e, $itemRef){\n                if(e.namespace === 'binder' && $itemRef.hasClass('itemref')){\n                    var index = $itemRef.data('bind-index');\n\n                    //initialize the new item ref\n                    itemRefView.setUp($itemRef, model.sectionParts[index]);\n                }\n            });\n\n            //on set up, if there is a selection ongoing, we trigger the event\n            $selected = $('.selected', $items);\n            if($selected.length > 0){\n                $items.trigger('itemselect.creator', $selected);\n            }\n\n        }\n\n        /**\n         * Add a new item ref to the section\n         * @param {jQueryElement} $refList - the element to add the item to\n         * @param {Number} [index] - the position of the item to add\n         * @param {Object} [itemData] - the data to bind to the new item ref\n         */\n        function addItemRef($refList, index, itemData){\n           var $itemRef;\n           var $items = $refList.children('li');\n           index = index || $items.length;\n           itemData.identifier = qtiTestHelper.getIdentifier('item', data.identifiers);\n           itemData.index = index + 1;\n           $itemRef = $(templates.itemref(itemData));\n           if(index > 0){\n               $itemRef.insertAfter($items.eq(index - 1));\n           } else {\n               $itemRef.appendTo($refList);\n           }\n           $refList.trigger('add', [$itemRef, itemData]);\n        }\n\n\n        /**\n         * Set up the rubric blocks that already belongs to the section\n         * @private\n         */\n        function rubricBlocks () {\n            if(!model.rubricBlocks){\n                model.rubricBlocks = [];\n            }\n            $('.rubricblock', $section).each(function(){\n                var $rubricBlock = $(this);\n                var index = $rubricBlock.data('bind-index');\n                if(!model.rubricBlocks[index]){\n                    model.rubricBlocks[index] = {};\n                }\n\n                rubricBlockView.setUp($rubricBlock, model.rubricBlocks[index], data);\n            });\n\n            //opens the rubric blocks section if they are there.\n            if(model.rubricBlocks.length > 0){\n                $('.rub-toggler', $section).trigger('click');\n            }\n        }\n\n        /**\n         * Enable to add new rubrick block\n         * @private\n         */\n        function addRubricBlock () {\n\n            $('.rublock-adder', $section).adder({\n                target: $('.rubricblocks', $section),\n                content : templates.rubricblock,\n                templateData : function(cb){\n                    cb({\n                        'qti-type' : 'rubricBlock',\n                        index  : $('.rubricblock', $section).length,\n                        content : [],\n                        views : [1]\n                    });\n                }\n            });\n\n            //we listen the event not from the adder but  from the data binder to be sure the model is up to date\n            $(document).on('add.binder', '#' + $section.attr('id') + ' .rubricblocks', function(e, $rubricBlock){\n                if(e.namespace === 'binder' && $rubricBlock.hasClass('rubricblock')){\n                    var index = $rubricBlock.data('bind-index');\n                    $('.rubricblock-binding', $rubricBlock).html('<p>&nbsp;</p>');\n                    rubricBlockView.setUp($rubricBlock, model.rubricBlocks[index], data);\n                }\n            });\n        }\n        \n        /**\n         * Set up the category property\n         * @private\n         * @param {jQueryElement} $view - the $view object containing the $select\n         */\n        function categoriesProperty($view){\n            \n            var $select = $('[name=section-category]', $view);\n            $select.select2({\n                width: '100%',\n                tags : [],\n                multiple : true,\n                tokenSeparators: [\",\", \" \", \";\"],\n                formatNoMatches : function(){\n                    return __('Enter a category');\n                },\n                maximumInputLength : 32\n            }).on('change', function(e){\n                setCategories(e.val);\n            });\n            \n            initCategories();\n            $view.on('propopen.propview', function(){\n                initCategories();\n            });\n            \n            /**\n             * Start the categories editing\n             * @private\n             */\n            function initCategories(){\n                \n                var categories = sectionCategory.getCategories(model);\n                \n                //set categories found in the model in the select2 input\n                $select.select2('val', categories.all);\n                \n                //color partial categories\n                $select.siblings('.select2-container').find('.select2-search-choice').each(function(){\n                   var $li = $(this);\n                   var content = $li.find('div').text();\n                   if(_.indexOf(categories.partial, content) >= 0){\n                       $li.addClass('partial');\n                   }\n                });\n            }\n            \n            /**\n             * save the categories into the model\n             * @private\n             */\n            function setCategories(categories){\n                sectionCategory.setCategories(model, categories);\n            }\n            \n        }\n   };\n\n   /**\n    * Listen for state changes to enable/disable . Called globally.\n    */\n   var listenActionState =  function listenActionState (){\n\n        var $sections;\n        var $actionContainer;\n\n        $('.sections').each(function(){\n            $sections = $('.section', $(this));\n\n            actions.removable($sections, 'h2');\n            actions.movable($sections, 'section', 'h2');\n        });\n\n        $(document)\n        .on('delete', function(e){\n            var $parent;\n            var $target = $(e.target);\n            if($target.hasClass('section')){\n                $parent = $target.parents('.sections');\n                actions.disable($parent.find('.section'), 'h2');\n           }\n        })\n        .on('add change undo.deleter deleted.deleter', function(e){\n            var $target = $(e.target);\n            if($target.hasClass('section') || $target.hasClass('sections')){\n                $sections = $('.section', $target.hasClass('sections') ? $target : $target.parents('.sections'));\n                actions.removable($sections, 'h2');\n                actions.movable($sections, 'section', 'h2');\n            }\n        })\n        .on('open.toggler', '.rub-toggler', function(e){\n            if(e.namespace === 'toggler'){\n               $(this).parents('h2').addClass('active');\n            }\n        })\n        .on('close.toggler', '.rub-toggler', function(e){\n            if(e.namespace === 'toggler'){\n               $(this).parents('h2').removeClass('active');\n            }\n        });\n   };\n\n\n   /**\n     * The sectionView setup section related components and beahvior\n     *\n     * @exports taoQtiTest/controller/creator/views/section\n     */\n    return {\n        setUp : setUp,\n        listenActionState: listenActionState\n   };\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n */\n\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/creator/views/testpart',[\n'jquery', 'lodash', \n'taoQtiTest/controller/creator/views/actions', \n'taoQtiTest/controller/creator/views/section',\n'taoQtiTest/controller/creator/templates/index', \n'taoQtiTest/controller/creator/helpers/qtiTest'],\nfunction($, _, actions, sectionView, templates, qtiTestHelper){\n    'use strict';\n\n   /**\n    * Set up a test part: init action beahviors. Called for each test part.\n    *\n    * @param {jQueryElement} $testPart - the testpart to set up\n    * @param {Object} model - the data model to bind to the test part\n    * @param {Object} [data] - additionnal data used by the setup\n    * @param {Array} [data.identifiers] - the locked identifiers\n    */\n   var setUp =  function setUp ($testPart, model, data){\n\n        var $actionContainer = $('h1', $testPart);\n\n        //run setup methods\n        actions.properties($actionContainer, 'testpart', model, propHandler);\n        actions.move($actionContainer, 'testparts', 'testpart');\n        sections();\n        addSection();\n\n        /**\n         * Perform some binding once the property view is created\n         * @private\n         * @param {propView} propView - the view object\n         */\n        function propHandler (propView) {\n            \n           var $view = propView.getView();\n\n            //listen for databinder change to update the test part title\n           var $identifier =  $('[data-bind=identifier]', $testPart);\n           $view.on('change.binder', function(e, model){\n                if(e.namespace === 'binder' && model['qti-type'] === 'testPart'){\n                    $identifier.text(model.identifier);\n                }\n            });\n\n            //destroy it when it's testpart is removed\n            $testPart.on('delete', function(e){\n                if(propView !== null){\n                    propView.destroy();\n                }\n            });\n        }\n\n        /**\n         * Set up sections that already belongs to the test part\n         * @private\n         */\n        function sections(){\n            if(!model.assessmentSections){\n                model.assessmentSections = [];\n            }                   \n            $('.section', $testPart).each(function(){\n                var $section = $(this);\n                var index = $section.data('bind-index');\n                if(!model.assessmentSections[index]){\n                    model.assessmentSections[index] = {};\n                }\n\n                sectionView.setUp($section, model.assessmentSections[index], data);\n            });\n        }\n\n        /**\n         * Enable to add new sections\n         * @private\n         */\n        function addSection(){\n            $('.section-adder', $testPart).adder({\n                target: $('.sections', $testPart),\n                content : templates.section,\n                templateData : function(cb){\n\n                    //create a new section model object to be bound to the template\n                    var sectionIndex = $('.section', $testPart).length;\n                    cb({\n                        'qti-type' : 'assessmentSection',\n                        identifier : qtiTestHelper.getIdentifier('assessmentSection',  data.identifiers),\n                        title : 'Section ' + (sectionIndex + 1),\n                        index : 0,\n                        sectionParts : []             \n                    });\n                }\n            });\n            \n                   \n \n            //we listen the event not from the adder but  from the data binder to be sure the model is up to date\n            $(document)\n              .off('add.binder', '#' + $testPart.attr('id') + ' .sections')\n              .on ('add.binder', '#' + $testPart.attr('id') + ' .sections', function(e, $section){\n                if(e.namespace === 'binder' && $section.hasClass('section')){\n                    var index = $section.data('bind-index'); \n                    //initialize the new test part\n                    sectionView.setUp($section, model.assessmentSections[index], data);\n                }\n            });\n        }\n\n   };\n   \n   /**\n    * Listen for state changes to enable/disable . Called globally.\n    */\n   var listenActionState =  function listenActionState (){\n\n        var $testParts = $('.testpart');\n        \n        actions.removable($testParts, 'h1');\n        actions.movable($testParts, 'testpart', 'h1');\n\n        $('.testparts')\n        .on('delete', function(e){\n            var $target = $(e.target);\n            if($target.hasClass('testpart')){\n                actions.disable($('.testpart'), 'h1');\n           }\n        })\n        .on('add change undo.deleter deleted.deleter', function(e){\n            var $target = $(e.target);\n\n            if($target.hasClass('testpart') || $target.hasClass('testparts')){\n                \n                //refresh\n                $testParts = $('.testpart');\n\n                //check state\n                actions.removable($testParts, 'h1');\n                actions.movable($testParts, 'testpart', 'h1');\n            }\n        });\n   };\n \n    /**\n     * The testPartView setup testpart related components and beahvior\n     * \n     * @exports taoQtiTest/controller/creator/views/testpart\n     */\n    return {\n        setUp : setUp,\n        listenActionState: listenActionState\n   }; \n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n */\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/creator/views/test',[\n'jquery', 'lodash',\n'taoQtiTest/controller/creator/views/actions', \n'taoQtiTest/controller/creator/views/testpart',\n'taoQtiTest/controller/creator/templates/index',\n'taoQtiTest/controller/creator/helpers/qtiTest'\n], \nfunction($, _, actions, testPartView, templates, qtiTestHelper){\n    'use strict';\n \n   /**\n     * The TestView setup test related components and beahvior\n     * \n     * @exports taoQtiTest/controller/creator/views/test\n     * @param {Object} model - the data model to bind to the test\n     * @param {Object} [data] - additionnal data used by the setup\n     * @param {Array} [data.identifiers] - the locked identifiers\n     */\n   var testView = function testView (model, data) {\n       \n        actions.properties($('.test-creator-test > h1'), 'test', model, propHandler);\n        testParts();\n        addTestPart();\n\n        /**\n         * set up the exisiting test part views\n         * @private\n         */\n        function testParts () {\n            if(!model.testParts){\n                model.testParts = [];\n            }                   \n            $('.testpart').each(function(){\n                var $testPart = $(this);\n                var index = $testPart.data('bind-index');\n                if(!model.testParts[index]){\n                    model.testParts[index] = {};\n                }\n\n                testPartView.setUp($testPart, model.testParts[index], data);\n            });\n        }\n        \n        /**\n         * Perform some binding once the property view is created\n         * @private\n         * @param {propView} propView - the view object\n         */\n        function propHandler (propView) {\n            \n           var $view = propView.getView();\n\n            //listen for databinder change to update the test part title\n           var $title =  $('.test-creator-test > h1 [data-bind=title]');\n           $view.on('change.binder', function(e, model){\n                if(e.namespace === 'binder' && model['qti-type'] === 'assessmentTest'){\n                    $title.text(model.title);\n                }\n            });\n        }\n\n        /**\n         * Enable to add new test parts\n         * @private\n         */\n        function addTestPart () {\n\n            $('.testpart-adder').adder({\n                target: $('.testparts'),\n                content : templates.testpart,\n                templateData : function(cb){\n\n                    //create an new testPart model object to be bound to the template\n                    var testPartIndex = $('.testpart').length;\n                    cb({\n                        'qti-type' : 'testPart',\n                        identifier : qtiTestHelper.getIdentifier('testPart', data.identifiers),\n                        index  : testPartIndex,\n                        navigationMode : 0,\n                        submissionMode : 0,\n                        assessmentSections : [{\n                            'qti-type' : 'assessmentSection',\n                            identifier : qtiTestHelper.getIdentifier('assessmentSection',  data.identifiers),\n                            title : 'Section 1',\n                            index : 0,\n                            sectionParts : []             \n                        }]\n                    });\n                }\n            });\n            \n            //we listen the event not from the adder but  from the data binder to be sure the model is up to date\n            $(document)\n              .off('add.binder', '.testparts')\n              .on ('add.binder', '.testparts', function(e, $testPart, added){\n                if(e.namespace === 'binder' && $testPart.hasClass('testpart')){\n                    //initialize the new test part\n                    testPartView.setUp($testPart, model.testParts[added.index], data);\n                }\n            });\n        }\n    };\n\n    return testView;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n */\n\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/creator/encoders/dom2qti',['jquery', 'lodash'], function($, _){\n    'use strict';\n\n   /**\n    * Get the list of objects attributes to encode\n    * @param {Object} object\n    * @returns {Array}\n    */\n   var getAttributes = function getAttributes(object){\n        return _.omit(object, [\n           'qti-type',\n           'content',\n           'xmlBase',\n           'lang',\n           'label'\n        ]);\n   };\n\n   /**\n    * Encode object's properties to xml/html string attributes\n    * @param {Object} attributes\n    * @returns {string}\n    */\n   var attrToStr = function attrToStr(attributes){\n     return _.reduce(attributes, function(acc, value, key){\n         if(_.isNumber(value) || (_.isString(value) && !_.isEmpty(value)) ){\n             return acc + ' ' + key + '=\"'+ value + '\" ';\n         }\n         return acc;\n     }, '');\n   };\n\n   /**\n    * This encoder is used to transform DOM to JSON QTI and JSON QTI to DOM.\n    * It works now for the rubricBlocks components.\n    * @exports creator/encoders/dom2qti\n    */\n   var Dom2QtiEncoder = {\n\n       /**\n        * Encode an object to a dom string\n        * @param {Object} modelValue\n        * @returns {string}\n        */\n       encode : function(modelValue){\n           var self = this;\n\n           if(_.isArray(modelValue)){\n               return _.reduce(modelValue, function(result, value){\n                   return result + self.encode(value);\n               }, '');\n           } else if(_.isObject(modelValue) && modelValue['qti-type']){\n                if(modelValue['qti-type'] === 'textRun'){\n                    return modelValue.content;\n                }\n                var startTag = '<' + modelValue['qti-type'] + attrToStr(getAttributes(modelValue));\n                if(modelValue.content){\n                    return  startTag + '>' + self.encode(modelValue.content) + '</' + modelValue['qti-type'] + '>';\n                } else {\n                    return startTag + '/>';\n                }\n           }\n           return modelValue;\n       },\n\n       /**\n        * Decode a string that represents a DOM to a QTI formated object\n        * @param {string} nodeValue\n        * @returns {Array}\n        */\n       decode : function(nodeValue){\n           var self = this;\n           var $nodeValue = (nodeValue instanceof $) ? nodeValue : $(nodeValue);\n           var result = [];\n\n           _.forEach($nodeValue, function(elt){\n               var object;\n                if (elt.nodeType === 3) {\n                    if (!_.isEmpty($.trim(elt.nodeValue))) {\n                        result.push({\n                            'qti-type': 'textRun',\n                            'content': elt.nodeValue,\n                            \"xmlBase\": \"\"\n                        });\n                    }\n                } else if (elt.nodeType === 1){\n                    object = _.merge({\n                            'qti-type': elt.nodeName.toLowerCase(),\n                            'id' : '',\n                            'class' : '',\n                            'xmlBase' : '',\n                            'lang' : '',\n                            'label' : ''\n                        },\n                        _.transform(elt.attributes, function(acc, value) {\n                            if(value.nodeName){\n                                acc[value.nodeName] = value.nodeValue;\n                            }\n                        })\n                    );\n                    if (elt.childNodes.length > 0) {\n                        object.content = self.decode(elt.childNodes);\n                    }\n                    result.push(object);\n                }\n            });\n           return result;\n       }\n   };\n\n   return Dom2QtiEncoder;\n});\n\n\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n */\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/creator/creator',[\n    'module',\n    'jquery',\n    'lodash',\n    'helpers',\n    'i18n',\n    'history',\n    'ui/feedback',\n    'core/databindcontroller',\n    'taoQtiTest/controller/creator/views/item',\n    'taoQtiTest/controller/creator/views/test',\n    'taoQtiTest/controller/creator/views/testpart',\n    'taoQtiTest/controller/creator/views/section',\n    'taoQtiTest/controller/creator/views/itemref',\n    'taoQtiTest/controller/creator/encoders/dom2qti',\n    'taoQtiTest/controller/creator/templates/index',\n    'taoQtiTest/controller/creator/helpers/qtiTest',\n    'core/validator/validators'\n], function(\n    module,\n    $,\n    _,\n    helpers,\n    __,\n    history,\n    feedback,\n    DataBindController,\n    itemView, testView,\n    testPartView,\n    sectionView,\n    itemrefView,\n    Dom2QtiEncoder,\n    templates,\n    qtiTestHelper,\n    validators\n    ){\n\n    'use strict';\n\n    /**\n     * Generic callback used when retrieving data from the server\n     * @callback DataCallback\n     * @param {Object} data - the received data\n     */\n\n    /**\n     * Call the server to get the list of items\n     * @param {string} url\n     * @param {string} search - a posix pattern to filter items\n     * @param {DataCallback} cb - with items\n     */\n    function loadItems(url, search, cb){\n        $.getJSON(url, {pattern : search, notempty : 'true'}, function(data){\n            if(data && typeof cb === 'function'){\n                cb(data);\n            }\n        });\n    }\n\n\n    /**\n     * The test creator controller is the main entry point\n     * and orchestrates data retrieval and view/components loading.\n     * @exports creator/controller\n     */\n    var Controller = {\n\n         routes : {},\n\n         identifiers: [],\n\n         /**\n          * Start the controller, main entry method.\n          * @public\n          * @param {Object} options\n          * @param {Object} options.labels - the list of item's labels to give to the ItemView\n          * @param {Object} options.routes - action's urls\n          */\n         start : function(options){\n            var self = this;\n            var $container = $('#test-creator');\n            var $saver = $('#saver');\n\n            self.identifiers = [];\n\n            options = _.merge(module.config(), options || {});\n            options.routes = options.routes || {};\n            options.labels = options.labels || {};\n\n\n            //back button\n            $('#authoringBack').on('click', function(e){\n                e.preventDefault();\n\n                if (history) {\n                    history.back();\n                }\n            });\n\n            //set up the ItemView, give it a configured loadItems ref\n            itemView( _.partial(loadItems, options.routes.items) );\n\n            //Print data binder chandes for DEBUGGING ONLY\n            //$container.on('change.binder', function(e, model){\n                //if(e.namespace === 'binder'){\n                    //console.log(model);\n                //}\n            //});\n\n            //Data Binding options\n            var binderOptions = _.merge(options.routes, {\n                filters : {\n                    'isItemRef' : function(value){\n                        return qtiTestHelper.filterQtiType(value, 'assessmentItemRef');\n                    },\n                    'isSection' : function(value){\n                        return qtiTestHelper.filterQtiType(value, 'assessmentSection');\n                    }\n                },\n                encoders : {\n                  'dom2qti' : Dom2QtiEncoder\n                },\n                templates : templates,\n                beforeSave : function(model){\n                    //ensure the qti-type is present\n                    qtiTestHelper.addMissingQtiType(model);\n\n                    //apply consolidation rules\n                    qtiTestHelper.consolidateModel(model);\n                    return true;\n                }\n            });\n\n            //set up the databinder\n            var binder = DataBindController\n                .takeControl($container, binderOptions)\n                .get(function(model){\n\n                    //extract ids\n                    self.identifiers = qtiTestHelper.extractIdentifiers(model);\n\n                    //register validators\n                    validators.register('idFormat', qtiTestHelper.idFormatValidator());\n                    validators.register('testIdFormat', qtiTestHelper.testidFormatValidator());\n                    validators.register('testIdAvailable', qtiTestHelper.idAvailableValidator(self.identifiers), true);\n\n                    //once model is loaded, we set up the test view\n                    testView(model, {\n                        uri : options.uri,\n                        identifiers : self.identifiers,\n                        labels : options.labels\n                    });\n\n                    //listen for changes to update available actions\n                    testPartView.listenActionState();\n                    sectionView.listenActionState();\n                    itemrefView.listenActionState();\n                    itemrefView.resize();\n\n                    $(window)\n                      .off('resize.qti-test-creator')\n                      .on('resize.qti-test-creator', function(){\n                            itemrefView.resize();\n                    });\n                });\n\n            //the save button triggers binder's save action.\n            $saver.on('click', function(event){\n                event.preventDefault();\n\n                if(!$saver.hasClass('disabled')){\n                    $saver.attr('disabled', true).addClass('disabled');\n                    binder.save(function(){\n\n                        $saver.attr('disabled', false).removeClass('disabled');\n\n                        feedback().success(__('Test Saved'));\n\n                    }, function(){\n\n                        $saver.attr('disabled', false).removeClass('disabled');\n                    });\n                }\n            });\n        }\n    };\n\n    return Controller;\n});\n\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technlogies SA (under the project TAO-PRODUCT);\n *\n */\n/**\n * Enable to register providers to a target.\n *\n * TODO generalize (core)\n *\n * @author Sam <sam@taotesting.com>\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoTests/runner/providerRegistry',['lodash'], function(_){\n    'use strict';\n\n    /**\n     * Transfor the target into a a provider registry\n     * It adds two methods registerProvider() and getProvider();\n     *\n     * @todo useful to move it to tao/core ?\n     * @param {Object} target\n     * @param {Function} [validator] - a function to validate the provider to be registered\n     * @returns {target} the target itself\n     */\n    function providerRegistry(target, validator){\n\n        var _providers = {};\n        target = target || {};\n\n\n        /**\n        * Register an <i>provider</i> into the provider registry.\n        * The provider provides the behavior required by the target object.\n        *\n        * @param {String} name - the provider name will be used to select the provider while instantiating the target object\n        *\n        * @param {Object} provider - the Item Runtime Provider as a plain object. The target object forwards, encapsulates and delegates calls to the provider.\n        * @param {InitItemProvider} provider.init - the provider initializes the target object from it's config\n        *\n        * @throws TypeError when a wrong provider is given or an empty name.\n        */\n        function registerProvider(name, provider){\n\n            var valid = true;\n\n            //type checking\n            if(!_.isString(name) || name.length <= 0){\n                throw new TypeError('It is required to give a name to your provider.');\n            }\n            if(!_.isPlainObject(provider) || (!_.isFunction(provider.init))){\n                throw new TypeError('A provider is an object that contains at least an init function.');\n            }\n            valid = validator && _.isFunction(validator) ? validator(provider) : valid;\n\n            if(valid){\n                _providers[name] = provider;\n            }\n        }\n\n        /**\n         * Get a registered provider by its name\n         * @param {String} providerName\n         * @returns {Object} provider\n         */\n        function getProvider(providerName){\n\n            var provider;\n\n            //check a provider is available\n            if(!_providers || _.size(_providers) === 0){\n                throw new Error('No provider regitered');\n            }\n\n            if(_.isString(providerName) && providerName.length > 0){\n                provider = _providers[providerName];\n            } else if(_.size(_providers) === 1) {\n\n                //if there is only one provider, then we take this one\n                providerName = _.keys(_providers)[0];\n                provider = _providers[providerName];\n            }\n\n            //now we should have a provider\n            if(!provider){\n                throw new Error('No candidate found for the provider');\n            }\n\n            return provider;\n        }\n\n        /**\n         * Clear the registered providers\n         */\n        function clearProviders(){\n            _providers = {};\n        }\n\n        target.registerProvider = registerProvider;\n        target.getProvider      = getProvider;\n        target.clearProviders   = clearProviders;\n\n        return target;\n    }\n\n    return providerRegistry;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sbastien Conan <jean-sebastien.conan@vesperiagroup.com>\n * @author Sam <sam@taotesting.com>\n */\ndefine('taoTests/runner/runner',[\n    'jquery',\n    'lodash',\n    'i18n',\n    'core/eventifier',\n    'core/promise',\n    'core/logger',\n    'taoTests/runner/providerRegistry'\n], function ($, _, __, eventifier, Promise, logger, providerRegistry){\n    'use strict';\n\n    /**\n     * Builds an instance of the QTI test runner\n     *\n     * @param {String} providerName\n     * @param {Object} config\n     * @param {String|DOMElement|JQuery} config.contentContainer - the dom element that is going to holds the test content (item, rubick, etc)\n     * @param {Array} [config.plugins] - the list of plugin instances to be initialized and bound to the test runner\n     * @returns {runner|_L28.testRunnerFactory.runner}\n     */\n    function testRunnerFactory(providerName, pluginFactories, config){\n\n        /**\n         * @type {Object} The test runner instance\n         */\n        var runner;\n\n        /**\n         * @type {Object} the test definition data\n         */\n        var testData       = {};\n\n        /**\n         * @type {Object} contextual test data (the state of the test)\n         */\n        var testContext    = {};\n\n        /**\n         * @type {Object} the registered plugins\n         */\n        var plugins        = {};\n\n        /**\n         * @type {Object} the test of the runner\n         */\n        var states = {\n            'init':    false,\n            'ready':   false,\n            'render':  false,\n            'finish':  false,\n            'destroy': false\n        };\n\n        /**\n         * The selected test runner provider\n         */\n        var provider  = testRunnerFactory.getProvider(providerName);\n\n        /**\n         * Keep the area broker instance\n         * @see taoTests/runner/areaBroker\n         */\n        var areaBroker;\n\n        /**\n         * Keep the proxy instance\n         * @see taoTests/runner/proxy\n         */\n        var proxy;\n\n        /**\n         * Run a method of the provider (by delegation)\n         *\n         * @param {String} method - the method to run\n         * @param {...} args - rest parameters given to the provider method\n         * @returns {Promise} so provider can do async stuffs\n         */\n        function providerRun(method){\n            var args = [].slice.call(arguments, 1);\n            return new Promise(function(resolve){\n                if(!_.isFunction(provider[method])){\n                   return resolve();\n                }\n                return resolve(provider[method].apply(runner, args));\n            });\n        }\n\n        /**\n         * Run a method in all plugins\n         *\n         * @param {String} method - the method to run\n         * @returns {Promise} once that resolve when all plugins are done\n         */\n        function pluginRun(method){\n            var execStack = [];\n\n            _.forEach(runner.getPlugins(), function (plugin){\n                if(_.isFunction(plugin[method])){\n                    execStack.push(plugin[method]());\n                }\n            });\n\n            return Promise.all(execStack);\n        }\n\n        /**\n         * Trigger error event\n         * @param {Error|String} err - the error\n         * @fires runner#error\n         */\n        function reportError(err){\n            runner.trigger('error', err);\n        }\n\n\n        config = config || {};\n\n        /**\n         * Defines the test runner\n         *\n         * @type {runner}\n         */\n        runner = eventifier({\n\n            /**\n             * Intialize the runner\n             *  - instantiate the plugins\n             *  - provider init\n             *  - plugins init\n             *  - call render\n             * @fires runner#init\n             * @returns {runner} chains\n             */\n            init : function init(){\n                var self = this;\n\n                //instantiate the plugins first\n                _.forEach(pluginFactories, function(pluginFactory, pluginName){\n                    plugins[pluginName] = pluginFactory(runner, self.getAreaBroker());\n                });\n\n                providerRun('init').then(function(){\n                    pluginRun('init').then(function(){\n                        self.setState('init', true)\n                            .trigger('init')\n                            .render();\n                    }).catch(reportError);\n                }).catch(reportError);\n\n                return this;\n            },\n\n            /**\n             * Render the runner\n             *  - provider render\n             *  - plugins render\n             * @fires runner#render\n             * @fires runner#ready\n             * @returns {runner} chains\n             */\n            render : function render(){\n                var self = this;\n\n                providerRun('render').then(function(){\n                    pluginRun('render').then(function(){\n                        self.setState('ready', true)\n                            .trigger('render')\n                            .trigger('ready');\n                    }).catch(reportError);\n                }).catch(reportError);\n                return this;\n            },\n\n            /**\n             * Load an item\n             *  - provider loadItem, resolve or return the itemData\n             *  - plugins loadItem\n             *  - call renderItem\n             * @param {*} itemRef - something that let you identify the item to load\n             * @fires runner#loaditem\n             * @returns {runner} chains\n             */\n            loadItem : function loadItem(itemRef){\n                var self = this;\n\n                providerRun('loadItem', itemRef).then(function(itemData){\n                    self.trigger('loaditem', itemRef)\n                        .renderItem(itemData);\n                }).catch(reportError);\n                return this;\n            },\n\n            /**\n             * Render an item\n             *  - provider renderItem\n             *  - plugins renderItem\n             * @param {Object} itemData - the loaded item data\n             * @fires runner#renderitem\n             * @returns {runner} chains\n             */\n            renderItem : function renderItem(itemData){\n                var self = this;\n\n                providerRun('renderItem', itemData).then(function(){\n                    self.trigger('renderitem', itemData);\n                }).catch(reportError);\n                return this;\n            },\n\n            /**\n             * Unload an item (for example to destroy the item)\n             *  - provider unloadItem\n             *  - plugins unloadItem\n             * @param {*} itemRef - something that let you identify the item to unload\n             * @fires runner#unloaditem\n             * @returns {runner} chains\n             */\n            unloadItem : function unloadItem(itemRef){\n                var self = this;\n\n                providerRun('unloadItem', itemRef).then(function(){\n                    self.trigger('unloaditem', itemRef);\n                }).catch(reportError);\n                return this;\n            },\n\n            /**\n             * When the test is terminated\n             *  - provider finish\n             *  - plugins finsh\n             * @fires runner#finish\n             * @returns {runner} chains\n             */\n            finish : function finish(){\n                var self = this;\n\n                providerRun('finish').then(function(){\n                    pluginRun('finish').then(function(){\n                        self.setState('finish', true)\n                            .trigger('finish');\n                    }).catch(reportError);\n                }).catch(reportError);\n                return this;\n            },\n\n            /**\n             * Destroy\n             *  - provider destroy\n             *  - plugins destroy\n             * @fires runner#destroy\n             * @returns {runner} chains\n             */\n            destroy : function destroy(){\n                var self = this;\n\n                providerRun('destroy').then(function(){\n                    pluginRun('destroy').then(function(){\n\n                        testContext = {};\n\n                        self.setState('destroy', true)\n                            .trigger('destroy');\n                    }).catch(reportError);\n                }).catch(reportError);\n                return this;\n            },\n\n            /**\n             * Get the runner pugins\n             * @returns {plugin[]} the plugins\n             */\n            getPlugins : function getPlugins(){\n                return plugins;\n            },\n\n            /**\n             * Get a plugin\n             * @param {String} name - the plugin name\n             * @returns {plugin} the plugin\n             */\n            getPlugin : function getPlugin(name){\n                return plugins[name];\n            },\n\n            /**\n             * Get the config\n             * @returns {Object} the config\n             */\n            getConfig : function getConfig(){\n                return config;\n            },\n\n            /**\n             * Get the area broker, load it if not present\n             *\n             * @returns {areaBroker} the areaBroker\n             */\n            getAreaBroker : function getAreaBroker(){\n                if(!areaBroker){\n                    areaBroker = provider.loadAreaBroker.call(this);\n                }\n                return areaBroker;\n            },\n\n\n            /**\n             * Get the proxy, load it if not present\n             *\n             * @returns {proxy} the proxy\n             */\n            getProxy : function getProxy(){\n                if(!proxy){\n                    if(!_.isFunction(provider.loadProxy)){\n                        throw new Error('The provider does not have a loadProxy method');\n                    }\n                    proxy = provider.loadProxy.call(this);\n                }\n                return proxy;\n            },\n\n            /**\n             * Check a runner state\n             *\n             * @param {String} name - the state name\n             * @returns {Boolean} if active, false if not set\n             */\n            getState : function getState(name){\n                return !!states[name];\n            },\n\n            /**\n             * Define a runner state\n             *\n             * @param {String} name - the state name\n             * @param {Boolean} active - is the state active\n             * @returns {runner} chains\n             * @throws {TypeError} if the state name is not a valid string\n             */\n            setState : function setState(name, active){\n                if(!_.isString(name) || _.isEmpty(name)){\n                    throw new TypeError('The state must have a name');\n                }\n                states[name] = !!active;\n\n                return this;\n            },\n\n            /**\n             * Get the test data/definition\n             * @returns {Object} the test data\n             */\n            getTestData : function getTestData(){\n                return testData;\n            },\n\n            /**\n             * Set the test data/definition\n             * @param {Object} data - the test data\n             * @returns {runner} chains\n             */\n            setTestData : function setTestData(data){\n                testData  = data;\n\n                return this;\n            },\n\n            /**\n             * Get the test context/state\n             * @returns {Object} the test context\n             */\n            getTestContext : function getTestContext(){\n                return testContext;\n            },\n\n            /**\n             * Set the test context/state\n             * @param {Object} context - the context to set\n             * @returns {runner} chains\n             */\n            setTestContext : function setTestContext(context){\n                if(_.isPlainObject(context)){\n                    testContext = context;\n                }\n                return this;\n            },\n\n            /**\n             * Move next alias\n             * @param {String|*} [scope] - the movement scope\n             * @fires runner#move\n             * @returns {runner} chains\n             */\n            next : function next(scope){\n                this.trigger('move', 'next', scope);\n                return this;\n            },\n\n            /**\n             * Move previous alias\n             * @param {String|*} [scope] - the movement scope\n             * @fires runner#move\n             * @returns {runner} chains\n             */\n            previous : function previous(scope){\n                this.trigger('move', 'previous', scope);\n                return this;\n            },\n\n            /**\n             * Move to alias\n             * @param {String|Number} position - where to jump\n             * @param {String|*} [scope] - the movement scope\n             * @fires runner#move\n             * @returns {runner} chains\n             */\n            jump : function jump(position, scope){\n                this.trigger('move', 'jump', position, scope);\n                return this;\n            },\n\n            /**\n             * Skip alias\n             * @param {String|*} [scope] - the movement scope\n             * @fires runner#move\n             * @returns {runner} chains\n             */\n            skip : function skip(scope){\n                this.trigger('skip', scope);\n                return this;\n            },\n\n            /**\n             * Exit the test\n             * @param {String|*} [why] - reason the test is exited\n             * @fires runner#exit\n             * @returns {runner} chains\n             */\n            exit : function exit(why){\n                this.trigger('exit', why);\n                return this;\n            },\n\n            /**\n             * Pause the current execution\n             * @fires runner#pause\n             * @returns {runner} chains\n             */\n            pause : function pause(){\n                if(!this.getState('pause')){\n                    this.setState('pause', true)\n                        .trigger('pause');\n                }\n                return this;\n            },\n\n            /**\n             * Resume a paused test\n             * @fires runner#pause\n             * @returns {runner} chains\n             */\n            resume : function resume(){\n                if(this.getState('pause') === true){\n                    this.setState('pause', false)\n                        .trigger('resume');\n                }\n                return this;\n            }\n        });\n\n        runner.on('move', function move(type){\n            this.trigger.apply(this, [type].concat([].slice.call(arguments, 1)));\n        });\n\n        return runner;\n    }\n\n    //bind the provider registration capabilities to the testRunnerFactory\n    return providerRegistry(testRunnerFactory, function validateProvider(provider){\n\n        //mandatory methods\n        if(!_.isFunction(provider.loadAreaBroker)){\n            throw new TypeError('The runner provider MUST have a method that returns an areaBroker');\n        }\n       return true;\n    });\n});\n\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technlogies SA\n *\n */\n\n/**\n * The area broker is the object you need to define the Test Runner GUI areas.\n * You need to define some required areas so then everybody can attach elements to thos areas.\n * Each area is a jquery element.\n *\n * ! The mapping should be made prior to getting the areas !\n *\n * @example\n * var broker = areaBroker($container);\n * broker.defineAreas({\n *    content : $('.content', $container),\n *    //...\n * });\n * //then\n * var $content = broker.getArea('content');\n * var $content = broker.getContentArea();\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoTests/runner/areaBroker',[\n    'jquery',\n    'lodash'\n], function ($, _) {\n    'use strict';\n\n    var requireAreas = [\n        'content',      //where the content is renderer, for example an item\n        'toolbox',      //the place to add arbitrary tools, like a zoom, a comment box, etc.\n        'navigation',   //the navigation controls like next, previous, skip\n        'control',      //the control center of the test, progress, timers, etc.\n        'header',       //the area that could contains the test titles\n        'panel'         //a panel to add more advanced GUI (item review, navigation pane, etc.)\n    ];\n\n    /**\n     * Creates a new broker.\n     * Please note the mapping should contain\n     *\n     * @param {jQueryElement|HTMLElement|String} $container - the main container\n     * @param {Object} mapping - keys are the area names, values are jQueryElement\n     * @returns {broker} the broker\n     * @throws {TypeError} without a valid container\n     */\n    return function areaBroker($container, mapping){\n\n        var broker,\n            areas;\n\n        if(typeof $container === 'string' || $container instanceof HTMLElement){\n            $container = $($container);\n        }\n        if(!$container || !$container.length){\n            throw new TypeError('Please provide the areaBroker a container');\n        }\n\n        /**\n         * The Area broker instance\n         * @typedef broker\n         */\n        broker = {\n\n            /**\n             * Map the areas to elements.\n             *\n             * This method needs to be called before getting areas.\n             * It's separated from the factory call in order to prepare the mapping in a separated step.\n             *\n             * @param {Object} mapping - keys are the area names, values are jQueryElement\n             * @throws {TypeError} if the required areas are not part of the mapping\n             */\n            defineAreas : function defineAreas(mapping){\n                var keys, required;\n\n                if(!_.isPlainObject(mapping)){\n                    throw new TypeError('A mapping has the form of a plain object');\n                }\n\n                keys = _.keys(mapping);\n                required = _.all(requireAreas, function(val){\n                    return _.contains(keys, val);\n                });\n                if(!required){\n                    throw new TypeError('You have to define a mapping for at least : ' + requireAreas.join(', '));\n                }\n\n                areas = mapping;\n            },\n\n            /**\n             * Get the main container\n             * @returns {jQueryElement} the container\n             */\n            getContainer : function getContainer(){\n                return $container;\n            },\n\n            /**\n             * Get the area element\n             * @param {String} name - the area name\n             * @returns {jQueryElement} the area element\n             * @throws {Error} if the mapping hasn't been made previously\n             */\n            getArea : function getArea(name){\n                if(!areas){\n                    throw new Error('Sorry areas have not been defined yet!');\n                }\n                return areas[name];\n            }\n        };\n\n        broker.defineAreas(mapping);\n\n        _.forEach(requireAreas, function(area){\n            broker['get' + area[0].toUpperCase() + area.slice(1) + 'Area'] = _.bind(_.partial(broker.getArea, area), broker);\n        });\n\n        return broker;\n    };\n\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sbastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoTests/runner/proxyRegistry',['lodash'], function(_) {\n    'use strict';\n\n    /**\n     * List of API a proxy must provide to be validated\n     * @type {String[]}\n     * @private\n     */\n    var _proxyApi = [\n        'init',\n        'destroy',\n        'getTestData',\n        'getTestContext',\n        'getTestMap',\n        'callTestAction',\n        'getItemData',\n        'getItemState',\n        'submitItemState',\n        'storeItemResponse',\n        'callItemAction'\n    ];\n\n    /**\n     * Makes an object a test runner proxies registry\n     * @param {Object} target - The object to extend\n     * @param {Function} [validator] - A function to validate the proxy\n     * @returns {target} - The extended object\n     */\n    function proxyRegistry(target, validator) {\n        // list of registered proxies\n        var _proxies = {};\n\n        // define the registry\n        var _registry = {\n            /**\n             * Registers a test runner proxy.\n             * @param {String} name - The name of the proxy to be registered. This name must be unique.\n             * @param {Object} proxy - The test runner proxy\n             * @returns {_registry} - Provides a fluent interface\n             * @throws TypeError when a wrong proxy or an empty name is given.\n             */\n            registerProxy : function registerProxy(name, proxy) {\n                var valid;\n\n                // type check\n                if (!_.isString(name) || !name.length) {\n                    throw new TypeError('It is required to give a name to your test runner proxy!');\n                }\n                if (!_.isPlainObject(proxy)) {\n                    throw new TypeError('A test runner proxy must be an object!');\n                }\n\n                // API check\n                valid = _.all(_proxyApi, function(apiName) {\n                    return _.isFunction(proxy[apiName]);\n                });\n                if (!valid) {\n                    throw new TypeError('A test runner proxy must provide all required API!');\n                }\n\n                // custom check\n                if (validator && _.isFunction(validator) && !validator(proxy)) {\n                    throw new TypeError('The test runner proxy is not valid!');\n                }\n\n                // all checks succeed, register\n                _proxies[name] = proxy;\n\n                return this;\n            },\n\n            /**\n             * Gets a registered test runner proxy by its name\n             * @param {String} name\n             * @returns {*}\n             * @throws Error when an empty name is given or when no proxy is found.\n             */\n            getProxy : function getProxy(name) {\n                var proxy;\n\n                // check for proxies\n                if (!_proxies || !_.size(_proxies)) {\n                    throw new Error('No test runner proxies registered');\n                }\n\n                // if no name has been provided, and only one proxy is registered, take this one\n                if (!_.isString(name) || !name.length) {\n                    if (_.size(_proxies) === 1) {\n                        name = _.keys(_proxies)[0];\n                    } else {\n                        name = null;\n                    }\n                }\n\n                // try to get the proxy by name\n                proxy = _proxies[name];\n                if (!proxy) {\n                    throw new Error('No test runner proxy found with name ' + name);\n                }\n\n                return proxy;\n            }\n\n        };\n\n        return _.assign(target || {}, _registry);\n    }\n\n    return proxyRegistry;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sbastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */define('taoTests/runner/proxy',[\n    'lodash',\n    'core/eventifier',\n    'taoTests/runner/proxyRegistry'\n], function(_, eventifier, proxyRegistry) {\n    'use strict';\n\n    var _defaults = {};\n\n    var _slice = [].slice;\n\n    /**\n     * Defines a proxy bound to a particular adapter\n     *\n     * @param {String} proxyName - The name of the proxy adapter to use in the returned proxy instance\n     * @param {Object} [config] - Some optional config depending of implementation,\n     *                            this object will be forwarded to the proxy adapter\n     * @returns {proxy} - The proxy instance, bound to the selected proxy adapter\n     */\n    function proxyFactory(proxyName, config) {\n        var proxyAdapter = proxyFactory.getProxy(proxyName);\n        var initConfig = _.defaults(config || {}, _defaults);\n\n        /**\n         * Delegates a function call to the selected proxy.\n         * Fires the related event\n         *\n         * @param {String} fnName - The name of the delegated method to call\n         * @param {Array} [args] - An optional array of arguments to apply to the method\n         * @returns {Promise} - The delegated method must return a promise\n         * @private\n         * @throws Error\n         */\n        function delegate(fnName, args) {\n            var promise;\n\n            if (proxyAdapter) {\n                if (_.isFunction(proxyAdapter[fnName])) {\n                    // need real array of params, even if empty\n                    args = args ? _slice.call(args) : [];\n\n                    // delegate the call to the adapter\n                    promise = proxyAdapter[fnName].apply(proxy, args);\n\n                    // fire the method related event\n                    // the promise has to be provided as first argument in all events\n                    proxy.trigger.apply(proxy, [fnName, promise].concat(args));\n                } else {\n                    throw new Error('There is no method called ' + fnName + ' in the proxy adapter!');\n                }\n            } else {\n                throw new Error('There is no proxy adapter!');\n            }\n\n            return promise;\n        }\n\n        /**\n         * Defines the test runner proxy\n         * @type {proxy}\n         */\n        var proxy = eventifier({\n            /**\n             * Initializes the proxy\n             * @returns {Promise} - Returns a promise. The proxy will be fully initialized on resolve.\n             *                      Any error will be provided if rejected.\n             * @fires init\n             */\n            init: function init() {\n                /**\n                 * @event proxy#init\n                 * @param {Promise} promise\n                 * @param {Object} config\n                 */\n                return delegate('init', [initConfig]);\n            },\n\n            /**\n             * Uninstalls the proxy\n             * @returns {Promise} - Returns a promise. The proxy will be fully uninstalled on resolve.\n             *                      Any error will be provided if rejected.\n             * @fires destroy\n             */\n            destroy: function destroy() {\n                /**\n                 * @event proxy#destroy\n                 * @param {Promise} promise\n                 */\n                return delegate('destroy');\n            },\n\n            /**\n             * Gets the test definition data\n             * @returns {Promise} - Returns a promise. The test definition data will be provided on resolve.\n             *                      Any error will be provided if rejected.\n             * @fires getTestData\n             */\n            getTestData: function getTestData() {\n                /**\n                 * @event proxy#getTestData\n                 * @param {Promise} promise\n                 */\n                return delegate('getTestData');\n            },\n\n            /**\n             * Gets the test context\n             * @returns {Promise} - Returns a promise. The context object will be provided on resolve.\n             *                      Any error will be provided if rejected.\n             */\n            getTestContext: function getTestContext() {\n                /**\n                 * @event proxy#getTestContext\n                 * @param {Promise} promise\n                 */\n                return delegate('getTestContext');\n            },\n\n            /**\n             * Gets the test map\n             * @returns {Promise} - Returns a promise. The test map object will be provided on resolve.\n             *                      Any error will be provided if rejected.\n             */\n            getTestMap: function getTestMap() {\n                /**\n                 * @event proxy#getTestMap\n                 * @param {Promise} promise\n                 */\n                return delegate('getTestMap');\n            },\n\n            /**\n             * Calls an action related to the test\n             * @param {String} action - The name of the action to call\n             * @param {Object} [params] - Some optional parameters to join to the call\n             * @returns {Promise} - Returns a promise. The result of the request will be provided on resolve.\n             *                      Any error will be provided if rejected.\n             * @fires callTestAction\n             */\n            callTestAction: function callTestAction(action, params) {\n                /**\n                 * @event proxy#callTestAction\n                 * @param {Promise} promise\n                 * @param {String} action\n                 * @param {Object} params\n                 */\n                return delegate('callTestAction', [action, params]);\n            },\n\n            /**\n             * Gets an item definition by its URI\n             * @param {String} uri - The URI of the item to get\n             * @returns {Promise} - Returns a promise. The item definition data will be provided on resolve.\n             *                      Any error will be provided if rejected.\n             * @fires getItemData\n             */\n            getItemData: function getItemData(uri) {\n                /**\n                 * @event proxy#getItemData\n                 * @param {Promise} promise\n                 * @param {String} uri\n                 */\n                return delegate('getItemData', [uri]);\n            },\n\n            /**\n             * Gets an item state by the item URI\n             * @param {String} uri - The URI of the item for which get the state\n             * @returns {Promise} - Returns a promise. The item state object will be provided on resolve.\n             *                      Any error will be provided if rejected.\n             * @fires getItemState\n             */\n            getItemState: function getItemState(uri) {\n                /**\n                 * @event proxy#getItemState\n                 * @param {Promise} promise\n                 * @param {String} uri\n                 */\n                return delegate('getItemState', [uri]);\n            },\n\n            /**\n             * Submits the state of a particular item\n             * @param {String} uri - The URI of the item to update\n             * @param {Object} state - The state to submit\n             * @returns {Promise} - Returns a promise. The result of the request will be provided on resolve.\n             *                      Any error will be provided if rejected.\n             * @fires submitItemState\n             */\n            submitItemState: function submitItemState(uri, state) {\n                /**\n                 * @event proxy#submitItemState\n                 * @param {Promise} promise\n                 * @param {String} uri\n                 * @param {Object} state\n                 */\n                return delegate('submitItemState', [uri, state]);\n            },\n\n            /**\n             * Stores the response for a particular item\n             * @param {String} uri - The URI of the item to update\n             * @param {Object} response - The response object to submit\n             * @returns {Promise} - Returns a promise. The result of the request will be provided on resolve.\n             *                      Any error will be provided if rejected.\n             * @fires storeItemResponse\n             */\n            storeItemResponse: function storeItemResponse(uri, response) {\n                /**\n                 * @event proxy#storeItemResponse\n                 * @param {Promise} promise\n                 * @param {String} uri\n                 * @param {Object} response\n                 */\n                return delegate('storeItemResponse', [uri, response]);\n            },\n\n            /**\n             * Calls an action related to a particular item\n             * @param {String} uri - The URI of the item for which call the action\n             * @param {String} action - The name of the action to call\n             * @param {Object} [params] - Some optional parameters to join to the call\n             * @returns {Promise} - Returns a promise. The result of the request will be provided on resolve.\n             *                      Any error will be provided if rejected.\n             * @fires callItemAction\n             */\n            callItemAction: function callItemAction(uri, action, params) {\n                /**\n                 * @event proxy#callItemAction\n                 * @param {Promise} promise\n                 * @param {String} uri\n                 * @param {String} action\n                 * @param {Object} params\n                 */\n                return delegate('callItemAction', [uri, action, params]);\n            }\n        });\n\n        return proxy;\n    }\n\n    return proxyRegistry(proxyFactory);\n});\n\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA;\n *\n */\n\n/**\n * The asset manager proposes you to resolve your asset URLs for you!\n * You need to add the resolution strategies, it will then evaluate each strategy until the right one is found\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoItems/assets/manager',[\n    'lodash',\n    'util/url'\n], function(_, urlUtil){\n    'use strict';\n\n    /**\n     * @typedef AssetStrategy Defines a way to resolve an asset path\n     * @property {String} name - the strategy name\n     * @property {assetStrategyHandle} handle - how to resolve the strategy.\n     */\n\n    /**\n     * @callback assetStrategyHandle\n     * @param {String|Object} url - the URL to resolved. If parseUrl, it's an object that contains host, port, search, queryString, etc.\n     * @param {Object} data - the context data\n     * @returns {String?} falsy if not resolved otherwise the resolved URL\n     */\n\n\n    /**\n     * The assetManagerFactory create a new assetManager with the given resolution stratgies and a data context.\n     *\n     * @example\n     *   //define AssetStrategies with a name and a handle method\n     *   var strategies = [{\n     *       name : 'external',\n     *       handle : function(url, data){\n     *           if(/^http/.test(url)){\n     *               return path;\n     *           }\n     *       }\n     *   }, {\n     *       name : 'relative',\n     *       handle : function(url, data){\n     *           if(/^((\\.\\/)|(\\w\\/))/){\n     *               return data.baseUrl + '/' + url ;\n     *           }\n     *       }\n     *   }]);\n     *\n     *   var assetManager = assetManagerFactory(strategies, { baseUrl : 'http://t.oa/public/assets/' });\n     *   assetManager.resolve('http://foo/bar.png'); //will resolved using external\n     *   assetManager.resolve('bar.png'); //will resolved using relative strategy\n     *\n     * @param {AssetStrategy[]} strategies - the strategies\n     * @param {Object} data - the context data\n     * @param {Object} [options] - the manager options\n     * @param {Boolean} [options.parseUrl = true] - If the URL to give to the stragies should be parsed or given as it is.\n     * @param {Boolean} [options.cache] - resolve the same URL only once and store the result in memory.\n     *\n     * @exports taoItems/assets/manager\n     * @namespace assetManagerFactory\n     */\n    var assetManagerFactory = function assetManagerFactory(strategies, data, options) {\n\n        var cache  = {};\n\n        strategies = _.isArray(strategies) ? strategies : [strategies];\n        data       = data || {};\n        options    = _.defaults(options || {}, {\n            parseUrl : true\n        });\n\n        /**\n         * A brand new asset manager is created by the factory\n         */\n        var assetManager = {\n\n            /**\n             * The stack of strategies that would be used to resolve the asset path\n             * @type {AssetStrategy[]}\n             */\n            _strategies : [],\n\n            /**\n             * Add an asset resolution strategy.\n             * The strategies will be evaluated in the order they've been added.\n             * @param {AssetStrategy} strategy - the strategy to add\n             * @throws {TypeError} if the strategy isn't defined correctly\n             */\n            addStrategy : function addStrategy (strategy){\n\n                if(!_.isPlainObject(strategy) || !_.isFunction(strategy.handle) || !_.isString(strategy.name)){\n                    throw new TypeError('An asset resolution strategy is an object with a handle method and a name');\n                }\n\n                this._strategies.push(strategy);\n            },\n\n            /**\n             * Change the strategies\n             * @param {AssetStrategy[]} strategies - the strategies\n             * @throws {TypeError} if the strategy isn't defined correctly\n             */\n            setStrategies : function setStrategies(newStrategies){\n                var self = this;\n\n                this._strategies = [];\n\n                //assign the strategies to the assetManager\n                _.forEach(newStrategies, function(strategy){\n\n                    //if it's an object we add it directly\n                    if(_.isPlainObject(strategy)){\n                        assetManager.addStrategy(strategy);\n\n                    //if it's a function, we create the strategy with a generated name\n                    } else if(_.isFunction(strategy)){\n                        self.addStrategy({\n                            name   : 'strategy_' + (self._strategies.length + 1),\n                            handle : strategy\n                        });\n                    }\n                });\n            },\n\n            /**\n             * Set context data\n             * @param {String|Object} [key] - the key of the data to set or the data values if it's an object\n             * @param {*} [value] - the value to set if a key is given\n             */\n            setData : function setData(key, value){\n                if(_.isString(key) && typeof value !== 'undefined'){\n                    data[key] = value;\n                } else if(_.isPlainObject(key)){\n                    data = key;\n                }\n            },\n\n            /**\n             * Get context data\n             * @param {String} [key] - if we want the value of a particuar key\n             * @returns {Object|*} all the data or the proprety value if key is given\n             */\n            getData : function getData(key){\n                if(_.isString(key)){\n                    return data[key];\n                }\n                return data;\n            },\n\n            /**\n             * Resolve the given URL against the strategies\n             * @param {String} url - the URL to resolve\n             * @returns {String?} the resolved URL or nothing\n             */\n            resolve : function resolve(url){\n                var resolved;\n                var inputUrl;\n\n                //if caching try to load the value from the cache\n                if(options.cache && cache.hasOwnProperty(url)){\n                    return cache[url];\n                }\n\n                //parse the url ?\n                inputUrl = options.parseUrl ? urlUtil.parse(url) : url;\n\n                //call strategies handlers, in their order until once returns somethin\n                _.forEach(this._strategies, function(strategy){\n                    var result = strategy.handle(inputUrl, data);\n                    if(result){\n                        resolved = result;\n                        return false;\n                    }\n                });\n\n                resolved = resolved || '';\n\n                if(options.cache){\n                    cache[url] = resolved;\n                }\n\n                return resolved;\n            },\n\n            /**\n             * Resolve the given URL against the strategy identified by the given name\n             * @param {String} name - the strategy name\n             * @param {String} url - the URL to resolve\n             * @returns {String?} the resolved URL or nothing\n             */\n            resolveBy : function resolveBy(name, url){\n                var inputUrl;\n                var resolved = '';\n                var strategy = _.find(this._strategies, {name : name});\n                if(strategy){\n                    //parse the url ?\n                    inputUrl = options.parseUrl ? urlUtil.parse(url) : url;\n                    resolved = strategy.handle(inputUrl, data);\n                }\n                return resolved;\n            },\n\n            /**\n             * When the cache is used, it could be useful to clear the cache\n             */\n            clearCache : function clearCache(){\n                if(options.cache){\n                    cache = {};\n                }\n            }\n        };\n\n        assetManager.setStrategies(strategies);\n\n        return assetManager;\n    };\n\n    return assetManagerFactory;\n});\n\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technlogies SA (under the project TAO-PRODUCT);\n *\n */\n\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoItems/runner/api/itemRunner',[\n    'jquery',\n    'lodash',\n    'taoItems/assets/manager'\n], function($, _, assetManagerFactory){\n    'use strict';\n\n     /**\n     *\n     * Builds a brand new {@link ItemRunner}.\n     *\n     * <strong>The factory is an internal mechanism to create encapsulated contexts.\n     *  I suggest you to use directly the name <i>itemRunner</i> when you require this module.</strong>\n     *\n     * @example require(['itemRunner'], function(itemRunner){\n                    itemRunner({itemId : 12})\n     *                    .on('statechange', function(state){\n     *\n     *                    })\n     *                    .on('ready', function(){\n     *\n     *                    })\n     *                    .on('response', function(){\n     *\n     *                    })\n     *                   .init()\n     *                   .render($('.item-container'));\n     *          });\n     *\n     * @exports itemRunner\n     * @namespace itemRunnerFactory\n     *\n     * @param {String} [providerName] - the name of a provider previously registered see {@link itemRunnerFactory#register}\n     * @param {Object} [data] - the data of the item to run\n     *\n     * @returns {ItemRunner}\n     */\n    var itemRunnerFactory = function itemRunnerFactory(providerName, data, options){\n\n        var ItemRunner,\n            provider,\n            providers,\n            assetManager;\n\n        //contains the bound events.\n        var events = {};\n\n        //flow structure to manage sync calls in an async context.\n        var flow = {\n            init : {\n                done: false,\n                pending : []\n            },\n            render : {\n                done: false,\n                pending : []\n            }\n        };\n\n        //optional params based on type\n        if(_.isPlainObject(providerName)){\n            data = providerName;\n            providerName = undefined;\n        }\n\n        data = data || {};\n        options = options || {};\n\n        /*\n         * Select the provider\n         */\n        providers = itemRunnerFactory.providers;\n\n        //check a provider is available\n        if(!providers || _.size(providers) === 0){\n            throw new Error('No provider regitered');\n        }\n\n        if(_.isString(providerName) && providerName.length > 0){\n            provider = providers[providerName];\n        } else if(_.size(providers) === 1) {\n\n            //if there is only one provider, then we take this one\n            providerName = _.keys(providers)[0];\n            provider = providers[providerName];\n        }\n\n        //now we should have a provider\n        if(!provider){\n            throw new Error('No candidate found for the provider');\n        }\n\n        //set up a default assetManager using a \"do nothing\" strategy\n        assetManager = options.assetManager || assetManagerFactory(function defaultStrategy(url){\n            return url.toString();\n        });\n\n\n       /**\n        * The ItemRunner\n        * @typedef {Object} ItemRunner\n        */\n\n        /**\n        * @type {ItemRunner}\n        * @lends itemRunnerFactory\n        */\n        ItemRunner = {\n\n            /**\n             * Items container\n             * @type {HTMLElement}\n             */\n            container : null,\n\n            /**\n             * The asset manager used to resolve asset\n             * @see taoItems/asset/manager\n             * @type {AssetManager}\n             */\n            assetManager : assetManager,\n\n            /**\n             * To give options to the item runner provider\n             * @type {Object}\n             */\n            options : options,\n\n            /**\n             * Initialize the runner.\n             * @param {Object} [newData] - just in case you want to change item data (it should not occurs in most case)\n             * @returns {ItemRunner} to chain calls\n             *\n             * @fires ItemRunner#init\n             */\n            init : function(newData){\n                var self = this;\n\n                /**\n                 * Call back when init is done\n                 */\n                var initDone = function initDone(){\n\n                   //manage pending tasks the first time\n                    if(flow.init.done === false){\n                        flow.init.done = true;\n\n                        _.forEach(flow.init.pending, function(pendingTask){\n                            if(_.isFunction(pendingTask)){\n                                pendingTask.call(self);\n                            }\n                        });\n                        flow.init.pending = [];\n                    }\n\n                    /**\n                     * the runner has initialized correclty the item\n                     * @event ItemRunner#init\n                     */\n                    self.trigger('init');\n                };\n\n                //merge data\n                if(newData){\n                    data = _.merge(data, newData);\n                }\n\n                if(_.isFunction(provider.init)){\n\n                    /**\n                     * Calls provider's initialization with item data.\n                     * @callback InitItemProvider\n                     * @param {Object} data - the item data\n                     * @param {Function} done - call once the initialization is done\n                     */\n                    provider.init.call(this, data, initDone);\n\n                } else {\n                    initDone();\n                }\n\n                return this;\n            },\n\n            /**\n             * Configure the assetManager\n             * @see taoItems/assets/manager\n             * @param {AssetStrategy[]} strategies - the resolving strategies\n             * @param {Object} [data] - the context data\n             * @param {Object} [options] - the asset manager options\n             * @returns {ItemRunner} to chain calls\n             */\n            assets : function assets(strategies, data, options){\n\n                try{\n                    this.assetManager = assetManagerFactory(strategies, data, options);\n                } catch( err ){\n                    this.trigger('error', 'Something was wrong while configuring the asset manager : ' + err);\n                }\n\n                return this;\n            },\n\n            /**\n             * Initialize the current item.\n             *\n             * @param {HTMLElement|jQueryElement} elt - the DOM element that is going to contain the rendered item.\n             * @returns {ItemRunner} to chain calls\n             *\n             * @fires ItemRunner#ready\n             * @fires ItemRunner#render\n             * @fires ItemRunner#error if the elt isn't valid\n             *\n             * @fires ItemRunner#statechange the provider is reponsible to trigger this event\n             * @fires ItemRunner#responsechange  the provider is reponsible to trigger this event\n             */\n           render : function(elt){\n                var self = this;\n\n                /**\n                 * Call back when render is done\n                 */\n                var renderDone = function renderDone (){\n\n                    //manage pending tasks the first time\n                    if(flow.render.done === false){\n                        flow.render.done = true;\n\n                        _.forEach(flow.render.pending, function(pendingTask){\n                            if(_.isFunction(pendingTask)){\n                                pendingTask.call(self);\n                            }\n                        });\n                        flow.render.pending = [];\n                    }\n\n                    /**\n                     * The item is rendered\n                     * @event ItemRunner#render\n                     */\n                    self.trigger('render');\n\n                    /**\n                     * The item is ready.\n                     * Alias of {@link ItemRunner#render}\n                     * @event ItemRunner#ready\n                     */\n                    self.trigger('ready');\n                };\n\n                //check elt\n                if( !(elt instanceof HTMLElement) && !(elt instanceof $) ){\n                    return self.trigger('error', 'A valid HTMLElement (or a jquery element) at least is required to render the item');\n                }\n\n                if(flow.init.done === false){\n                    flow.init.pending.push(function(){\n                        this.render(elt);\n                    });\n                } else {\n\n                    //we keep a reference to the container\n                    if(elt instanceof $){\n                        this.container = elt.get(0);\n                    } else {\n                        this.container = elt;\n                    }\n\n                    //the state will be applied only when the rendering is made\n\n                    if(_.isFunction(provider.render)){\n\n                        /**\n                         * Calls the provider's render\n                         * @callback RendertItemProvider\n                         * @param {HTMLElement} elt - the element to render inside\n                         * @param {Function} done - call once the render is done\n                         */\n                        provider.render.call(this, this.container, renderDone);\n\n                    } else {\n                        renderDone();\n                    }\n                }\n\n                return this;\n           },\n\n           /**\n            * Clear the running item.\n            * @returns {ItemRunner}\n            *\n            * @fires ItemRunner#clear\n            */\n           clear : function(){\n                var self = this;\n\n                /**\n                 * Call back when clear is done\n                 */\n                var clearDone = function clearDone (){\n\n                    //events = {};\n\n                    /**\n                     * The item is ready.\n                     * @event ItemRunner#clear\n                     */\n                    self.trigger('clear');\n                };\n                if(_.isFunction(provider.clear)){\n\n                    /**\n                     * Calls the provider's clear\n                     * @callback ClearItemProvider\n                     * @param {HTMLElement} elt - item's container\n                     * @param {Function} done - call once the initialization is done\n                     */\n                    provider.clear.call(this, this.container, clearDone);\n\n                } else {\n                    clearDone();\n                }\n\n                return this;\n           },\n\n           /**\n            * Get the current state of the running item.\n            *\n            * @returns {Object|Null} state\n            */\n           getState : function(){\n                var state = null;\n                if(_.isFunction(provider.getState)){\n\n                    /**\n                     * Calls the provider's getState\n                     * @callback GetStateItemProvider\n                     * @returns {Object} the state\n                     */\n                    state = provider.getState.call(this);\n                }\n                return state;\n           },\n\n           /**\n            * Set the current state of the running item.\n            * This should have the effect to restore the item state.\n            *\n            * @param {Object} state - the new state\n            * @returns {ItemRunner}\n            *\n            * @fires ItemRunner#error if the state type doesn't match\n            */\n           setState : function(state){\n\n                if(!_.isPlainObject(state)){\n                    return this.trigger('error', \"The item's state must be a JavaScript Plain Object: \" + (typeof state) + ' given');\n                }\n\n                //the state will be applied only when the rendering is made\n                if(flow.render.done === false){\n                    flow.render.pending.push(function(){\n                        this.setState(state);\n                    });\n                } else {\n\n                    if(_.isFunction(provider.setState)){\n\n                        /**\n                         * Calls the provider's setState\n                         * @callback SetStateItemProvider\n                         * @param {Object} state -  the state to set\n                         */\n                        provider.setState.call(this, state);\n                    }\n                }\n                return this;\n           },\n\n           /**\n            * Get the responses of the running item.\n            *\n            * @returns {Object} the item's responses\n            */\n           getResponses : function(){\n                var responses = {};\n                if(_.isFunction(provider.getResponses)){\n\n                    /**\n                     * Calls the provider's getResponses\n                     * @callback GetResponsesItemProvider\n                     * @returns {Object} the responses\n                     */\n                    responses = provider.getResponses.call(this);\n                }\n                return responses;\n           },\n\n           /**\n            * Attach an event handler.\n            * Calling `on` with the same eventName multiple times add callbacks: they\n            * will all be executed.\n            *\n            * @example itemRunner()\n            *               .on('statechange', function(state){\n            *                   //state === this.getState()\n            *               });\n            *\n            * @param {String} name - the name of the event to listen\n            * @param {Function} handler - the callback to run once the event is triggered. It's executed with the current itemRunner context (ie. this\n            * @returns {ItemRunner}\n            */\n            on : function(name, handler){\n                if(_.isString(name) && _.isFunction(handler)){\n                    events[name] = events[name] || [];\n                    events[name].push(handler);\n                }\n                return this;\n            },\n\n            /**\n            * Remove handlers for an event.\n            *\n            * @example itemRunner().off('statechange');\n            *\n            * @param {String} name - the event name\n            * @returns {ItemRunner}\n            */\n            off : function(name){\n                if(_.isString(name)){\n                    events[name] = [];\n                }\n                return this;\n            },\n\n            /**\n            * Trigger an event manually.\n            *\n            * @example itemRunner().trigger('statechange', new State());\n            *\n            * @param {String} name - the name of the event to trigger\n            * @param {*} data - arguments given to the handlers\n            * @returns {ItemRunner}\n            */\n            trigger : function(name, data){\n                var self = this;\n                if(_.isString(name) && _.isArray(events[name])){\n                    _.forEach(events[name], function(event){\n                        event.call(self, data);\n                    });\n                }\n                return this;\n            }\n        };\n\n        return ItemRunner;\n    };\n\n    /**\n     * Register an <i>Item Runtime Provider</i> into the item runner.\n     * The provider provides the behavior required by the item runner.\n     *\n     * @param {String} name - the provider name will be used to select the provider while instantiating the runner\n     *\n     * @param {Object} provider - the Item Runtime Provider as a plain object. The itemRunner forwards encapsulate and delegate calls to the provider.\n     * @param {InitItemProvider} provider.init - the provider initializes the item from it's data, for example loading libraries, add some listeners, etc.\n     * @param {RenderItemProvider} provider.render - the provider renders the item within the given container element.\n     * @param {ClearItemProvider} [provider.clear] - the provider clears the item.\n     * @param {GetStateItemProvider} [provider.getState] - the provider get the item's state.\n     * @param {SetStateItemProvider} [provider.setState] - the provider restore the item to the given state.\n     * @param {GetRespnsesItemProvider} [provider.getResponses] - the provider gives the current responses.\n     *\n     * @throws TypeError when a wrong provider is given or an empty name.\n     */\n    itemRunnerFactory.register = function registerProvider(name, provider){\n        //type checking\n        if(!_.isString(name) || name.length <= 0){\n            throw new TypeError('It is required to give a name to your provider.');\n        }\n        if(!_.isPlainObject(provider) || (!_.isFunction(provider.init) && !_.isFunction(provider.render))){\n            throw new TypeError('A provider is an object that contains at least an init function or a render function.');\n        }\n\n        this.providers = this.providers || {};\n        this.providers[name] = provider;\n    };\n\n    return itemRunnerFactory;\n});\n\n","define('taoQtiItem/qtiItem/core/qtiClasses',[], function(){\n    return {\n        '_container' : 'taoQtiItem/qtiItem/core/Container',\n        'assessmentItem' : 'taoQtiItem/qtiItem/core/Item',\n        'responseProcessing' : 'taoQtiItem/qtiItem/core/ResponseProcessing',\n        '_simpleFeedbackRule' : 'taoQtiItem/qtiItem/core/response/SimpleFeedbackRule',\n        'stylesheet' : 'taoQtiItem/qtiItem/core/Stylesheet',\n        'math' : 'taoQtiItem/qtiItem/core/Math',\n        'img' : 'taoQtiItem/qtiItem/core/Img',\n        'object' : 'taoQtiItem/qtiItem/core/Object',\n        'outcomeDeclaration' : 'taoQtiItem/qtiItem/core/variables/OutcomeDeclaration',\n        'responseDeclaration' : 'taoQtiItem/qtiItem/core/variables/ResponseDeclaration',\n        'rubricBlock' : 'taoQtiItem/qtiItem/core/RubricBlock',\n        'associableHotspot' : 'taoQtiItem/qtiItem/core/choices/AssociableHotspot',\n        'gap' : 'taoQtiItem/qtiItem/core/choices/Gap',\n        'gapImg' : 'taoQtiItem/qtiItem/core/choices/GapImg',\n        'gapText' : 'taoQtiItem/qtiItem/core/choices/GapText',\n        'hotspotChoice' : 'taoQtiItem/qtiItem/core/choices/HotspotChoice',\n        'hottext' : 'taoQtiItem/qtiItem/core/choices/Hottext',\n        'inlineChoice' : 'taoQtiItem/qtiItem/core/choices/InlineChoice',\n        'simpleAssociableChoice' : 'taoQtiItem/qtiItem/core/choices/SimpleAssociableChoice',\n        'simpleChoice' : 'taoQtiItem/qtiItem/core/choices/SimpleChoice',\n        'associateInteraction' : 'taoQtiItem/qtiItem/core/interactions/AssociateInteraction',\n        'choiceInteraction' : 'taoQtiItem/qtiItem/core/interactions/ChoiceInteraction',\n        'endAttemptInteraction' : 'taoQtiItem/qtiItem/core/interactions/EndAttemptInteraction',\n        'extendedTextInteraction' : 'taoQtiItem/qtiItem/core/interactions/ExtendedTextInteraction',\n        'gapMatchInteraction' : 'taoQtiItem/qtiItem/core/interactions/GapMatchInteraction',\n        'graphicAssociateInteraction' : 'taoQtiItem/qtiItem/core/interactions/GraphicAssociateInteraction',\n        'graphicGapMatchInteraction' : 'taoQtiItem/qtiItem/core/interactions/GraphicGapMatchInteraction',\n        'graphicOrderInteraction' : 'taoQtiItem/qtiItem/core/interactions/GraphicOrderInteraction',\n        'hotspotInteraction' : 'taoQtiItem/qtiItem/core/interactions/HotspotInteraction',\n        'hottextInteraction' : 'taoQtiItem/qtiItem/core/interactions/HottextInteraction',\n        'inlineChoiceInteraction' : 'taoQtiItem/qtiItem/core/interactions/InlineChoiceInteraction',\n        'matchInteraction' : 'taoQtiItem/qtiItem/core/interactions/MatchInteraction',\n        'mediaInteraction' : 'taoQtiItem/qtiItem/core/interactions/MediaInteraction',\n        'orderInteraction' : 'taoQtiItem/qtiItem/core/interactions/OrderInteraction',\n        'prompt' : 'taoQtiItem/qtiItem/core/interactions/Prompt',\n        'selectPointInteraction' : 'taoQtiItem/qtiItem/core/interactions/SelectPointInteraction',\n        'sliderInteraction' : 'taoQtiItem/qtiItem/core/interactions/SliderInteraction',\n        'textEntryInteraction' : 'taoQtiItem/qtiItem/core/interactions/TextEntryInteraction',\n        'uploadInteraction' : 'taoQtiItem/qtiItem/core/interactions/UploadInteraction',\n        'feedbackBlock' : 'taoQtiItem/qtiItem/core/feedbacks/FeedbackBlock',\n        'feedbackInline' : 'taoQtiItem/qtiItem/core/feedbacks/FeedbackInline',\n        'modalFeedback' : 'taoQtiItem/qtiItem/core/feedbacks/ModalFeedback',\n        'customInteraction' : 'taoQtiItem/qtiItem/core/interactions/CustomInteraction',\n        'infoControl' : 'taoQtiItem/qtiItem/core/PortableInfoControl',\n        'include' : 'taoQtiItem/qtiItem/core/Include'\n    };\n});\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA\n *\n */\n\n/**\n * Common basic util functions\n */\ndefine('taoQtiItem/qtiItem/helper/util',['lodash'], function(_){\n    'use strict';\n\n    var util = {\n\n        buildSerial : function buildSerial(prefix){\n            var id = prefix || '';\n            var chars = \"abcdefghijklmnopqrstuvwxyz0123456789\";\n            for(var i = 0; i < 22; i++){\n                id += chars.charAt(Math.floor(Math.random() * chars.length));\n            }\n            return id;\n        },\n\n        /**\n         * Generates an id for a Qti element (the generation is different from identifier)\n         * @param {Object} item - the element related item\n         * @param {String} prefix - identifier prefix\n         * @returns {String} the identifier\n         * @throws {TypeError} if there is no item\n         */\n        buildId : function buildId(item, prefix){\n            var id;\n            var usedIds;\n            var i = 1;\n            var suffix = '';\n            var exists = false;\n\n            if(!item){\n                throw new TypeError('A item is required to generate a unique identifier');\n            }\n\n            usedIds   = item.getUsedIds();\n\n            do{\n                exists = false;\n                id = prefix + suffix;\n                if(_.contains(usedIds, id)){\n                    exists = true;\n                    suffix = '_' + i;\n                    i++;\n                }\n            } while(exists);\n\n            return id;\n        },\n\n        /**\n         * Generates an identifier for a Qti element\n         * @param {Object} item - the element related item\n         * @param {String} prefix - identifier prefix\n         * @param {Boolean} [useSuffix = true] - add a \"_ + index\" to the identifier\n         * @returns {String} the identifier\n         * @throws {TypeError} if there is no item\n         */\n        buildIdentifier : function buildIdentifier(item, prefix, useSuffix){\n\n            var id;\n            var usedIds;\n            var suffix = '';\n            var i = 1;\n            var exists = false;\n\n            if(!item){\n                throw new TypeError('A item is required to generate a unique identifier');\n            }\n\n            usedIds   = item.getUsedIdentifiers();\n            useSuffix = _.isUndefined(useSuffix) ? true : useSuffix;\n\n            if(prefix){\n                prefix = prefix.replace(/_[0-9]+$/ig, '_') //detect incremental id of type choice_12, response_3, etc.\n                               .replace(/[^a-zA-Z0-9_]/ig, '_')\n                               .replace(/(_)+/ig, '_');\n                if(useSuffix){\n                    suffix = '_' + i;\n                }\n            } else {\n                prefix = this.qtiClass;\n                suffix = '_' + i;\n            }\n\n            do{\n                exists = false;\n                id = prefix + suffix;\n                if(usedIds[id]){\n                    exists = true;\n                    suffix = '_' + i;\n                    i++;\n                }\n            } while(exists);\n\n            return id;\n        },\n\n        findInCollection : function findInCollection(element, collectionNames, searchedSerial){\n\n            var found = null;\n\n            if(_.isString(collectionNames)){\n                collectionNames = [collectionNames];\n            }\n\n            if(_.isArray(collectionNames)){\n\n                _.each(collectionNames, function(collectionName){\n\n                    //get collection to search in (resolving case like interaction.choices.0\n                    var collection = element;\n                    _.each(collectionName.split('.'), function(nameToken){\n                        collection = collection[nameToken];\n                    });\n                    var elt = collection[searchedSerial];\n\n                    if(elt){\n                        found = {'parent' : element, 'element' : elt};\n                        return false;//break the each loop\n                    }\n\n                    //search inside each elements:\n                    _.each(collection, function(elt){\n\n                        if(_.isFunction(elt.find)){\n                            found = elt.find(searchedSerial);\n                            if(found){\n                                return false;//break the each loop\n                            }\n                        }\n\n                    });\n\n                    if(found){\n                        return false;//break the each loop\n                    }\n\n                });\n\n            }else{\n\n                throw new Error('invalid argument : collectionNames must be an array or a string');\n            }\n\n            return found;\n        },\n        addMarkupNamespace : function addMarkupNamespace(markup, ns){\n            if(ns) {\n                markup = markup.replace(/<(\\/)?([a-z:]+)(\\s?)([^><]*)>/g, function($0, $1, $2, $3, $4){\n                    if($2.indexOf(':')>0){\n                        return $0;\n                    }\n                    $1 = $1 || '';\n                    $3 = $3 || '';\n                    return '<'+ $1 + ns + ':'+$2+$3+$4+'>';\n                });\n                return markup;\n            }\n            return markup;\n\n        },\n        removeMarkupNamespaces : function removeMarkupNamespace(markup){\n            return markup.replace(/<(\\/)?(\\w*):([^>]*)>/g, '<$1$3>');\n        },\n        getMarkupUsedNamespaces : function getMarkupUsedNamespaces(markup){\n            var namespaces = [];\n            markup.replace(/<(\\/)?(\\w*):([^>]*)>/g, function(original, slash, ns, node){\n                namespaces.push(ns);\n                return '<'+slash+node+'>';\n            });\n            return _.uniq(namespaces);\n        }\n    };\n\n    return util;\n});\n\n","define('taoQtiItem/qtiItem/helper/rendererConfig',['lodash', 'jquery'], function(_, $){\n\n    var rendererConfigHelper = {};\n\n    rendererConfigHelper.getOptionsFromArguments = function(args){\n\n        var options = {\n            data : {},\n            placeholder : null,\n            subclass : '',\n            renderer : null\n        };\n        \n        _.each(args, function(arg){\n            if(arg){\n                if(arg.isRenderer){\n                    options.renderer = arg;\n                }else if(arg instanceof $ && arg.length){\n                    options.placeholder = arg;\n                }else if(_.isString(arg)){\n                    options.subclass = arg;\n                }else if(_.isPlainObject(arg)){\n                    options.data = arg;\n                }else{\n                    console.log('invalid arg', arg, args);\n                }\n            }\n        });\n        \n        return options;\n    };\n    \n    return rendererConfigHelper;\n});\n\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA\n *\n */\ndefine('taoQtiItem/qtiItem/core/Element',[\n    'jquery',\n    'lodash',\n    'class',\n    'taoQtiItem/qtiItem/helper/util',\n    'taoQtiItem/qtiItem/helper/rendererConfig'\n], function($, _, Class, util, rendererConfig){\n    'use strict';\n\n    var _instances = {};\n\n    var Element = Class.extend({\n        qtiClass : '',\n        serial : '',\n        relatedItem : null,\n        init : function(serial, attributes){\n\n            //init own attributes\n            this.attributes = {};\n\n            //system properties, for item creator internal use only\n            this.metaData = {};\n\n            //init call in the format init(attributes)\n            if(typeof (serial) === 'object'){\n                attributes = serial;\n                serial = '';\n            }\n\n            if(!serial){\n                serial = util.buildSerial(this.qtiClass + '_');\n            }\n\n            if(serial && (typeof serial !== 'string' || !serial.match(/^[a-z_0-9]*$/i))){\n                throw 'invalid QTI serial : (' + (typeof serial) + ') ' + serial;\n            }\n\n            if(!_instances[serial]){\n                _instances[serial] = this;\n                this.serial = serial;\n                this.setAttributes(attributes || {});\n            }else{\n                throw 'a QTI Element with the same serial already exists ' + serial;\n            }\n\n            if(typeof this.initContainer === 'function'){\n                this.initContainer(arguments[2] || '');\n            }\n            if(typeof this.initObject === 'function'){\n                this.initObject();\n            }\n        },\n        is : function(qtiClass){\n            return (qtiClass === this.qtiClass);\n        },\n        placeholder : function(){\n            return '{{' + this.serial + '}}';\n        },\n        getSerial : function(){\n            return this.serial;\n        },\n        getUsedIdentifiers : function(){\n            var usedIds = {};\n            var elts = this.getComposingElements();\n            for(var i in elts){\n                var elt = elts[i];\n                var id = elt.attr('identifier');\n                if(id){\n                    //warning: simplistic implementation, allow only one unique identifier in the item no matter the element class/type\n                    usedIds[id] = elt;\n                }\n            }\n            return usedIds;\n        },\n\n        /**\n         * Get the ids in use. (id is different from identifier)\n         * @returns {Array} of the ids in use\n         */\n        getUsedIds : function getUsedIds(){\n            var usedIds = [];\n            _.forEach(this.getComposingElements(), function(elt){\n                var id = elt.attr('id');\n                if(id && !_.contains(usedIds, id)){\n                    usedIds.push(id);\n                }\n            });\n            return usedIds;\n        },\n\n        attr : function(name, value){\n            if(name){\n                if(value !== undefined){\n                    this.attributes[name] = value;\n                }else{\n                    if(typeof (name) === 'object'){\n                        for(var prop in name){\n                            this.attr(prop, name[prop]);\n                        }\n                    }else if(typeof (name) === 'string'){\n                        if(this.attributes[name] === undefined){\n                            return undefined;\n                        }else{\n                            return this.attributes[name];\n                        }\n                    }\n                }\n            }\n            return this;\n        },\n        data : function(name, value){\n            if(name){\n                if(value !== undefined){\n                    this.metaData[name] = value;\n                    $(document).trigger('metaChange.qti-widget', {element : this, key : name, value : value});\n                }else{\n                    if(typeof (name) === 'object'){\n                        for(var prop in name){\n                            this.data(prop, name[prop]);\n                        }\n                    }else if(typeof (name) === 'string'){\n                        if(this.metaData[name] === undefined){\n                            return undefined;\n                        }else{\n                            return this.metaData[name];\n                        }\n                    }\n                }\n            }\n            return this;\n        },\n        removeData : function(name){\n            delete this.metaData[name];\n            return this;\n        },\n        removeAttr : function(name){\n            return this.removeAttributes(name);\n        },\n        setAttributes : function(attributes){\n            this.attributes = attributes;\n            return this;\n        },\n        getAttributes : function(){\n            return _.clone(this.attributes);\n        },\n        removeAttributes : function(attrNames){\n            if(typeof (attrNames) === 'string'){\n                attrNames = [attrNames];\n            }\n            for(var i in attrNames){\n                delete this.attributes[attrNames[i]];\n            }\n            return this;\n        },\n        getComposingElements : function(){\n            var elts = {};\n            function append(element){\n                elts[element.getSerial()] = element;//pass individual object by ref, instead of the whole list(object)\n                elts = _.extend(elts, element.getComposingElements());\n            }\n            if(typeof this.initContainer === 'function'){\n                append(this.getBody());\n            }\n            if(typeof this.initObject === 'function'){\n                append(this.getObject());\n            }\n            _.each(this.metaData, function(v){\n                if(Element.isA(v, '_container')){\n                    append(v);\n                }else if(_.isArray(v)){\n                    _.each(v, function(v){\n                        if(Element.isA(v, '_container')){\n                            append(v);\n                        }\n                    });\n                }\n            });\n            return elts;\n        },\n        getUsedClasses : function(){\n\n            var ret = [this.qtiClass],\n                composingElts = this.getComposingElements();\n\n            _.each(composingElts, function(elt){\n                ret.push(elt.qtiClass);\n            });\n\n            return _.uniq(ret);\n        },\n        find : function(serial){\n\n            var found = null;\n\n            if(typeof this.initObject === 'function'){\n                var object = this.getObject();\n                if(object.serial === serial){\n                    found = {'parent' : this, 'element' : object, 'location' : 'object'};\n                }\n            }\n\n            if(!found && typeof this.initContainer === 'function'){\n                found = this.getBody().find(serial, this);\n            }\n\n            return found;\n        },\n        parent : function(){\n            var item = this.getRelatedItem();\n            if(item){\n                var found = item.find(this.getSerial());\n                if(found){\n                    return found.parent;\n                }\n            }\n            return null;\n        },\n        setRelatedItem : function(item, recursive){\n\n            recursive = (typeof recursive === 'undefined') ? true : recursive;\n\n            if(Element.isA(item, 'assessmentItem')){\n                this.relatedItem = item;\n                var composingElts = this.getComposingElements();\n                for(var i in composingElts){\n                    composingElts[i].setRelatedItem(item, false);\n                }\n            }\n\n        },\n        getRelatedItem : function(){\n            var ret = null;\n            if(Element.isA(this.relatedItem, 'assessmentItem')){\n                ret = this.relatedItem;\n            }\n            return ret;\n        },\n        setRenderer : function(renderer){\n            if(renderer && renderer.isRenderer){\n                this.renderer = renderer;\n                var elts = this.getComposingElements();\n                for(var serial in elts){\n                    elts[serial].setRenderer(renderer);\n                }\n            }else{\n                throw 'invalid qti rendering engine';\n            }\n        },\n        getRenderer : function(){\n            return this.renderer;\n        },\n        render : function(){\n\n            var args = rendererConfig.getOptionsFromArguments(arguments);\n            var _renderer = args.renderer || this.getRenderer();\n\n            var tplData = {},\n                defaultData = {\n                    'tag' : this.qtiClass,\n                    'serial' : this.serial,\n                    'attributes' : this.getAttributes()\n                };\n\n            if(!_renderer){\n                throw 'render: no renderer found for the element ' + this.qtiClass + ':' + this.serial;\n            }\n\n            if(typeof this.initContainer === 'function'){\n                //allow body to have a different renderer if it has its own renderer set\n                defaultData.body = this.getBody().render(args.renderer);\n            }\n            if(typeof this.initObject === 'function'){\n                defaultData.object = {\n                    attributes : this.object.getAttributes()\n                };\n                defaultData.object.attributes.data = _renderer.resolveUrl(this.object.attr('data'));\n            }\n\n            tplData = _.merge(defaultData, args.data || {});\n            tplData = _renderer.getData(this, tplData, args.subclass);\n            var rendering = _renderer.renderTpl(this, tplData, args.subclass);\n            if(args.placeholder){\n                args.placeholder.replaceWith(rendering);\n            }\n\n            return rendering;\n        },\n        postRender : function(data, altClassName, renderer){\n\n            var postRenderers = [];\n            var _renderer = renderer || this.getRenderer();\n\n            if(typeof this.initContainer === 'function'){\n                //allow body to have a different renderer if it has its own renderer set\n                postRenderers = this.getBody().postRender({}, '', renderer);\n            }\n\n            if(_renderer){\n                postRenderers.push(_renderer.postRender(this, data, altClassName));\n            }else{\n                throw 'postRender: no renderer found for the element ' + this.qtiClass + ':' + this.serial;\n            }\n\n            return _.compact(postRenderers);\n        },\n        getContainer : function($scope, subclass){\n            var renderer = this.getRenderer();\n            if(renderer){\n                return renderer.getContainer(this, $scope, subclass);\n            }else{\n                throw 'getContainer: no renderer found for the element ' + this.qtiClass + ':' + this.serial;\n            }\n        },\n        toArray : function(){\n            var arr = {\n                serial : this.serial,\n                type : this.qtiClass,\n                attributes : this.getAttributes()\n            };\n\n            if(typeof this.initContainer === 'function'){\n                arr.body = this.getBody().toArray();\n            }\n            if(typeof this.initObject === 'function'){\n                arr.object = this.object.toArray();\n            }\n\n            return arr;\n        },\n        isEmpty : function(){\n            //tells whether the element should be considered empty or not, from the rendering point of view\n            return false;\n        },\n        addClass : function(className){\n            var clazz = this.attr('class') || '';\n            if(!_containClass(clazz, className)){\n                this.attr('class', clazz + (clazz.length ? ' ' : '') + className);\n            }\n        },\n        hasClass : function(className){\n            return _containClass(this.attr('class'), className);\n        },\n        removeClass : function(className){\n\n            var clazz = this.attr('class') || '';\n            if(clazz){\n\n                var regex = new RegExp('(?:^|\\\\s)' + className + '(?:\\\\s|$)');\n                clazz = clazz.replace(regex, ' ').trim();\n\n                if(clazz){\n                    this.attr('class', clazz);\n                }else{\n                    this.removeAttr('class');\n                }\n            }\n        },\n        /**\n         * Add or remove class. Setting the optional state will force addition/removal.\n         * State is here to keep the jQuery syntax\n         *\n         * @param {String} className\n         * @param {Boolean} [state]\n         */\n        toggleClass : function(className, state) {\n\n            if(typeof state === 'boolean') {\n                return state ? this.addClass(className) : this.removeClass(className);\n            }\n\n            if(this.hasClass(className)) {\n                return this.removeClass(className);\n            }\n            return this.addClass(className);\n        },\n        isset : function(){\n            return Element.issetElement(this.serial);\n        },\n        unset : function(){\n            return Element.unsetElement(this.serial);\n        }\n    });\n\n    var _containClass = function(allClassStr, className){\n        var regex = new RegExp('(?:^|\\\\s)' + className + '(?:\\\\s|$)', '');\n        return allClassStr && regex.test(allClassStr);\n    };\n\n    //helpers\n    Element.isA = function(qtiElement, qtiClass){\n        return (qtiElement instanceof Element && qtiElement.is(qtiClass));\n    };\n\n    Element.getElementBySerial = function(serial){\n        return _instances[serial];\n    };\n\n    Element.issetElement = function(serial){\n        return !!_instances[serial];\n    };\n\n    /**\n     * Unset a registered element from it's serial\n     * @param {String} serial - the element serial\n     * @returns {Boolean} true if unset\n     */\n    Element.unsetElement = function(serial){\n\n        var element = Element.getElementBySerial(serial);\n\n        if(element){\n\n            var composingElements = element.getComposingElements();\n            _.each(composingElements, function(elt){\n                delete _instances[elt.serial];\n            });\n            delete _instances[element.serial];\n\n            return true;\n        }\n        return false;\n    };\n\n    return Element;\n});\n\n\n\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n *\n */\n//@todo : move this to the ../helper directory\ndefine('taoQtiItem/qtiItem/core/Loader',['lodash', 'class', 'taoQtiItem/qtiItem/core/qtiClasses', 'taoQtiItem/qtiItem/core/Element'], function(_, Class, qtiClasses, Element){\n\n    var Loader = Class.extend({\n        init : function(item, classesLocation){\n\n            this.qti = {}; //loaded qti classes are store here\n            this.classesLocation = {};\n\n            this.item = item || null;//starts either from scratch or with an existing item object\n            this.setClassesLocation(classesLocation || qtiClasses);//load default location for qti classes model\n        },\n        setClassesLocation : function(qtiClasses){\n            _.extend(this.classesLocation, qtiClasses);\n            return this;\n        },\n        getRequiredClasses : function(data){\n            var ret = [];\n            for(var i in data){\n                if(i === 'qtiClass' && data[i] !== '_container' && i !== 'relatedItem'){//although a _container is a concrete class in TAO, it is not defined in QTI standard\n                    ret.push(data[i]);\n                }else if(typeof(data[i]) === 'object' && i !== 'responseRules'){    //responseRules should'nt be part of the parsing\n                    ret = _.union(ret, this.getRequiredClasses(data[i]));\n                }\n            }\n            return ret;\n        },\n        loadRequiredClasses : function(data, callback, reload){\n\n            var requiredClasses = this.getRequiredClasses(data, reload), required = [];\n\n            for(var i in requiredClasses){\n                var requiredClass = requiredClasses[i];\n                if(this.classesLocation[requiredClass]){\n                    required.push(this.classesLocation[requiredClass]);\n                }else{\n                    throw new Error('missing qti class location declaration : ' + requiredClass);\n                }\n            }\n\n            var _this = this;\n            require(required, function(){\n                _.each(arguments, function(QtiClass){\n                    _this.qti[QtiClass.prototype.qtiClass] = QtiClass;\n                });\n                callback.call(_this, _this.qti);\n            });\n        },\n        getLoadedClasses : function(){\n            return _.keys(this.qti);\n        },\n        loadItemData : function(data, callback){\n\n            var _this = this;\n            _this.loadRequiredClasses(data, function(Qti){\n                var i;\n                if(typeof(data) === 'object' && data.qtiClass === 'assessmentItem'){\n\n                    //unload an item from it's serial (in case of a reload)\n                    if(data.serial){\n                        Element.unsetElement(data.serial);\n                    }\n\n                    _this.item = new Qti.assessmentItem(data.serial, data.attributes || {});\n                    _this.loadContainer(_this.item.getBody(), data.body);\n\n                    for(i in data.outcomes){\n                        var outcome = _this.buildOutcome(data.outcomes[i]);\n                        if(outcome){\n                            _this.item.addOutcomeDeclaration(outcome);\n                        }\n                    }\n                    for(i in data.feedbacks){\n                        var feedback = _this.buildElement(data.feedbacks[i]);\n                        if(feedback){\n                            _this.item.addModalFeedback(feedback);\n                        }\n                    }\n                    for(i in data.stylesheets){\n                        var stylesheet = _this.buildElement(data.stylesheets[i]);\n                        if(stylesheet){\n                            _this.item.addStylesheet(stylesheet);\n                        }\n                    }\n\n                    //important : build responses after all modal feedbacks and outcomes has been loaded, because the simple feedback rules need to reference them\n                    for(i in data.responses){\n                        var response = _this.buildResponse(data.responses[i]);\n                        if(response){\n                            _this.item.addResponseDeclaration(response);\n\n                            var feedbackRules = data.responses[i].feedbackRules;\n                            if(feedbackRules){\n                                _.forIn(feedbackRules, function(fbData, serial){\n                                    response.feedbackRules[serial] = _this.buildSimpleFeedbackRule(fbData, response);\n                                });\n                            }\n                        }\n                    }\n                    \n                    if(data.responseProcessing){\n                        _this.item.setResponseProcessing(_this.buildResponseProcessing(data.responseProcessing));\n                    }\n                    _this.item.setNamespaces(data.namespaces);\n                }\n\n                if(typeof(callback) === 'function'){\n                    callback.call(_this, _this.item);\n                }\n            });\n        },\n        loadAndBuildElement : function(data, callback){\n\n            var _this = this;\n\n            _this.loadRequiredClasses(data, function(Qti){\n\n                var element = _this.buildElement(data);\n\n                if(typeof(callback) === 'function'){\n                    callback.call(_this, element);\n                }\n            });\n        },\n        loadElement : function(element, data, callback){\n\n            var _this = this;\n            this.loadRequiredClasses(data, function(){\n                _this.loadElementData(element, data);\n                if(typeof(callback) === 'function'){\n                    callback.call(_this, element);\n                }\n            });\n        },\n        /**\n         * Load ALL given elements into existing loaded item\n         *\n         * @todo to be renamed to loadItemElements\n         * @param {object} data\n         * @param {function} callback\n         * @returns {undefined}\n         */\n        loadElements : function(data, callback){\n\n            var _this = this;\n\n            if(_this.item){\n\n                this.loadRequiredClasses(data, function(){\n\n                    var allElements = _this.item.getComposingElements();\n\n                    for(var i in data){\n                        var elementData = data[i];\n                        if(elementData && elementData.qtiClass && elementData.serial){\n                            //find and update element\n                            if(allElements[elementData.serial]){\n                                _this.loadElementData(allElements[elementData.serial], elementData);\n                            }\n                        }\n                    }\n\n                    if(typeof(callback) === 'function'){\n                        callback.call(_this, _this.item);\n                    }\n                });\n            }else{\n                throw 'QtiLoader : cannot load elements in empty item';\n            }\n\n        },\n        buildResponse : function(data){\n\n            var response = this.buildElement(data);\n\n            response.template = data.howMatch || null;\n            response.defaultValue = data.defaultValue || null;\n            response.correctResponse = data.correctResponses || null;\n\n            if(_.size(data.mapping)){\n                response.mapEntries = data.mapping;\n            }else if(_.size(data.areaMapping)){\n                response.mapEntries = data.areaMapping;\n            }else{\n                response.mapEntries = {};\n            }\n\n            response.mappingAttributes = data.mappingAttributes || {};\n\n            return response;\n        },\n        buildSimpleFeedbackRule : function(data, response){\n\n            var feedbackRule = this.buildElement(data);\n            \n            if(data.condition){\n                feedbackRule.condition = data.condition;\n            }\n            if(data.comparedValue){\n                feedbackRule.comparedValue = data.comparedValue;\n            }\n\n            feedbackRule.comparedOutcome = this.item.responses[data.comparedOutcome] || null;\n            feedbackRule.feedbackOutcome = this.item.outcomes[data.feedbackOutcome] || null;\n            feedbackRule.feedbackThen = this.item.modalFeedbacks[data.feedbackThen] || null;\n            feedbackRule.feedbackElse = this.item.modalFeedbacks[data.feedbackElse] || null;\n            \n            //associate the compared outcome to the feedbacks if applicable\n            var response = feedbackRule.comparedOutcome;\n            if(feedbackRule.feedbackThen){\n                feedbackRule.feedbackThen.data('relatedResponse', response);\n            }\n            if(feedbackRule.feedbackElse){\n                feedbackRule.feedbackElse.data('relatedResponse', response);\n            }\n            \n            return feedbackRule;\n        },\n        buildOutcome : function(data){\n            var outcome = this.buildElement(data);\n            outcome.defaultValue = data.defaultValue || null;\n            return outcome;\n        },\n        buildResponseProcessing : function(data){\n            var rp = this.buildElement(data);\n            if(data && data.processingType){\n                if(data.processingType === 'custom'){\n                    rp.xml = data.data;\n                    rp.processingType = 'custom';\n                }else{\n                    rp.processingType = 'templateDriven';\n                }\n            }\n            return rp;\n        },\n        loadContainer : function(bodyObject, bodyData){\n            if(!Element.isA(bodyObject, '_container')){\n                throw 'bodyObject must be a QTI Container';\n            }\n\n            if(bodyData && typeof bodyData.body === 'string' && (typeof bodyData.elements === 'array' || typeof bodyData.elements === 'object')){\n                for(var serial in bodyData.elements){\n                    var eltData = bodyData.elements[serial];\n                    //check if class is loaded:\n                    var element = this.buildElement(eltData);\n                    if(element){\n                        bodyObject.setElement(element, bodyData.body);\n                    }\n                }\n                bodyObject.body(bodyData.body);\n            }else{\n                throw 'wrong bodydata format';\n            }\n        },\n        buildElement : function(elementData){\n            var elt = null;\n            if(elementData && elementData.qtiClass && elementData.serial){\n                var className = elementData.qtiClass;\n                if(this.qti[className]){\n                    elt = new this.qti[className](elementData.serial);\n                    this.loadElementData(elt, elementData);\n                }else{\n                    throw 'the qti element class does not exist: ' + className;\n                }\n            }else{\n                throw 'wrong elementData format';\n            }\n            return elt;\n        },\n        loadElementData : function(element, data){\n\n            //merge attributes when loading element data\n            var attributes = _.defaults(data.attributes || {}, element.attributes || {});\n            element.setAttributes(attributes);\n\n            if(element.body && data.body){\n                if(element.bdy){\n                    this.loadContainer(element.getBody(), data.body);\n                }\n            }\n\n            if(element.object && data.object){\n                if(element.object){\n                    this.loadObjectData(element.object, data.object);\n                }\n            }\n\n            if(Element.isA(element, 'interaction')){\n                this.loadInteractionData(element, data);\n            }else if(Element.isA(element, 'choice')){\n                this.loadChoiceData(element, data);\n            }else if(Element.isA(element, 'math')){\n                this.loadMathData(element, data);\n            }else if(Element.isA(element, 'infoControl')){\n                this.loadPicData(element, data);\n            }\n\n            return element;\n        },\n        loadInteractionData : function(interaction, data){\n            if(Element.isA(interaction, 'blockInteraction')){\n                if(data.prompt){\n                    this.loadContainer(interaction.prompt.getBody(), data.prompt);\n                }\n            }\n\n            this.buildInteractionChoices(interaction, data);\n\n            if(Element.isA(interaction, 'customInteraction')){\n                this.loadPciData(interaction, data);\n            }\n        },\n        buildInteractionChoices : function(interaction, data){\n\n            //note: Qti.ContainerInteraction (Qti.GapMatchInteraction and Qti.HottextInteraction) has already been parsed by builtElement(interacionData);\n            if(data.choices){\n                if(Element.isA(interaction, 'matchInteraction')){\n                    for(var set = 0; set < 2; set++){\n                        if(!data.choices[set]){\n                            throw 'missing match set #' + set;\n                        }\n                        var matchSet = data.choices[set];\n                        for(var serial in matchSet){\n                            var choice = this.buildElement(matchSet[serial]);\n                            if(choice){\n                                interaction.addChoice(choice, set);\n                            }\n                        }\n                    }\n                }else{\n                    for(var serial in data.choices){\n                        var choice = this.buildElement(data.choices[serial]);\n                        if(choice){\n                            interaction.addChoice(choice);\n                        }\n                    }\n                }\n\n                if(Element.isA(interaction, 'graphicGapMatchInteraction')){\n                    if(data.gapImgs){\n                        for(var serial in data.gapImgs){\n                            var gapImg = this.buildElement(data.gapImgs[serial]);\n                            if(gapImg){\n                                interaction.addGapImg(gapImg);\n                            }\n                        }\n                    }\n                }\n\n            }\n\n        },\n        loadChoiceData : function(choice, data){\n            if(Element.isA(choice, 'textVariableChoice')){\n                choice.val(data.text);\n            }else if(Element.isA(choice, 'gapImg')){\n                //has already been taken care of in buildElement()\n            }else if(Element.isA(choice, 'containerChoice')){\n                //has already been taken care of in buildElement()\n            }\n        },\n        loadObjectData : function(object, data){\n            object.setAttributes(data.attributes);\n            //@todo: manage object like a container\n            if(data._alt){\n                if(data._alt.qtiClass === 'object'){\n                    object._alt = Loader.buildElement(data._alt);\n                }else{\n                    object._alt = data._alt;\n                }\n            }\n        },\n        loadMathData : function(math, data){\n            math.ns = data.ns || {};\n            math.setMathML(data.mathML || '');\n            _.forIn(data.annotations || {}, function(value, encoding){\n                math.setAnnotation(encoding, value);\n            });\n        },\n        loadPciData : function(pci, data){\n            loadPortableCustomElementData(pci, data);\n        },\n        loadPicData : function(pic, data){\n            loadPortableCustomElementData(pic, data);\n        }\n    });\n\n    function loadPortableCustomElementData(portableElement, data){\n        portableElement.typeIdentifier = data.typeIdentifier;\n        portableElement.markup = data.markup;\n        portableElement.entryPoint = data.entryPoint;\n        portableElement.properties = data.properties;\n        portableElement.libraries = data.libraries;\n    }\n\n    return Loader;\n});\n\n","/**\n * Common helper functions\n */\ndefine('taoQtiItem/qtiItem/helper/interactionHelper',['lodash', 'taoQtiItem/qtiItem/core/Element'], function(_, Element){\n    return {\n        convertChoices : function(choices, outputType){\n\n            var ret = [], _this = this;\n\n            _.each(choices, function(c){\n                if(Element.isA(c, 'choice')){\n                    switch(outputType){\n                        case 'serial':\n                            ret.push(c.getSerial());\n                            break;\n                        case 'identifier':\n                            ret.push(c.id());\n                            break;\n                        default:\n                            ret.push(c);\n                    }\n\n                }else if(_.isArray(c)){\n                    ret.push(_this.convertChoices(c, outputType));\n                }\n            });\n\n            return ret;\n        },\n        findChoices : function(interaction, choices, inputType){\n\n            var ret = [], _this = this;\n\n            _.each(choices, function(c){\n                var choice;\n                if(_.isString(c)){\n                    if(inputType === 'serial'){\n                        choice = interaction.getChoice(c);\n                        if(choice){\n                            ret.push(choice);\n                        }\n                    }else if(inputType === 'identifier'){\n                        choice = interaction.getChoiceByIdentifier(c);\n                        if(choice){\n                            ret.push(choice);\n                        }\n                    }else{\n                        ret.push(c);\n                    }\n                }else if(_.isArray(c)){\n                    ret.push(_this.findChoices(interaction, c, inputType));\n                }else{\n                    ret.push(c);\n                }\n            });\n\n            return ret;\n        },\n        shuffleChoices : function(choices){\n            var r = [], //returned array\n                f = {}, //fixed choices array\n                j = 0;\n\n            for(var i in choices){\n                if(Element.isA(choices[i], 'choice')){\n                    var choice = choices[i];\n                    if(choice.attr('fixed')){\n                        f[j] = choice;\n                    }\n                    r.push(choice);\n                    j++;\n                }else{\n                    throw 'invalid element in array: is not a qti choice';\n                }\n            }\n\n            for(var n = 0; n < r.length - 1; n++){\n                if(f[n]){\n                    continue;\n                }\n                var k = -1;\n                do{\n                    k = n + Math.floor(Math.random() * (r.length - n));\n                }while(f[k]);\n                var tmp = r[k];\n                r[k] = r[n];\n                r[n] = tmp;\n            }\n\n            return r;\n        },\n        serialToIdentifier : function(interaction, choiceSerial){\n            var choice = interaction.getChoice(choiceSerial);\n            if(choice){\n                return choice.id();\n            }else{\n                return '';\n            }\n        }\n    }\n});\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technlogies SA (under the project TAO-PRODUCT);\n *\n */\n\n/**\n * A factory to create a QTI renderer.\n *\n * @author Sam Sipasseuth <sam@taotesting.com>\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiItem/qtiRunner/core/Renderer',[\n    'lodash',\n    'jquery',\n    'handlebars',\n    'core/promise',\n    'taoQtiItem/qtiItem/core/Element',\n    'taoQtiItem/qtiItem/helper/interactionHelper',\n    'ui/themeLoader'\n], function(_, $, Handlebars, Promise, Element, interactionHelper, themeLoader){\n    'use strict';\n\n    var _isValidRenderer = function(renderer){\n\n        var valid = true;\n\n        if(typeof (renderer) !== 'object'){\n            return false;\n        }\n\n        var classCorrect = false;\n        if(renderer.qtiClass){\n            if(_.indexOf(_renderableClasses, renderer.qtiClass) >= 0){\n                classCorrect = true;\n            }else{\n                var pos = renderer.qtiClass.indexOf('.');\n                if(pos > 0){\n                    var qtiClass = renderer.qtiClass.slice(0, pos);\n                    var subClass = renderer.qtiClass.slice(pos + 1);\n                    if(_renderableSubclasses[qtiClass] && _.indexOf(_renderableSubclasses[qtiClass], subClass) >= 0){\n                        classCorrect = true;\n                    }\n                }\n            }\n        }\n        if(!classCorrect){\n            valid = false;\n            throw new Error('invalid qti class name in renderer declaration : ' + renderer.qtiClass);\n        }\n\n        if(!renderer.template){\n            valid = false;\n            throw new Error('missing template in renderer declaration : ' + renderer.qtiClass);\n        }\n\n        return valid;\n    };\n\n    var _renderableClasses = [\n        '_container',\n        'assessmentItem',\n        'stylesheet',\n        'responseDeclaration',\n        'outcomeDeclaration',\n        'responseProcessing',\n        '_simpleFeedbackRule',\n        'img',\n        'math',\n        'object',\n        'modalFeedback',\n        'rubricBlock',\n        'associateInteraction',\n        'choiceInteraction',\n        'extendedTextInteraction',\n        'gapMatchInteraction',\n        'graphicAssociateInteraction',\n        'graphicGapMatchInteraction',\n        'graphicOrderInteraction',\n        'hotspotInteraction',\n        'hottextInteraction',\n        'inlineChoiceInteraction',\n        'matchInteraction',\n        'mediaInteraction',\n        'orderInteraction',\n        'selectPointInteraction',\n        'sliderInteraction',\n        'textEntryInteraction',\n        'uploadInteraction',\n        'endAttemptInteraction',\n        'customInteraction',\n        'prompt',\n        'associableHotspot',\n        'gap',\n        'gapImg',\n        'gapText',\n        'hotspotChoice',\n        'hottext',\n        'inlineChoice',\n        'simpleAssociableChoice',\n        'simpleChoice',\n        'infoControl',\n        'include'\n    ];\n\n    /**\n     * The list of qti element dependencies. It is used internally to load dependent qti classes\n     */\n    var _dependencies = {\n        assessmentItem : ['stylesheet', '_container', 'prompt', 'modalFeedback'],\n        rubricBlock : ['_container'],\n        associateInteraction : ['simpleAssociableChoice'],\n        choiceInteraction : ['simpleChoice'],\n        gapMatchInteraction : ['gap', 'gapText'],\n        graphicAssociateInteraction : ['associableHotspot'],\n        graphicGapMatchInteraction : ['associableHotspot', 'gapImg'],\n        graphicOrderInteraction : ['hotspotChoice'],\n        hotspotInteraction : ['hotspotChoice'],\n        hottextInteraction : ['hottext'],\n        inlineChoiceInteraction : ['inlineChoice'],\n        matchInteraction : ['simpleAssociableChoice'],\n        orderInteraction : ['simpleChoice']\n    };\n\n    /**\n     * The list of supported qti subclasses.\n     */\n    var _renderableSubclasses = {\n        'simpleAssociableChoice' : ['associateInteraction', 'matchInteraction'],\n        'simpleChoice' : ['choiceInteraction', 'orderInteraction']\n    };\n\n    /**\n     * List of the default properties for the item\n     */\n    var _defaults = {\n        shuffleChoices : true\n    };\n\n    /**\n     * Get the location of the document, useful to define a baseUrl for the required context\n     * @returns {String}\n     */\n    function getDocumentBaseUrl(){\n        return window.location.protocol + '//' + window.location.host + window.location.pathname.replace(/([^\\/]*)$/, '');\n    }\n\n    /**\n     * The built Renderer class\n     * @constructor\n     * @param {Object} [options] - the renderer options\n     * @param {AssetManager} [options.assetManager] - The renderer needs an AssetManager to resolve URLs (see {@link taoItems/assets/manager})\n     * @param {Boolean} [options.shuffleChoices = true] - Does the renderer take care of the shuffling\n     * @param {Object} [options.decorators] - to set up rendering decorator\n     * @param {preRenderDecorator} [options.decorators.before] - to set up a pre decorator\n     * @param {postRenderDecorator} [options.decorators.after] - to set up a post decorator\n     */\n    var Renderer = function(options){\n\n        /**\n         * Store the registered renderer location\n         */\n        var _locations = {};\n\n        /**\n         * Store loaded renderers\n         */\n        var _renderers = {};\n\n        options = _.defaults(options || {}, _defaults);\n\n        this.isRenderer = true;\n\n        this.name = '';\n\n        //store shuffled choice here\n        this.shuffledChoices = [];\n\n        /**\n         * Get the actual renderer of the give qti class or subclass:\n         * e.g. simplceChoice, simpleChoice.choiceInteraction, simpleChoice.orderInteraction\n         */\n        var _getClassRenderer = function(qtiClass){\n            var ret = null;\n            if(_renderers[qtiClass]){\n                ret = _renderers[qtiClass];\n            }else{\n                var pos = qtiClass.indexOf('.');\n                if(pos > 0){\n                    qtiClass = qtiClass.slice(0, pos);\n                    if(_renderers[qtiClass]){\n                        ret = _renderers[qtiClass];\n                    }\n                }\n            }\n            return ret;\n        };\n\n        /**\n         * Set the renderer options\n         * @param {String} key - the name of the option\n         * @param {*} value - the option vallue\n         * @returns {Renderer} for chaining\n         */\n        this.setOption = function(key, value){\n            if(typeof (key) === 'string'){\n                options[key] = value;\n            }\n            return this;\n        };\n\n        /**\n         * Set the renderer options\n         * @param {Object} opts - the options\n         * @returns {Renderer} for chaining\n         */\n        this.setOptions = function(opts){\n            options = _.extend(options, opts);\n            return this;\n        };\n\n        /**\n         * Get the renderer option\n         * @param {String} key - the name of the option\n         * @returns {*|null} the option vallue\n         */\n        this.getOption = function(key){\n            if(typeof (key) === 'string' && options[key]){\n                return options[key];\n            }\n            return null;\n        };\n\n        /**\n         * Get the bound assetManager\n         * @returns {AssetManager} the assetManager\n         */\n        this.getAssetManager = function getAssetManager(){\n            return options.assetManager;\n        };\n\n        /**\n         * Get the bound theme loader\n         * @returns {Object} the themeLoader\n         */\n        this.getThemeLoader = function getThemeLoader(){\n            return this.themeLoader;\n        };\n\n\n        /**\n         * Renders the template\n         * @param {Object} element - the QTI model element\n         * @param {Object} data - the data to give to the template\n         * @param {String} [qtiSubclass] - to get the render of the element subclass (when element's qtiClass is abstract)\n         * @returns {String} the template results\n         * @throws {Error} if the renderer is not set or has no template bound\n         */\n        this.renderTpl = function(element, data, qtiSubclass){\n\n            var res;\n            var ret        = '';\n            var tplFound   = false;\n            var qtiClass   = qtiSubclass || element.qtiClass;\n            var renderer   = _getClassRenderer(qtiClass);\n            var decorators = this.getOption('decorators');\n\n            if(!renderer || !_.isFunction(renderer.template)){\n                throw new Error('no renderer template loaded under the class name : ' + qtiClass);\n            }\n\n            //pre rendering decoration\n            if(_.isObject(decorators) && _.isFunction(decorators.before)){\n\n                /**\n                 * @callback preRenderDecoractor\n                 * @param {Object} element - the QTI model element\n                 * @param {String} [qtiSubclass] - to get the render of the element subclass (when element's qtiClass is abstract)\n                 * @returns {String} the decorator result\n                 */\n                res = decorators.before(element, qtiSubclass);\n                if(_.isString(res)){\n                    ret += res;\n                }\n            }\n\n            //render the template\n            ret += renderer.template(data);\n\n\n            //post rendering decoration\n            if(_.isObject(decorators) && _.isFunction(decorators.after)){\n\n                /**\n                 * @callback postRenderDecoractor\n                 * @param {Object} element - the QTI model element\n                 * @param {String} [qtiSubclass] - to get the render of the element subclass (when element's qtiClass is abstract)\n                 * @returns {String} the decorator result\n                 */\n                res = decorators.after(element, qtiSubclass);\n                if(_.isString(res)){\n                    ret += res;\n                }\n            }\n            return ret;\n        };\n\n        this.getData = function(element, data, qtiSubclass){\n\n            var ret = data,\n                qtiClass = qtiSubclass || element.qtiClass,\n                renderer = _getClassRenderer(qtiClass);\n\n            if(renderer){\n                if(typeof (renderer.getData) === 'function'){\n                    ret = renderer.getData.call(this, element, data);\n                }\n            }\n\n            return ret;\n        };\n\n        this.renderDirect = function(tpl, data){\n            return Handlebars.compile(tpl)(data);\n        };\n\n        this.getContainer = function(qtiElement, $scope, qtiSubclass){\n\n            var ret = null,\n                qtiClass = qtiSubclass || qtiElement.qtiClass,\n                renderer = _getClassRenderer(qtiClass);\n\n            if(renderer){\n                ret = renderer.getContainer(qtiElement, $scope);\n            }else{\n                throw 'no renderer found for the class : ' + qtiElement.qtiClass;\n            }\n            return ret;\n        };\n\n        this.postRender = function(qtiElement, data, qtiSubclass){\n\n            var qtiClass = qtiSubclass || qtiElement.qtiClass;\n            var renderer = _getClassRenderer(qtiClass);\n\n            if(renderer && typeof (renderer.render) === 'function') {\n                return renderer.render.call(this, qtiElement, data);\n            }\n        };\n\n        this.setResponse = function(qtiInteraction, response, qtiSubclass){\n\n            var ret = false,\n                qtiClass = qtiSubclass || qtiInteraction.qtiClass,\n                renderer = _getClassRenderer(qtiClass);\n\n            if(renderer){\n                if(typeof (renderer.setResponse) === 'function'){\n                    ret = renderer.setResponse.call(this, qtiInteraction, response);\n                    var $container = renderer.getContainer.call(this, qtiInteraction);\n                    if($container instanceof $ && $container.length){\n                        $container.trigger('responseSet', [qtiInteraction, response]);\n                    }\n                }\n            }else{\n                throw 'no renderer registered under the name : ' + qtiClass;\n            }\n            return ret;\n        };\n\n        this.getResponse = function(qtiInteraction, qtiSubclass){\n\n            var ret = false,\n                qtiClass = qtiSubclass || qtiInteraction.qtiClass,\n                renderer = _getClassRenderer(qtiClass);\n\n            if(renderer){\n                if(typeof (renderer.getResponse) === 'function'){\n                    ret = renderer.getResponse.call(this, qtiInteraction);\n                }\n            }else{\n                throw 'no renderer registered under the name : ' + qtiClass;\n            }\n            return ret;\n        };\n\n        this.resetResponse = function(qtiInteraction, qtiSubclass){\n\n            var ret = false,\n                qtiClass = qtiSubclass || qtiInteraction.qtiClass,\n                renderer = _getClassRenderer(qtiClass);\n\n            if(renderer){\n                if(typeof (renderer.resetResponse) === 'function'){\n                    ret = renderer.resetResponse.call(this, qtiInteraction);\n                }\n            }else{\n                throw 'no renderer registered under the name : ' + qtiClass;\n            }\n            return ret;\n        };\n\n        /**\n         * Retrieve the state of the interaction.\n         * If the renderer has no state management, it falls back to the response management.\n         *\n         * @param {Object} qtiInteraction - the interaction\n         * @param {String} [qtiSubClass] - (not sure of the type and how it is used - Sam ? )\n         * @returns {Object} the interaction's state\n         *\n         * @throws {Error} if no renderer is registered\n         */\n        this.getState = function(qtiInteraction, qtiSubclass){\n\n            var ret = false;\n            var qtiClass = qtiSubclass || qtiInteraction.qtiClass;\n            var renderer = _getClassRenderer(qtiClass);\n\n            if(renderer){\n                if(_.isFunction(renderer.getState)){\n                    ret = renderer.getState.call(this, qtiInteraction);\n                } else {\n                    ret = renderer.getResponse.call(this, qtiInteraction);\n                }\n            }else{\n                throw 'no renderer registered under the name : ' + qtiClass;\n            }\n            return ret;\n        };\n\n        /**\n         * Retrieve the state of the interaction.\n         * If the renderer has no state management, it falls back to the response management.\n         *\n         * @param {Object} qtiInteraction - the interaction\n         * @param {Object} state - the interaction's state\n         * @param {String} [qtiSubClass] - (not sure of the type and how it is used - Sam ? )\n         *\n         * @throws {Error} if no renderer is found\n         */\n        this.setState =  function(qtiInteraction, state, qtiSubclass){\n\n            var qtiClass = qtiSubclass || qtiInteraction.qtiClass;\n            var renderer = _getClassRenderer(qtiClass);\n\n            if(renderer){\n                if(_.isFunction(renderer.setState)){\n                    renderer.setState.call(this, qtiInteraction, state);\n                } else {\n                    renderer.resetResponse.call(this, qtiInteraction);\n                    renderer.setResponse.call(this, qtiInteraction, state);\n                }\n            }else{\n                throw 'no renderer registered under the name : ' + qtiClass;\n            }\n        };\n\n        /**\n         * Calls the renderer destroy.\n         * Ask the renderer to run destroy if exists.\n         *\n         * @throws {Error} if no renderer is found\n         */\n        this.destroy = function(qtiInteraction, qtiSubclass){\n\n            var ret = false,\n                qtiClass = qtiSubclass || qtiInteraction.qtiClass,\n                renderer = _getClassRenderer(qtiClass);\n\n            if(renderer){\n                if(_.isFunction(renderer.destroy)){\n                    ret = renderer.destroy.call(this, qtiInteraction);\n                }\n            }else{\n                throw 'no renderer registered under the name : ' + qtiClass;\n            }\n            return ret;\n        };\n\n        this.getLoadedRenderers = function(){\n            return _renderers;\n        };\n\n        this.register = function(renderersLocations){\n            _.extend(_locations, renderersLocations);\n        };\n\n        this.load = function(callback, requiredClasses){\n           var self = this;\n            var required = [];\n\n            if(options.themes){\n\n                //resolve themes paths\n                options.themes.base = this.resolveUrl(options.themes.base);\n                _.forEach(options.themes.available, function(theme, index){\n                    options.themes.available[index].path = self.resolveUrl(theme.path);\n                });\n                this.themeLoader = themeLoader(options.themes).load();\n            }\n\n            if(requiredClasses){\n                if(_.isArray(requiredClasses)){\n\n                    //exclude abstract classes\n                    requiredClasses = _.intersection(requiredClasses, _renderableClasses);\n\n                    //add dependencies\n                    _.each(requiredClasses, function(reqClass){\n                        var deps = _dependencies[reqClass];\n                        if(deps){\n                            requiredClasses = _.union(requiredClasses, deps);\n                        }\n                    });\n\n                    _.forEach(requiredClasses, function(qtiClass){\n\n                        if(_renderableSubclasses[qtiClass]){\n                            var requiredSubClasses = _.intersection(requiredClasses, _renderableSubclasses[qtiClass]);\n                            _.each(requiredSubClasses, function(subclass){\n                                if(_locations[qtiClass + '.' + subclass]){\n                                    required.push(_locations[qtiClass + '.' + subclass]);\n                                }else if(_locations[qtiClass]){\n                                    required.push(_locations[qtiClass]);\n                                }else{\n                                    throw new Error(self.name + ' : missing qti class location declaration: ' + qtiClass + ', subclass: ' + subclass);\n                                }\n                            });\n                        } else {\n                            if(_locations[qtiClass] === false){\n                                _renderers[qtiClass] = false;//mark this class as not renderable\n                            }else if(_locations[qtiClass]){\n                                required.push(_locations[qtiClass]);\n                            }else{\n                                throw new Error(self.name + ' : missing qti class location declaration: ' + qtiClass);\n                            }\n                        }\n                    });\n                } else {\n                    throw new Error('invalid argument type: expected array for arg \"requireClasses\"');\n                }\n\n            }else{\n                required = _.values(_locations);\n            }\n\n            var _this = this;\n            require(required, function(){\n\n                _.each(arguments, function(clazz){\n                    if(_isValidRenderer(clazz)){\n                        _renderers[clazz.qtiClass] = clazz;\n                    }\n                });\n\n                if(typeof (callback) === 'function'){\n                    callback.call(_this, _renderers);\n                }\n            });\n\n            return this;\n        };\n\n        /**\n         * Unload the renderer\n         */\n        this.unload = function unload(){\n            if(this.themeLoader){\n                themeLoader(options.themes).unload();\n            }\n            return this;\n        };\n\n        /**\n         * Define the shuffling manually\n         *\n         * @param {Object} interaction - the interaction\n         * @param {Array} choices - the shuffled choices\n         * @param {String} identificationType -\n         */\n        this.setShuffledChoices = function(interaction, choices, identificationType){\n            if(Element.isA(interaction, 'interaction')){\n                this.shuffledChoices[interaction.getSerial()] = _.pluck(interactionHelper.findChoices(interaction, choices, identificationType), 'serial');\n            }\n        };\n\n        /**\n         * Get the choices shuffled for this interaction.\n         *\n         * @param {Object} interaction - the interaction\n         * @param {Boolean} reshuffle - by default choices are shuffled only once and store, but if true you can force shuffling again\n         * @param {String} returnedType - the choice type\n         * @returns {Array} the choices\n         */\n        this.getShuffledChoices = function(interaction, reshuffle, returnedType){\n            var choices = [];\n            var shuffled = [];\n            var serial, i;\n\n            if(Element.isA(interaction, 'interaction')){\n                serial = interaction.getSerial();\n\n                //1st time, we shuffle (or asked to force shuffling)\n                if(!this.shuffledChoices[serial] || reshuffle){\n                    if(Element.isA(interaction, 'matchInteraction')){\n                        this.shuffledChoices[serial] = [];\n                        for(i = 0; i < 2; i++){\n                            choices[i] = interactionHelper.shuffleChoices(interaction.getChoices(i));\n                            this.shuffledChoices[serial][i] = _.pluck(choices[i], 'serial');\n                        }\n                    } else {\n                        choices = interactionHelper.shuffleChoices(interaction.getChoices());\n                        this.shuffledChoices[serial] = _.pluck(choices, 'serial');\n                    }\n\n                //otherwise get the choices from the serials\n                } else {\n                    if(Element.isA(interaction, 'matchInteraction')){\n                        _.forEach(choices, function(choice, index){\n                            if(index < 2){\n                                _.forEach(this.shuffledChoices[serial][i], function(choiceSerial){\n                                    choice.push(interaction.getChoice(choiceSerial));\n                                });\n                            }\n                        });\n                    } else {\n                        _.forEach(this.shuffledChoices[serial], function(choiceSerial){\n                            choices.push(interaction.getChoice(choiceSerial));\n                        });\n                    }\n                }\n\n                //do some type convertion\n                if(returnedType === 'serial' || returnedType === 'identifier'){\n                    return interactionHelper.convertChoices(choices, returnedType);\n                }\n\n                //pass value only, not ref\n                return _.clone(choices);\n            }\n\n            return [];\n        };\n\n        this.getRenderers = function(){\n            return _renderers;\n        };\n\n        this.getLocations = function(){\n            return _locations;\n        };\n\n        /**\n         * Resolve URLs using the defined assetManager's strategies\n         * @param {String} url - the URL to resolve\n         * @returns {String} the resolved URL\n         */\n        this.resolveUrl = function resolveUrl(url){\n            if(!options.assetManager){\n                return url;\n            }\n            if(typeof url === 'string' && url.length > 0){\n                return options.assetManager.resolve(url);\n            }\n        };\n\n        /**\n         * @deprecated in favor of resolveUrl\n         */\n        this.getAbsoluteUrl = function(relUrl){\n\n            //let until method is removed\n            console.warn('DEPRECATED used getAbsoluteUrl with ', arguments);\n\n            //allow relative url output only if explicitely said so\n            if(this.getOption('userRelativeUrl')){\n                return relUrl.replace(/^\\.?\\//, '');\n            }\n\n            if(/^http(s)?:\\/\\//i.test(relUrl) || /^data:[^\\/]+\\/[^;]+(;charset=[\\w]+)?;base64,/.test(relUrl)){\n                //already absolute or base64 encoded\n                return relUrl;\n            }else{\n\n                var absUrl = '';\n                var runtimeLocations = this.getOption('runtimeLocations');\n\n                if(runtimeLocations && _.size(runtimeLocations)){\n                    _.forIn(runtimeLocations, function(runtimeLocation, typeIdentifier){\n                        if(relUrl.indexOf(typeIdentifier) === 0){\n                            absUrl = relUrl.replace(typeIdentifier, runtimeLocation);\n                            return false;//break\n                        }\n                    });\n                }\n\n                if(absUrl){\n                    return absUrl;\n                }else{\n                    var baseUrl = this.getOption('baseUrl') || getDocumentBaseUrl();\n                    return baseUrl + relUrl;\n                }\n\n            }\n        };\n    };\n\n    /**\n     * Expose the renderer's factory\n     * @exports taoQtiItem/qtiRunner/core/Renderer\n     */\n    return {\n\n        /**\n         * Creates a new Renderer by extending the Renderer's prototype\n         * @param {Object} renderersLocations -\n         * @param {String} [name] - the new renderer name\n         * @param {Object} [defaultOptions] - the renderer options\n         */\n        build : function(renderersLocations, name, defaultOptions){\n            var NewRenderer = function(){\n                var options = _.isPlainObject(arguments[0]) ? arguments[0] : {};\n\n                Renderer.apply(this);\n\n                this.register(renderersLocations);\n                this.name = name || '';\n                this.setOptions(_.defaults(options, defaultOptions || {}));\n            };\n            NewRenderer.prototype = Renderer.prototype;\n            return NewRenderer;\n        }\n    };\n});\n\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA;\n *\n */\n\n/**\n * Provides common strategies to resolved assets\n * that may be used by any type of items.\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoItems/assets/strategies',[\n    'util/url'\n], function(urlUtil){\n    'use strict';\n\n    /**\n     * Unrelated strategies accessible by there name.\n     * Remember to not use the whole object, but each one in an array since the order matters.\n     *\n     * @exports taoItems/assets/strategies\n     */\n    var strategies = {\n\n        //the baseUrl concats the baseUrl in data if the url is relative\n        baseUrl : {\n            name : 'baseUrl',\n            handle : function handleBaseUrl(url, data){\n                if(typeof data.baseUrl === 'string' && (urlUtil.isRelative(url)) ){\n\n                    //is slashcat we manage slash concact\n                    if(data.slashcat === true){\n                        return data.baseUrl.replace(/\\/$/, '') + '/' + url.directory.replace(/^\\.\\//, '').replace(/^\\//, '')\n                            + encodeURIComponent(url.file.replace(/^\\.\\//, '').replace(/^\\//, ''));\n                    }\n\n                    return data.baseUrl + url.directory.replace(/^\\.?\\//, '') + encodeURIComponent(url.file.replace(/^\\.?\\//, ''));\n                }\n            }\n        },\n\n        //absolute URL are just left intact\n        external : {\n            name : 'external',\n            handle : function handleExternal(url, data){\n                if(urlUtil.isAbsolute(url)){\n                    return url.toString();\n                }\n            }\n        },\n\n        //the base64 encoded resources are also left intact\n        base64 : {\n            name : 'base64',\n            handle : function handleB64(url){\n                if(urlUtil.isBase64(url)){\n                    return url.toString();\n                }\n            }\n        },\n\n        //special tao media protocol\n        taomedia : {\n            name : 'taomedia',\n            handle : function handleTaoMedia(url, data){\n                //either a baseUrl is given or if empty, taomedia resources are managed as relative resources\n                var baseUrl = data.baseUrl || './';\n                if( (typeof url === 'object' && url.protocol === 'taomedia') ||\n                    (/^taomedia:\\/\\//.test(url.toString())) ){\n                    return baseUrl + url.toString();\n                }\n            }\n        }\n    };\n    return strategies;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA;\n */\n\ndefine('taoQtiItem/qtiCommonRenderer/renderers/config',[\n    'lodash',\n    'context',\n    'ui/themes',\n    'taoItems/assets/manager',\n    'taoItems/assets/strategies',\n], function(_, context, themes, assetManagerFactory, assetStrategies){\n    'use strict';\n\n    var itemThemes = themes.get('items');\n\n    //stratgy to resolve portable info control and portable interactions paths.\n    //It should never be reached in the stack the ususal way and should be called only using resolveBy.\n    var portableAssetStrategy = {\n        name : 'portableElementLocation',\n        handle : function handlePortableElementLocation(url){\n            if(url.source === url.relative){\n                return window.location.pathname.replace(/([^\\/]*)$/, '') + url.toString() + '/';\n            }\n        }\n    };\n\n    //Create asset manager stack\n    var assetManager = assetManagerFactory([{\n            name : 'theme',\n            handle : function handleTheme(url){\n                if(itemThemes && url.path && (url.path === itemThemes.base || _.contains(_.pluck(itemThemes.available, 'path'), url.path))){\n                    return context.root_url + url.toString();\n                }\n            }\n        },\n        assetStrategies.taomedia,\n        assetStrategies.external,\n        assetStrategies.base64,\n        assetStrategies.baseUrl,\n        portableAssetStrategy\n    ], {baseUrl : ''});\n\n    //renderers locations\n    var locations = {\n        'assessmentItem' : 'taoQtiItem/qtiCommonRenderer/renderers/Item',\n        '_container' : 'taoQtiItem/qtiCommonRenderer/renderers/Container',\n        '_simpleFeedbackRule' : false,\n        'stylesheet' : 'taoQtiItem/qtiCommonRenderer/renderers/Stylesheet',\n        'outcomeDeclaration' : false,\n        'responseDeclaration' : false,\n        'responseProcessing' : false,\n        'img' : 'taoQtiItem/qtiCommonRenderer/renderers/Img',\n        'math' : 'taoQtiItem/qtiCommonRenderer/renderers/Math',\n        'object' : 'taoQtiItem/qtiCommonRenderer/renderers/Object',\n        'rubricBlock' : 'taoQtiItem/qtiCommonRenderer/renderers/RubricBlock',\n        'modalFeedback' : 'taoQtiItem/qtiCommonRenderer/renderers/ModalFeedback',\n        'prompt' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/Prompt',\n        'choiceInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/ChoiceInteraction',\n        'extendedTextInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/ExtendedTextInteraction',\n        'orderInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/OrderInteraction',\n        'associateInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/AssociateInteraction',\n        'matchInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/MatchInteraction',\n        'textEntryInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/TextEntryInteraction',\n        'sliderInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/SliderInteraction',\n        'inlineChoiceInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/InlineChoiceInteraction',\n        'simpleChoice.choiceInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/choices/SimpleChoice.ChoiceInteraction',\n        'simpleChoice.orderInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/choices/SimpleChoice.OrderInteraction',\n        'hottext' : 'taoQtiItem/qtiCommonRenderer/renderers/choices/Hottext',\n        'gap' : 'taoQtiItem/qtiCommonRenderer/renderers/choices/Gap',\n        'gapText' : 'taoQtiItem/qtiCommonRenderer/renderers/choices/GapText',\n        'simpleAssociableChoice.matchInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/choices/SimpleAssociableChoice.MatchInteraction',\n        'simpleAssociableChoice.associateInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/choices/SimpleAssociableChoice.AssociateInteraction',\n        'inlineChoice' : 'taoQtiItem/qtiCommonRenderer/renderers/choices/InlineChoice',\n        'hottextInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/HottextInteraction',\n        'hotspotInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/HotspotInteraction',\n        'hotspotChoice' : false,\n        'gapMatchInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/GapMatchInteraction',\n        'selectPointInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/SelectPointInteraction',\n        'graphicOrderInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/GraphicOrderInteraction',\n        'mediaInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/MediaInteraction',\n        'uploadInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/UploadInteraction',\n        'graphicGapMatchInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/GraphicGapMatchInteraction',\n        'gapImg' : 'taoQtiItem/qtiCommonRenderer/renderers/choices/GapImg',\n        'graphicAssociateInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/GraphicAssociateInteraction',\n        'associableHotspot' : false,\n        'customInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/PortableCustomInteraction',\n        'infoControl' : 'taoQtiItem/qtiCommonRenderer/renderers/PortableInfoControl',\n        'include' : 'taoQtiItem/qtiCommonRenderer/renderers/Include',\n        'endAttemptInteraction' : 'taoQtiItem/qtiCommonRenderer/renderers/interactions/EndAttemptInteraction'\n    };\n\n    return {\n        name:'commonRenderer',\n        locations: locations,\n        options:   {\n            assetManager: assetManager,\n            themes : itemThemes\n        }\n    };\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA;\n */\n\n/**\n * Define the Qti Item Common Renderer\n */\ndefine('taoQtiItem/qtiCommonRenderer/renderers/Renderer',[\n    'taoQtiItem/qtiRunner/core/Renderer',\n    'taoQtiItem/qtiCommonRenderer/renderers/config'\n], function(Renderer, config){\n    'use strict';\n\n    return Renderer.build(config.locations, config.name, config.options);\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sbastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoQtiItem/runner/provider/manager/picManager',[\n    'jquery',\n    'lodash',\n    'taoQtiItem/qtiItem/core/Element'\n], function ($, _, Element) {\n    'use strict';\n\n    /**\n     * The template of a PicManager instance\n     * @type {picManager}\n     */\n    var picManager = {\n        /**\n         * Creates a manager for a particular PIC\n         *\n         * @param {Object} pic\n         * @param {QtiItem} item\n         * @returns {picManager}\n         */\n        init : function init(pic, item) {\n            if (Element.isA(pic, 'infoControl')) {\n                this._pic = pic;\n            }\n\n            if (Element.isA(item, 'assessmentItem')) {\n                this._item = item;\n            }\n\n            return this;\n        },\n\n        /**\n         * Gets the managed PIC\n         *\n         * @returns {Object} the descriptor of the PIC\n         */\n        getPic : function getPic() {\n            return this._pic;\n        },\n\n        /**\n         * Gets the related Item\n         *\n         * @returns {QtiItem} the Item\n         */\n        getItem : function getItem() {\n            return this._item;\n        },\n\n        /**\n         * Gets the PIC serial\n         * @returns {String}\n         */\n        getSerial : function getSerial() {\n            return this._pic && this._pic.serial;\n        },\n\n        /**\n         * Gets the PIC type identifier\n         * @returns {String}\n         */\n        getTypeIdentifier : function getTypeIdentifier() {\n            return this._pic && this._pic.typeIdentifier;\n        },\n\n        /**\n         * Gets the underlying DOM element of the managed PIC\n         * @returns {{pic: (jQuery), tool: (jQuery), button: (jQuery), broken: (Boolean))}|*} An object providing the underlying DOM elements of the PIC and its tool\n         */\n        getDom : function getDom() {\n            if (!this._dom) {\n                var serial = this.getSerial();\n                var pic, tool;\n\n                if (serial) {\n                    pic = $('[data-serial=\"' + serial + '\"]');\n                    if (pic.length) {\n                        tool = $('[data-pic-serial=\"' + serial + '\"]');\n\n                        if (!tool.length) {\n                            tool = pic.children().first();\n                        }\n\n                        this._dom = {\n                            pic : pic,\n                            tool : tool,\n                            button : tool.find('.sts-button'),\n                            broken : pic.is(':empty') // tells if the tool has been moved outside of the PIC\n                        };\n                    }\n                }\n            }\n\n            return this._dom;\n        },\n\n        /**\n         * Enables the PIC.\n         * @fires enable\n         * @returns {picManager}\n         */\n        enable : function enable() {\n            // @todo: find a better solution for disabling/enabling a PIC\n            var dom = this.getDom();\n            if (dom) {\n                // just remove the disabled state and destroy the disable mask\n                dom.button.removeClass('disabled');\n                dom.tool.find('.sts-button-disable-mask').remove();\n\n                this.disabled = false;\n                this.trigger('enable');\n            }\n\n            return this;\n        },\n\n        /**\n         * Disables the PIC\n         * @fires disable\n         * @returns {picManager}\n         */\n        disable : function disable() {\n            // @todo: find a better solution for disabling/enabling a PIC\n            var dom = this.getDom();\n            var button;\n            if (dom) {\n                // set a disabled state by adding a CSS class, then mask the button with a top-level element\n                button = dom.button.addClass('disabled');\n\n                $('<div class=\"sts-button-disable-mask\" style=\"position:absolute;z-index:10000000000000\"></div>')\n                    .appendTo(dom.tool)\n                    .offset(button.offset())\n                    .width(button.outerWidth())\n                    .height(button.outerHeight());\n\n                // also hide any sub component\n                dom.tool.find('.sts-container, .sts-menu-container').addClass('sts-hidden-container');\n\n                this.disabled = true;\n                this.trigger('disable');\n            }\n\n            return this;\n        },\n\n        /**\n         * Shows the PIC\n         * @fires show\n         * @returns {picManager}\n         */\n        show : function show() {\n            var dom = this.getDom();\n            if (dom) {\n                dom.tool.show();\n\n                this.trigger('show');\n            }\n\n            return this;\n        },\n\n        /**\n         * Hides the PIC\n         * @fires hide\n         * @returns {picManager}\n         */\n        hide : function hide() {\n            var dom = this.getDom();\n            if (dom) {\n                dom.tool.hide();\n\n                this.trigger('hide');\n            }\n\n            return this;\n        },\n\n        /**\n         * Triggers an event on the underlying DOM element\n         * @param {String} eventName\n         * @returns {picManager}\n         */\n        trigger : function trigger(eventName) {\n            var dom = this.getDom();\n            var args = _.rest(arguments, 1);\n\n            args.unshift(this);\n\n            if (dom) {\n                // trigger the event, if the tool has been moved outside of the PIC, trigger also the event on the PIC\n                dom.tool.trigger(eventName, args);\n                if (dom.broken) {\n                    dom.pic.trigger(eventName, args);\n                }\n            }\n\n            return this;\n        }\n    };\n\n    /**\n     * The template of a PicManagerCollection instance\n     * @type {picManagerCollection}\n     */\n    var picManagerCollection = {\n        /**\n         * Creates the collection of PIC from an Item\n         *\n         * @param {QtiItem} item\n         * @returns {picManagerCollection}\n         */\n        init : function init(item) {\n            if (Element.isA(item, 'assessmentItem')) {\n                this._item = item;\n            }\n\n            return this;\n        },\n\n        /**\n         * Gets the list of PIC managers for the PIC provided by the running item.\n         *\n         * @param {Boolean} [force] Force a list rebuild\n         * @returns {Array} Returns the list of managers for the provided PIC\n         */\n        getList : function getList(force) {\n            var self = this;\n\n            // build the list if empty\n            if (force || !self._list) {\n                self._map = {};\n                self._list = [];\n                if (self._item) {\n                    _.forEach(self._item.getElements(), function(element) {\n                        var manager;\n\n                        if (Element.isA(element, 'infoControl')) {\n                            manager = managerFactory(element, self._item);\n                            self._list.push(manager);\n                            self._map[element.serial] = manager;\n                            self._map[element.typeIdentifier] = manager;\n                        }\n                    });\n                }\n            }\n\n            return this._list;\n        },\n\n        /**\n         * Gets the manager of the first PIC matching the identifier from the list provided by the running item.\n         *\n         * @param {String} picId The PIC typeIdentifier or serial\n         * @returns {Object} The manager of the PIC\n         */\n        getPic : function getPic(picId) {\n            this.getList();\n            return this._map[picId];\n        },\n\n        /**\n         * Executes an action on a particular PIC from the running item.\n         * @param {String} picId The PIC typeIdentifier or serial\n         * @param {String} action The name of the action to call\n         * @returns {*} Returns the action result\n         */\n        execute : function execute(picId, action) {\n            var pic = this.getPic(picId);\n            if (pic && pic[action]) {\n                return pic[action].apply(pic, _.rest(arguments, 2));\n            }\n        },\n\n        /**\n         * Executes an action on each PIC provided by the running item.\n         * @param {String} action The name of the action to call\n         * @param {Function} [filter] An optional filter to reduce the list\n         * @returns {picManagerCollection}\n         */\n        executeAll : function executeAll(action, filter) {\n            var args = _.rest(arguments, 2);\n            var cb;\n\n            if (typeof filter === 'function') {\n                cb = function(pic) {\n                    if (filter.call(pic, pic) && pic[action]) {\n                        pic[action].apply(pic, args);\n                    }\n                };\n            } else {\n                cb = function(pic) {\n                    if (pic[action]) {\n                        pic[action].apply(pic, args);\n                    }\n                };\n            }\n\n            return this.each(cb);\n        },\n\n        /**\n         * Calls a callback function on each listed PIC from the running item.\n         * @param {Function} cb The callback function to apply on each listed PIC\n         * @returns {picManagerCollection}\n         */\n        each : function each(cb) {\n            _.forEach(this.getList(), cb);\n            return this;\n        },\n\n        /**\n         * Enables a PIC provided by the running item.\n         *\n         * @param {String} picId The PIC typeIdentifier or serial\n         * @returns {picManagerCollection}\n         */\n        enablePic : function enablePic(picId) {\n            this.execute(picId, 'enable');\n            return this;\n        },\n\n        /**\n         * Disables a PIC provided by the running item.\n         *\n         * @param {String} picId The PIC typeIdentifier or serial\n         * @returns {picManagerCollection}\n         */\n        disablePic : function disablePic(picId) {\n            this.execute(picId, 'disable');\n            return this;\n        },\n\n        /**\n         * Shows a PIC provided by the running item.\n         *\n         * @param {String} picId The PIC typeIdentifier or serial\n         * @returns {picManagerCollection}\n         */\n        showPic : function showPic(picId) {\n            this.execute(picId, 'show');\n            return this;\n        },\n\n        /**\n         * Hides a PIC provided by the running item.\n         *\n         * @param {String} picId The PIC typeIdentifier or serial\n         * @returns {picManagerCollection}\n         */\n        hidePic : function hidePic(picId) {\n            this.execute(picId, 'hide');\n            return this;\n        },\n\n        /**\n         * Enables all PIC provided by the running item.\n         *\n         * @param {Function} [filter] An optional filter to reduce the list of PIC to enable\n         * @returns {picManagerCollection}\n         */\n        enableAll : function enableAll(filter) {\n            this.executeAll('enable', filter);\n            return this;\n        },\n\n        /**\n         * Disables all PIC provided by the running item.\n         *\n         * @param {Function} [filter] An optional filter to reduce the list of PIC to disable\n         * @returns {picManagerCollection}\n         */\n        disableAll : function disableAll(filter) {\n            this.executeAll('disable', filter);\n            return this;\n        },\n\n        /**\n         * Shows all PIC provided by the running item.\n         *\n         * @param {Function} [filter] An optional filter to reduce the list of PIC to show\n         * @returns {picManagerCollection}\n         */\n        showAll : function showAll(filter) {\n            this.executeAll('show', filter);\n            return this;\n        },\n\n        /**\n         * Hides all PIC provided by the running item.\n         *\n         * @param {Function} [filter] An optional filter to reduce the list of PIC to hide\n         * @returns {picManagerCollection}\n         */\n        hideAll : function hideAll(filter) {\n            this.executeAll('hide', filter);\n            return this;\n        }\n    };\n\n    /**\n     * Creates a PIC manager for a particular Item.\n     * @param {Object} pic\n     * @param {QtiItem} item\n     * @returns {picManager} Returns the instance of the PIC manager\n     */\n    var managerFactory = function managerFactory(pic, item) {\n        var manager = _.clone(picManager, true);\n        return manager.init(pic, item);\n    };\n\n    /**\n     * Creates a PIC manager for a particular Item.\n     * @param {QtiItem} item\n     * @returns {picManager} Returns the instance of the PIC manager\n     */\n    var collectionFactory = function collectionFactory(item) {\n        var collection = _.clone(picManagerCollection, true);\n        return collection.init(item);\n    };\n\n    return {\n        collection: collectionFactory,\n        manager: managerFactory\n    };\n});\n\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n *\n */\n\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiItem/runner/provider/qti',[\n    'jquery',\n    'lodash',\n    'context',\n    'core/promise',\n    'taoQtiItem/qtiItem/core/Loader',\n    'taoQtiItem/qtiItem/core/Element',\n    'taoQtiItem/qtiCommonRenderer/renderers/Renderer',\n    'taoQtiItem/runner/provider/manager/picManager',\n    'taoItems/assets/manager'\n], function($, _, context, Promise, QtiLoader, Element, QtiRenderer, picManager, assetManagerFactory){\n    'use strict';\n\n    var timeout = (context.timeout > 0 ? context.timeout + 1 : 30) * 1000;\n\n    /**\n     * @exports taoQtiItem/runner/provider/qti\n     */\n    var qtiItemRuntimeProvider = {\n\n        init : function(itemData, done){\n            var self = this;\n\n            var rendererOptions = {\n                assetManager : this.assetManager\n            };\n            if(this.options.themes){\n                rendererOptions.themes = this.options.themes;\n            }\n\n            this._renderer = new QtiRenderer(rendererOptions);\n\n            new QtiLoader().loadItemData(itemData, function(item){\n                if(!item){\n                    return self.trigger('error', 'Unable to load item from the given data.');\n                }\n\n                self._item = item;\n                self._renderer.load(function(){\n                    self._item.setRenderer(this);\n\n                    done();\n                }, this.getLoadedClasses());\n            });\n        },\n\n        render : function(elt, done){\n            var self = this;\n            var current = 0;\n\n            if(this._item){\n\n                try {\n                    //render item html\n                    elt.innerHTML = this._item.render({});\n                } catch(e){\n                    self.trigger('error', 'Error in template rendering : ' +  e.message);\n                }\n                try {\n                    // Race between postRendering and timeout\n                    // postRendering waits for everything to be resolved or one reject\n                    Promise.race([\n                        Promise.all(this._item.postRender()),\n                        new Promise(function(resolve, reject){\n                            _.delay(reject, timeout, new Error('Post rendering ran out of time.'));\n                        })\n                    ])\n                    .then(function(){\n                        $(elt)\n                            .off('responseChange')\n                            .on('responseChange', function(){\n                                self.trigger('statechange', self.getState());\n                                self.trigger('responsechange', self.getResponses());\n                            })\n                            .off('endattempt')\n                            .on('endattempt', function(e, responseIdentifier){\n                                self.trigger('endattempt', responseIdentifier || e.originalEvent.detail);\n                            })\n                            .off('themechange')\n                            .on('themechange', function(e, themeName){\n                                var themeLoader = self._renderer.getThemeLoader();\n                                themeName = themeName || e.originalEvent.detail;\n                                if(themeLoader){\n                                    themeLoader.change(themeName);\n                                }\n                            });\n\n                        /**\n                         * Lists the PIC provided by this item.\n                         * @event qti#listpic\n                         */\n                        self.trigger('listpic', picManager.collection(self._item));\n\n                        done();\n\n                    }).catch(function(err){\n                        self.trigger('error', 'Error in post rendering : ' +  err.message);\n                    });\n                } catch(err){\n                    self.trigger('error', 'Error in post rendering : ' + err.message);\n                }\n            }\n        },\n\n        /**\n         * Clean up stuffs\n         */\n        clear : function(elt, done){\n            if(this._item){\n\n                _.invoke(this._item.getInteractions(), 'clear');\n                this._item.clear();\n\n                $(elt).off('responseChange')\n                      .off('endattempt')\n                      .off('themechange')\n                      .empty();\n\n                if(this._renderer){\n                    this._renderer.unload();\n                }\n            }\n            done();\n        },\n\n        /**\n         * Get state implementation.\n         * @returns {Object} that represents the state\n         */\n        getState : function getState(){\n            var state = {};\n            if(this._item){\n\n                //get the state from interactions\n                _.forEach(this._item.getInteractions(), function(interaction){\n                    state[interaction.attr('responseIdentifier')] = interaction.getState();\n                });\n\n                //get the state from infoControls\n                _.forEach(this._item.getElements(), function(element) {\n                    if (Element.isA(element, 'infoControl') && element.attr('id')) {\n                        state.pic = state.pic || {};\n                        state.pic[element.attr('id')] = element.getState();\n                    }\n                });\n            }\n            return state;\n        },\n\n        /**\n         * Set state implementation.\n         * @param {Object} state - the state\n         */\n        setState : function setState(state){\n            if(this._item && state){\n\n                //set interaction state\n                _.forEach(this._item.getInteractions(), function(interaction){\n                    var id = interaction.attr('responseIdentifier');\n                    if(id && state[id]){\n                        interaction.setState(state[id]);\n                    }\n                });\n\n                //set info control state\n                if(state.pic){\n                    _.forEach(this._item.getElements(), function(element) {\n                        if (Element.isA(element, 'infoControl') && state.pic[element.attr('id')]) {\n                            element.setState(state.pic[element.attr('id')]);\n                        }\n                    });\n                }\n            }\n        },\n\n        getResponses : function(){\n            var responses = {};\n            if(this._item){\n                _.reduce(this._item.getInteractions(), function(res, interaction){\n                    responses[interaction.attr('responseIdentifier')] = interaction.getResponse();\n                    return responses;\n                }, responses);\n            }\n            return responses;\n        }\n    };\n\n    return qtiItemRuntimeProvider;\n});\n\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technlogies SA (under the project TAO-PRODUCT);\n *\n */\n\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiItem/runner/qtiItemRunner',['taoItems/runner/api/itemRunner', 'taoQtiItem/runner/provider/qti'], function(itemRunner, qtiRuntimeProvider){\n    'use strict';\n\n    //register the QTI Provider\n    itemRunner.register('qti', qtiRuntimeProvider);\n\n    /**\n     * Expose the itemRunner with the QTI provider registered\n     * @exports taoQtiItem/runner/qtiItemRunner\n     */\n    return itemRunner;\n});\n\n","\ndefine('tpl!taoQtiTest/runner/provider/layout', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\";\n\n\n  buffer += \"<div class=\\\"test-runner-scope\\\">\\n    <div class=\\\"action-bar content-action-bar horizontal-action-bar top-action-bar\\\">\\n\\n        <div class=\\\"control-box\\\">\\n            \\n        </div>\\n    </div>\\n\\n    <main>\\n\\n        <!-- optional left sidebar -->\\n        \\n\\n        <section class=\\\"content-wrapper\\\">\\n            <div id=\\\"qti-content\\\"></div>\\n        </section>\\n\\n\\n        \\n    </main>\\n\\n    <nav class=\\\"action-bar content-action-bar horizontal-action-bar bottom-action-bar\\\">\\n\\n        <div class=\\\"control-box size-wrapper\\\">\\n            <div class=\\\"lft tools-box\\\">\\n                <ul class=\\\"plain tools-box-list\\\"></ul>\\n            </div>\\n            <div class=\\\"rgt navi-box\\\">\\n                <ul class=\\\"plain navi-box-list\\\">\\n\\n                \\n                </ul>\\n            </div>\\n        </div>\\n    </nav>\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\n/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n/**\n * Test Runner provider for QTI Tests.\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/runner/provider/qti',[\n    'jquery',\n    'lodash',\n    'core/promise',\n    'taoTests/runner/areaBroker',\n    'taoTests/runner/proxy',\n    'taoQtiItem/runner/qtiItemRunner',\n    'taoItems/assets/manager',\n    'taoItems/assets/strategies',\n    'tpl!taoQtiTest/runner/provider/layout'\n], function($, _, Promise, areaBroker, proxyFactory, qtiItemRunner, assetManagerFactory, assetStrategies, layoutTpl) {\n    'use strict';\n\n    //states that can be found in the context\n    var states = {\n        initial:       0,\n        interacting:   1,\n        modalFeedback: 2,\n        suspended:     3,\n        closed:        4\n    };\n\n    //the asset strategies\n    var assetManager = assetManagerFactory([\n        assetStrategies.external,\n        assetStrategies.base64,\n        assetStrategies.baseUrl\n    ], { baseUrl: '' });\n\n    /**\n     * A Test runner provider to be registered againt the runner\n     */\n    var qtiProvider = {\n\n        //provider name\n        name : 'qti',\n\n        /**\n         * Initialize and load the area broker with a correct mapping\n         * @returns {areaBroker}\n         */\n        loadAreaBroker : function loadAreaBroker(){\n            var $layout = $(layoutTpl());\n            return areaBroker($layout, {\n                'content' : $('#qti-content', $layout),\n                'toolbox' : $('.tools-box', $layout),\n                'navigation' : $('.navi-box-list', $layout),\n                'control' : $('.top-action-bar .control-box', $layout),\n                'panel' : $('.test-sidebar', $layout),\n                'header' : $('.title-box', $layout)\n            });\n        },\n\n        loadProxy : function loadProxy(){\n\n            var config = this.getConfig();\n\n            var proxyConfig = _.pick(config, [\n                'testDefinition',\n                'testCompilation',\n                'serviceCallId',\n                'serviceController',\n                'serviceExtension'\n            ]);\n            return proxyFactory('qtiServiceProxy', proxyConfig);\n        },\n\n        init : function init(){\n            var self = this;\n\n            var computeNext = function computeNext(action, params){\n\n                var context = self.getTestContext();\n\n                //to be sure load start after unload...\n                //we add an intermediate ns event on unload\n                self.on('unloaditem.' + action, function(){\n                    self.off('.'+action);\n\n                    self.getProxy()\n                        .callItemAction(context.itemUri, action, params)\n                        .then(function(results){\n\n                                self.setTestContext(results.testContext);\n\n                                load();\n                        })\n                        .catch(function(err){\n                            self.trigger('error', err);\n                        });\n                })\n                .unloadItem(context.itemUri);\n            };\n\n            var load = function load(){\n\n                var context = self.getTestContext();\n\n                if(context.state <= states.interacting){\n                    self.loadItem(context.itemUri);\n                } else if (context.state === states.closed){\n                    self.finish();\n                }\n            };\n\n            //install behavior events handlers\n            this.on('ready', function(){\n                load();\n            })\n            .on('move', function(direction, scope, position){\n\n                computeNext('move', {\n                    direction : direction,\n                    scope     : scope || 'item',\n                    position  : position\n                });\n            })\n            .on('skip', function(scope){\n\n                computeNext('skip', {\n                    scope     : scope || 'item'\n                });\n            });\n\n            //load data and current context in parrallel at initialization\n            return this.getProxy().init()\n                       .then(function(results){\n                            self.setTestData(results.testData);\n                            self.setTestContext(results.testContext);\n                       });\n        },\n\n        render : function render(){\n\n            var config = this.getConfig();\n            var broker = this.getAreaBroker();\n\n            config.renderTo.append(broker.getContainer());\n        },\n\n        loadItem : function loadItem(itemRef){\n            var self = this;\n            return new Promise(function(resolve, reject){\n\n                Promise.all([\n                    self.getProxy().getItemData(itemRef),\n                    self.getProxy().getItemState(itemRef)\n                ])\n                .then(function(results){\n                    resolve({\n                        data : results[0].itemData,\n                        baseUrl : results[0].baseUrl,\n                        state : results[1].itemState || {}\n                    });\n                })\n                .catch(reject);\n            });\n        },\n\n        renderItem : function renderItem(item){\n            var self = this;\n\n            return new Promise(function(resolve, reject){\n                assetManager.setData('baseUrl', item.baseUrl);\n\n                self.itemRunner = qtiItemRunner(item.data.type, item.data.data, {\n                    assetManager: assetManager\n                })\n                .on('error', reject)\n                .on('render', resolve)\n                .on('statechange', function(state){\n                    console.log(state);\n                })\n                .on('responsechange', function(responses){\n                    console.log(responses);\n                })\n                .init()\n                .setState(item.state)\n                .render(self.getAreaBroker().getContentArea());\n            });\n        },\n\n        unloadItem : function unloadItem(itemRef){\n            var self = this;\n            return new Promise(function(resolve, reject){\n                if(self.itemRunner){\n                    self.itemRunner\n                        .on('clear', resolve)\n                        .clear();\n                    return;\n                }\n                resolve();\n            });\n        },\n\n        finish : function finish(){\n            return this.getProxy().callTestAction('finish');\n        },\n\n        destroy : function destroy(){\n            this.itemRunner = null;\n        }\n\n    };\n\n    return qtiProvider;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sbastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoQtiTest/runner/config/qtiServiceConfig',[\n    'lodash',\n    'helpers'\n], function(_, helpers) {\n    'use strict';\n\n    /**\n     * Some default config values\n     * @type {Object}\n     * @private\n     */\n    var _defaults = {\n        serviceController : 'Runner',\n        serviceExtension : 'taoQtiTest'\n    };\n\n    /**\n     * The list of handled config entries. Each required entry is set to true, while optional entries are set to false.\n     * @type {Object}\n     * @private\n     */\n    var _entries = {\n        testDefinition : true,\n        testCompilation : true,\n        serviceCallId : true,\n        serviceController : false,\n        serviceExtension : false\n    };\n\n    /**\n     * Extract the handled config entries.\n     * @param {Object} config\n     * @returns {Object}\n     * @throws Error if a required entry is missing\n     */\n    function getConfig(config) {\n        var storage = {};\n        _.forEach(_entries, function(value, name) {\n           if ('undefined' !== typeof config[name]) {\n               storage[name] = config[name];\n           } else if (value) {\n               throw new Error('The config entry \"' + name + '\" is required!');\n           }\n        });\n        return _.defaults(storage, _defaults);\n    }\n\n    /**\n     * Creates a config object for the proxy implementation\n     * @param {Object} config - Some required and optional config\n     * @param {String} config.testDefinition - The URI of the test\n     * @param {String} config.testCompilation - The URI of the compiled delivery\n     * @param {String} config.serviceCallId - The URI of the service call\n     * @param {String} [config.serviceController] - The name of the service controller\n     * @param {String} [config.serviceExtension] - The name of the extension containing the service controller\n     * @returns {Object}\n     */\n    function configFactory(config) {\n        // protected storage\n        var storage = getConfig(config);\n\n        // returns only a proxy storage object : no direct access to data is provided\n        return {\n            /**\n             * Gets the URI of the test\n             * @returns {String}\n             */\n            getTestDefinition : function getTestDefinition() {\n                return storage.testDefinition;\n            },\n\n            /**\n             * Gets the URI of the compiled delivery\n             * @returns {String}\n             */\n            getTestCompilation : function getTestCompilation() {\n                return storage.testCompilation;\n            },\n\n            /**\n             * Gets the URI of the service call\n             * @returns {String}\n             */\n            getServiceCallId : function getServiceCallId() {\n                return storage.serviceCallId;\n            },\n\n            /**\n             * Gets the name of the service controller\n             * @returns {String}\n             */\n            getServiceController : function getServiceController() {\n                return storage.serviceController;\n            },\n\n            /**\n             * Gets the name of the extension containing the service controller\n             * @returns {String}\n             */\n            getServiceExtension : function getServiceExtension() {\n                return storage.serviceExtension;\n            },\n\n            /**\n             * Gets an URL of a service action related to the test\n             * @param {String} action - the name of the action to request\n             * @returns {String} - Returns the URL\n             */\n            getTestActionUrl : function getTestActionUrl(action) {\n                return helpers._url(action, this.getServiceController(), this.getServiceExtension(), {\n                    testDefinition : this.getTestDefinition(),\n                    testCompilation : this.getTestCompilation(),\n                    serviceCallId : this.getServiceCallId()\n                });\n            },\n\n            /**\n             * Gets an URL of a service action related to a particular item\n             * @param {String} uri - The URI of the item\n             * @param {String} action - the name of the action to request\n             * @returns {String} - Returns the URL\n             */\n            getItemActionUrl : function getItemActionUrl(uri, action) {\n                return helpers._url(action, this.getServiceController(), this.getServiceExtension(), {\n                    testDefinition : this.getTestDefinition(),\n                    testCompilation : this.getTestCompilation(),\n                    testServiceCallId : this.getServiceCallId(),\n                    itemDefinition : uri\n                });\n            }\n        };\n    }\n\n    return configFactory;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sbastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoQtiTest/runner/proxy/qtiServiceProxy',[\n    'jquery',\n    'lodash',\n    'core/promise',\n    'helpers',\n    'taoQtiTest/runner/config/qtiServiceConfig'\n], function($, _, Promise, helpers, configFactory) {\n    'use strict';\n\n    /**\n     * Proxy request function. Returns a promise\n     * Applied options: asynchronous call, JSON data, no cache\n     * @param {String} url\n     * @param {Object} [params]\n     * @returns {Promise}\n     */\n    function request(url, params) {\n        return new Promise(function(resolve, reject) {\n            $.ajax({\n                url: url,\n                type: params ? 'POST' : 'GET',\n                cache: false,\n                data: params,\n                async: true,\n                dataType: 'json'\n            })\n            .done(function(data) {\n                if (data && data.success) {\n                    resolve(data);\n                } else {\n                    reject(false);\n                }\n            })\n            .fail(function(jqXHR) {\n                reject(jqXHR);\n            });\n        });\n    }\n\n    /**\n     * QTI proxy definition\n     * Related to remote services calls\n     * @type {Object}\n     */\n    var qtiServiceProxy = {\n        /**\n         * Initializes the proxy\n         * @param {Object} config - The config provided to the proxy factory\n         * @param {String} config.testDefinition - The URI of the test\n         * @param {String} config.testCompilation - The URI of the compiled delivery\n         * @param {String} config.serviceCallId - The URI of the service call\n         * @returns {Promise} - Returns a promise. The proxy will be fully initialized on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        init: function init(config) {\n            var initConfig = config || {};\n\n            // store config in a dedicated storage\n            this.storage = configFactory(initConfig);\n\n            // request for initialization\n            return request(this.storage.getTestActionUrl('init'));\n        },\n\n        /**\n         * Uninstalls the proxy\n         * @returns {Promise} - Returns a promise. The proxy will be fully uninstalled on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        destroy: function destroy() {\n            var self = this;\n            // the method must return a promise\n            return new Promise(function(resolve) {\n                // no request, just a resources cleaning\n                self.storage = null;\n                resolve();\n            });\n        },\n\n        /**\n         * Gets the test definition data\n         * @returns {Promise} - Returns a promise. The test definition data will be provided on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        getTestData: function getTestData() {\n            return request(this.storage.getTestActionUrl('getTestData'));\n        },\n\n        /**\n         * Gets the test context\n         * @returns {Promise} - Returns a promise. The context object will be provided on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        getTestContext: function getTestContext() {\n            return request(this.storage.getTestActionUrl('getTestContext'));\n        },\n\n        /**\n         * Gets the test map\n         * @returns {Promise} - Returns a promise. The test map object will be provided on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        getTestMap: function getTestMap() {\n            return request(this.storage.getTestActionUrl('getTestMap'));\n        },\n\n        /**\n         * Calls an action related to the test\n         * @param {String} action - The name of the action to call\n         * @param {Object} [params] - Some optional parameters to join to the call\n         * @returns {Promise} - Returns a promise. The result of the request will be provided on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        callTestAction: function callTestAction(action, params) {\n            return request(this.storage.getTestActionUrl(action), params);\n        },\n\n        /**\n         * Gets an item definition by its URI\n         * @param {String} uri - The URI of the item to get\n         * @returns {Promise} - Returns a promise. The item definition data will be provided on resolve.\n         *                      Any error will be provided if rejected.\n         * @fires getItemData\n         */\n        getItemData: function getItemData(uri) {\n            return request(this.storage.getItemActionUrl(uri, 'getItemData'));\n        },\n\n        /**\n         * Gets an item state by the item URI\n         * @param {String} uri - The URI of the item for which get the state\n         * @returns {Promise} - Returns a promise. The item state object will be provided on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        getItemState: function getItemState(uri) {\n            return request(this.storage.getItemActionUrl(uri, 'getItemState'));\n        },\n\n        /**\n         * Submits the state of a particular item\n         * @param {String} uri - The URI of the item to update\n         * @param {Object} state - The state to submit\n         * @returns {Promise} - Returns a promise. The result of the request will be provided on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        submitItemState: function submitItemState(uri, state) {\n            return request(this.storage.getItemActionUrl(uri, 'submitItemState'), state);\n        },\n\n        /**\n         * Stores the response for a particular item\n         * @param {String} uri - The URI of the item to update\n         * @param {Object} response - The response object to submit\n         * @returns {Promise} - Returns a promise. The result of the request will be provided on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        storeItemResponse: function storeItemResponse(uri, response) {\n            return request(this.storage.getItemActionUrl(uri, 'storeItemResponse'), response);\n        },\n\n        /**\n         * Calls an action related to a particular item\n         * @param {String} uri - The URI of the item for which call the action\n         * @param {String} action - The name of the action to call\n         * @param {Object} [params] - Some optional parameters to join to the call\n         * @returns {Promise} - Returns a promise. The result of the request will be provided on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        callItemAction: function callItemAction(uri, action, params) {\n            return request(this.storage.getItemActionUrl(uri, action), params);\n        }\n    };\n\n    return qtiServiceProxy;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n/**\n *\n * Runner plugin\n *\n * TODO usage example\n *\n * @author Sam <sam@taotesting.com>\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoTests/runner/plugin',[\n    'lodash',\n    'core/promise'\n], function (_, Promise){\n    'use strict';\n\n    /**\n     * Meta factory for plugins. Let's you create a plugin definition.\n     *\n     * @param {Object} provider - the list of implemented methods\n     * @param {String} provider.name - the plugin name\n     * @param {Function} provider.init - the plugin initialization method\n     * @param {Function} [provider.render] - plugin render behaviorV\n     * @param {Function} [provider.finish] - plugin render behaviorV\n     * @param {Function} [provider.destroy] - plugin destroy behavior\n     * @param {Function} [provider.show] - plugin show behavior\n     * @param {Function} [provider.hide] - plugin hide behavior\n     * @param {Function} [provider.enable] - plugin enable behavior\n     * @param {Function} [provider.disable] - plugin disable behavior\n     * @param {Object} defaults - default configuration to be assigned\n     * @returns {Function} - the generated plugin factory\n     */\n    function pluginFactory(provider, defaults){\n        var pluginName;\n\n        if(!_.isPlainObject(provider) || !_.isString(provider.name) || _.isEmpty(provider.name) || !_.isFunction(provider.init)){\n            throw new TypeError('A plugin should be defined at least by a name property and an init method');\n        }\n\n        //TODO verify the name isn't already in use\n        pluginName = provider.name;\n\n        defaults = defaults || {};\n\n\n        /**\n         * The configured plugin factory\n         *\n         * @param {testRunner} runner - a test runner instance\n         * @param {areaBroker} areaBroker - an instance of an areaBrokee\n         * @param {Object} [config] - plugin configuration\n         * @returns {plugin} the plugin instance\n         */\n        return function instanciatePlugin(runner, areaBroker, config){\n            var plugin;\n\n            var states = {};\n\n            /**\n             * Delegate a function call to the provider\n             *\n             * @param {String} fnName - the function name\n             * @param {...} args - additional args are given to the provider\n             * @returns {*} up to the provider\n             */\n            function delegate(fnName){\n                var args = [].slice.call(arguments, 1);\n                return new Promise(function(resolve){\n                    if(!_.isFunction(provider[fnName])){\n                        return resolve();\n                    }\n                    return resolve(provider[fnName].apply(plugin, args));\n                });\n            }\n\n\n            config = _.defaults(config || {}, defaults);\n\n            /**\n             * The plugin instance.\n             * @typedef {plugin}\n             */\n            plugin = {\n\n                /**\n                 * Called when the testRunner is initializing\n                 * @returns {Promise} to resolve async delegation\n                 */\n                init : function init(){\n                    var self = this;\n                    states = {};\n\n                    return delegate('init').then(function(){\n                        self.setState('init', true)\n                            .trigger('init');\n                    });\n                },\n\n                /**\n                 * Called when the testRunner is rendering\n                 * @returns {Promise} to resolve async delegation\n                 */\n                render : function render(){\n                    var self = this;\n\n                    return delegate('render').then(function(){\n                        self.setState('ready', true)\n                            .trigger('render')\n                            .trigger('ready');\n                    });\n                },\n\n                /**\n                 * Called when the testRunner is finishing\n                 * @returns {Promise} to resolve async delegation\n                 */\n                finish : function finish(){\n                    var self = this;\n\n                    return delegate('finish').then(function(){\n                        self.setState('finish', true)\n                            .trigger('finish');\n                    });\n                },\n\n                /**\n                 * Called when the testRunner is destroying\n                 * @returns {Promise} to resolve async delegation\n                 */\n                destroy : function destroy(){\n                    var self = this;\n\n                    return delegate('destroy').then(function(){\n\n                        config = {};\n                        states = {};\n\n                        self.setState('init', false);\n                        self.trigger('destroy');\n                    });\n                },\n\n                /**\n                 * Triggers the events on the test runner using the pluginName as namespace\n                 * and prefixed by plugin-\n                 * For example trigger('foo') will trigger('plugin-foo.pluginA') on the runner.\n                 *\n                 * @param {String} name - the event name\n                 * @param {...} args - additional args are given to the event\n                 * @returns {plugin} chains\n                 */\n                trigger : function trigger(name){\n                    var args = [].slice.call(arguments, 1);\n                    runner.trigger.apply(runner, ['plugin-' + name + '.' + pluginName, plugin].concat(args));\n                    return this;\n                },\n\n                /**\n                 * Get the test runner\n                 * @returns {testRunner} the plugins's testRunner\n                 */\n                getTestRunner : function getTestRunner(){\n                    return runner;\n                },\n\n                /**\n                 * Get the test runner\n                 * @returns {testRunner} the plugins's testRunner\n                 */\n                getAreaBroker : function getAreaBroker(){\n                    return areaBroker;\n                },\n\n                /**\n                 * Get the config\n                 * @returns {Object} config\n                 */\n                getConfig : function getConfig(){\n                    return config;\n                },\n\n                /**\n                 * Set a config entry\n                 * @param {String|Object} name - the entry name or an object to merge\n                 * @param {*} [value] - the config value if name is an entry\n                 * @returns {plugin} chains\n                 */\n                setConfig : function setConfig(name, value){\n                    if(_.isPlainObject(name)){\n                        config = _.defaults(name, config);\n                    }else{\n                        config[name] = value;\n                    }\n                    return this;\n                },\n\n                /**\n                 * Get a state of the plugin\n                 *\n                 * @param {String} name - the state name\n                 * @returns {Boolean} if active, false if not set\n                 */\n                getState : function getState(name){\n                    return !!states[name];\n                },\n\n                /**\n                 * Set a state to the plugin\n                 *\n                 * @param {String} name - the state name\n                 * @param {Boolean} active - is the state active\n                 * @returns {plugin} chains\n                 * @throws {TypeError} if the state name is not a valid string\n                 */\n                setState : function setState(name, active){\n                    if(!_.isString(name) || _.isEmpty(name)){\n                        throw new TypeError('The state must have a name');\n                    }\n                    states[name] = !!active;\n\n                    return this;\n                },\n\n\n                /**\n                 * Shows the component related to this plugin\n                 * @returns {Promise} to resolve async delegation\n                 */\n                show : function show(){\n                    var self = this;\n\n                    return delegate('show').then(function(){\n                        self.setState('visible', true)\n                            .trigger('show');\n                    });\n                },\n\n                /**\n                 * Hides the component related to this plugin\n                 * @returns {Promise} to resolve async delegation\n                 */\n                hide : function hide(){\n                    var self = this;\n\n                    return delegate('hide').then(function(){\n                        self.setState('visible', false)\n                            .trigger('hide');\n                    });\n                },\n\n                /**\n                 * Enables the plugin\n                 * @returns {Promise} to resolve async delegation\n                 */\n                enable : function enable(){\n                    var self = this;\n\n                    return delegate('enable').then(function(){\n                        self.setState('enabled', true)\n                            .trigger('enable');\n                    });\n                },\n\n                /**\n                 * Disables the plugin\n                 * @returns {Promise} to resolve async delegation\n                 */\n                disable : function disable(){\n                    var self = this;\n\n                    return delegate('disable').then(function(){\n                        self.setState('enabled', false)\n                            .trigger('disable');\n                    });\n                }\n            };\n\n            return plugin;\n        };\n    }\n\n    return pluginFactory;\n});\n\n","\ndefine('tpl!taoQtiTest/runner/plugins/controls/title/title', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n        <span data-control=\\\"\";\n  if (helper = helpers.control) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.control); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"qti-controls\\\" title=\\\"\";\n  if (helper = helpers.text) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.text); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  stack1 = helpers.unless.call(depth0, (data == null || data === false ? data : data.first), {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  if (helper = helpers.text) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.text); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n    \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  \n  return \" - \";\n  }\n\n  buffer += \"<div class=\\\"title-box truncate\\\">\\n    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.titles), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n\n/**\n * Test Runner Control Plugin : Title\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/runner/plugins/controls/title/title',[\n    'jquery',\n    'i18n',\n    'taoTests/runner/plugin',\n    'tpl!taoQtiTest/runner/plugins/controls/title/title'\n], function ($, __, pluginFactory, titleTpl){\n    'use strict';\n\n    return pluginFactory({\n        name : 'title',\n        init : function init(){\n            var self = this;\n            var testRunner = this.getTestRunner();\n            var testData   = testRunner.getTestData();\n\n            var createElement = function(){\n\n                var context  = testRunner.getTestContext();\n                var showSection   = !!context.isDeepestSectionVisible;\n                var titles =  [{\n                    control : 'qti-test-title',\n                    text    : testData.title\n                }];\n               if(context.isDeepestSectionVisible){\n                    titles.push({\n                        control : 'qti-test-position',  //WTF !? isn't it the section title... ?\n                        text    : context.sectionTitle\n                    });\n                }\n\n                return $(titleTpl({ titles : titles }));\n            };\n\n            this.$element = createElement();\n\n\n            testRunner\n                .after('move', function(){\n                    self.$element = self.$element.replaceWith(createElement());\n                });\n\n        },\n        render : function render(){\n            var $container = this.getAreaBroker().getControlArea();\n            $container.append(this.$element);\n        },\n    });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sbastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoQtiTest/testRunner/progressUpdater',[\n    'jquery',\n    'lodash',\n    'i18n',\n    'ui/progressbar'\n], function ($, _, __) {\n    'use strict';\n\n    /**\n     * Provides a versatile progress bar updater\n     * @type {{init: Function, update: Function}}\n     */\n    var progressUpdaters = {\n        /**\n         * Initializes the progress updater\n         *\n         * @param {String|jQuery|HTMLElement} progressBar The element on which put the progress bar\n         * @param {String|jQuery|HTMLElement} progressLabel The element on which put the progress label\n         * @returns {progressUpdaters}\n         */\n        init: function(progressBar, progressLabel) {\n            this.progressBar = $(progressBar).progressbar();\n            this.progressLabel = $(progressLabel);\n            return this;\n        },\n\n        /**\n         * Writes the progress label and update the progress by ratio\n         * @param {String} label\n         * @param {Number} ratio\n         * @returns {progressUpdaters}\n         */\n        write: function(label, ratio) {\n            this.progressLabel.text(label);\n            this.progressBar.progressbar('value', ratio);\n            return this;\n        },\n\n        /**\n         * Updates the progress bar\n         * @param {Object} testContext The progression context\n         * @returns {{ratio: number, label: string}}\n         */\n        update: function(testContext) {\n            var progressIndicator = testContext.progressIndicator || 'percentage';\n            var progressIndicatorMethod = progressIndicator + 'Progression';\n            var getProgression = this[progressIndicatorMethod] || this.percentageProgression;\n            var progression = getProgression && getProgression(testContext) || {};\n\n            this.write(progression.label, progression.ratio);\n            return progression;\n        },\n\n        /**\n         * Updates the progress bar displaying the percentage\n         * @param {Object} testContext The progression context\n         * @returns {{ratio: number, label: string}}\n         */\n        percentageProgression: function(testContext) {\n            var total = Math.max(1, testContext.numberItems);\n            var ratio = Math.floor(testContext.numberCompleted / total * 100);\n            return {\n                ratio : ratio,\n                label : ratio + '%'\n            };\n        },\n\n        /**\n         * Updates the progress bar displaying the position\n         * @param {Object} testContext The progression context\n         * @returns {{ratio: number, label: string}}\n         */\n        positionProgression: function(testContext) {\n            var progressScope = testContext.progressIndicatorScope;\n            var progressScopeCounter = {\n                test : {\n                    total : 'numberItems',\n                    position : 'itemPosition'\n                },\n                testPart : {\n                    total : 'numberItemsPart',\n                    position : 'itemPositionPart'\n                },\n                testSection : {\n                    total : 'numberItemsSection',\n                    position : 'itemPositionSection'\n                }\n            };\n            var counter = progressScopeCounter[progressScope] || progressScopeCounter.test;\n            var total = Math.max(1, testContext[counter.total]);\n            var position = testContext[counter.position] + 1;\n            return {\n                ratio : Math.floor(position / total * 100),\n                label : __('Item %d of %d', position, total)\n            };\n        }\n    };\n\n    /**\n     * Builds an instance of progressUpdaters\n     * @param {String|jQuery|HTMLElement} progressBar The element on which put the progress bar\n     * @param {String|jQuery|HTMLElement} progressLabel The element on which put the progress label\n     * @returns {progressUpdaters}\n     */\n    var progressUpdaterFactory = function(progressBar, progressLabel) {\n        var updater = _.clone(progressUpdaters, true);\n        return updater.init(progressBar, progressLabel);\n    };\n\n    return progressUpdaterFactory;\n});\n\n","\ndefine('tpl!taoQtiTest/runner/plugins/controls/progressbar/progressbar', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<div class=\\\"progress-box\\\">\\n    <div data-control=\\\"progress-bar\\\" class=\\\"qti-controls progressbar info\\\"></div>\\n    <div data-control=\\\"progress-label\\\" class=\\\"qti-controls\\\"></div>\\n</div>\\n\";\n  });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n\n/**\n * Test Runner Control Plugin : Progress Bar\n *\n * TODO move the progressUpdater inside the plugin at some point\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/runner/plugins/controls/progressbar/progressbar',[\n    'jquery',\n    'i18n',\n    'taoTests/runner/plugin',\n    'taoQtiTest/testRunner/progressUpdater',\n    'tpl!taoQtiTest/runner/plugins/controls/progressbar/progressbar'\n], function ($, __, pluginFactory, progressUpdater, progressTpl){\n    'use strict';\n\n\n    /**\n     * Returns the configured plugin\n     */\n    return pluginFactory({\n\n        name : 'progressBar',\n\n        /**\n         * Initialize the plugin (called during runner's init)\n         */\n        init : function init(){\n            var self = this;\n            var testRunner = this.getTestRunner();\n\n            //update the progress bar at the beginning and\n            var update = function update (){\n                if(self.progressUpdater){\n                    self.progressUpdater.update(testRunner.getTestContext());\n                }\n            };\n\n            //create the progressbar\n            this.$element = $(progressTpl());\n\n            //load the updater\n            this.progressUpdater = progressUpdater(\n                    $('[data-control=\"progress-bar\"]', this.$element),\n                    $('[data-control=\"progress-label\"]', this.$element)\n                );\n\n            update();\n\n            testRunner\n                .on('ready', update)\n                .on('loaditem', update);\n        },\n\n        /**\n         * Called during the runner's render phase\n         */\n        render : function render(){\n            var $container = this.getAreaBroker().getControlArea();\n            $container.append(this.$element);\n        },\n    });\n});\n\n","\ndefine('tpl!taoQtiTest/runner/plugins/navigation/button', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<li data-control=\\\"\";\n  if (helper = helpers.control) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.control); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"small btn-info action\\\" title=\\\"\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n    <a class=\\\"li-inner\\\" href=\\\"#\\\">\\n        <span class=\\\"icon-\";\n  if (helper = helpers.icon) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.icon); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"></span>\\n        <span class=\\\"text\\\">\";\n  if (helper = helpers.text) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.text); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n    </a>\\n</li>\\n\";\n  return buffer;\n  });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n\n/**\n * Test Runner Navigation Plugin : Next\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/runner/plugins/navigation/next',[\n    'jquery',\n    'i18n',\n    'taoTests/runner/plugin',\n    'tpl!taoQtiTest/runner/plugins/navigation/button'\n], function ($, __, pluginFactory, buttonTpl){\n    'use strict';\n\n    /**\n     * The display of the next button\n     */\n    var buttonData = {\n        next : {\n            control : 'move-forward',\n            title   : __('Submit and go to the next item'),\n            icon    : 'forward',\n            text    : __('Next')\n        },\n        end : {\n            control : 'move-end',\n            title   : __('Submit and go to the end of the test'),\n            icon    : 'fast-forward',\n            text    : __('End test')\n        }\n    };\n\n    /**\n     * Create the button based on the current context\n     * @param {Object} context - the test context\n     * @returns {jQueryElement} the button\n     */\n    var createElement = function createElement(context){\n        var dataType = !!context.isLast ? 'end' : 'next';\n        return $(buttonTpl(buttonData[dataType]));\n    };\n\n    /**\n     * Update the button based on the context\n     * @param {jQueryElement} $element - the element to update\n     * @param {Object} context - the test context\n     */\n    var updateElement = function updateElement($element, context){\n        var dataType = !!context.isLast ? 'end' : 'next';\n        if($element.data('control') !== buttonData[dataType].control){\n\n            $element.data('control', buttonData[dataType].control)\n                    .attr('title', buttonData[dataType].title)\n                    .find('.text').text(buttonData[dataType].text);\n\n            if(dataType === 'next'){\n                $element.find('.icon-' + buttonData.end.icon)\n                        .removeClass('icon-' + buttonData.end.icon)\n                        .addClass('icon-' + buttonData.next.icon);\n            } else {\n                $element.find('.icon-' + buttonData.next.icon)\n                        .removeClass('icon-' + buttonData.next.icon)\n                        .addClass('icon-' + buttonData.end.icon);\n            }\n        }\n    };\n\n    /**\n     * Returns the configured plugin\n     */\n    return pluginFactory({\n        name : 'next',\n\n        /**\n         * Initialize the plugin (called during runner's init)\n         */\n        init : function init(){\n            var self = this;\n            var testRunner = this.getTestRunner();\n\n            //create the button (detached)\n            this.$element = createElement(testRunner.getTestContext());\n\n            //plugin behavior\n            this.$element.on('click', function(e){\n                e.preventDefault();\n\n                if(self.getState('enabled') !== false){\n                    self.disable();\n                    testRunner.next();\n                }\n            });\n\n            //disabled by default\n            this.disable();\n\n            //change plugin state\n            testRunner\n                .on('loaditem', function(){\n                    updateElement(self.$element, testRunner.getTestContext());\n                })\n                .on('renderitem', function(){\n                    self.enable();\n                })\n                .on('unloaditem', function(){\n                    self.disable();\n                });\n        },\n\n        /**\n         * Called during the runner's render phase\n         */\n        render : function render(){\n\n            //attach the element to the navigation area\n            var $container = this.getAreaBroker().getNavigationArea();\n            $container.append(this.$element);\n        },\n\n        /**\n         * Called during the runner's destroy phase\n         */\n        destroy : function destroy (){\n            this.$element.remove();\n        },\n\n        /**\n         * Enable the button\n         */\n        enable : function enable (){\n            this.$element.removeProp('disabled')\n                         .removeClass('disabled');\n        },\n\n        /**\n         * Disable the button\n         */\n        disable : function disable (){\n            this.$element.prop('disabled', true)\n                         .addClass('disabled');\n        },\n\n        /**\n         * Show the button\n         */\n        show: function show(){\n            this.$element.show();\n        },\n\n        /**\n         * Hide the button\n         */\n        hide: function hide(){\n            this.$element.hide();\n        }\n    });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n\n/**\n * Test Runner Navigation Plugin : Previous\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/runner/plugins/navigation/previous',[\n    'jquery',\n    'i18n',\n    'taoTests/runner/plugin',\n    'tpl!taoQtiTest/runner/plugins/navigation/button'\n], function ($, __, pluginFactory, buttonTpl){\n    'use strict';\n\n    /**\n     * Returns the configured plugin\n     */\n    return pluginFactory({\n\n        name : 'previous',\n\n        /**\n         * Initialize the plugin (called during runner's init)\n         */\n        init : function init(){\n            var self = this;\n\n            var testRunner = this.getTestRunner();\n\n            /**\n             * Can we move backward ? if not, then we hide the plugin\n             */\n            var toggle = function toggle(){\n                var context = testRunner.getTestContext();\n                if(context.navigationMode === 1 && context.canMoveBackward){\n                    self.show();\n                } else {\n                    self.hide();\n                }\n            };\n\n            //build element (detached)\n            this.$element =  $(buttonTpl({\n                control : 'move-backward',\n                title   : __('Submit and go to the previous item'),\n                icon    : 'backward',\n                text    : __('Previous')\n            }));\n\n            //attach behavior\n            this.$element.on('click', function(e){\n                e.preventDefault();\n                if(self.getState('enabled') !== false){\n                    self.disable();\n\n                    testRunner.previous();\n                }\n            });\n\n            //start disabled\n            toggle();\n            self.disable();\n\n            //update plugin state based on changes\n            testRunner\n                .on('loaditem', toggle)\n                .on('renderitem', function(){\n                    self.enable();\n                })\n                .on('unloaditem', function(){\n                    self.disable();\n                });\n        },\n\n        /**\n         * Called during the runner's render phase\n         */\n        render : function render(){\n            var $container = this.getAreaBroker().getNavigationArea();\n            $container.append(this.$element);\n        },\n\n        /**\n         * Called during the runner's destroy phase\n         */\n        destroy : function destroy (){\n            this.$element.remove();\n        },\n\n        /**\n         * Enable the button\n         */\n        enable : function enable (){\n            this.$element.removeProp('disabled')\n                         .removeClass('disabled');\n        },\n\n        /**\n         * Disable the button\n         */\n        disable : function disable (){\n            this.$element.prop('disabled', true)\n                         .addClass('disabled');\n        },\n\n        /**\n         * Show the button\n         */\n        show: function show(){\n            this.$element.show();\n        },\n\n        /**\n         * Hide the button\n         */\n        hide: function hide(){\n            this.$element.hide();\n        }\n    });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n\n/**\n * Test Runner Navigation Plugin : Next Section\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/runner/plugins/navigation/nextSection',[\n    'jquery',\n    'i18n',\n    'taoTests/runner/plugin',\n    'tpl!taoQtiTest/runner/plugins/navigation/button'\n], function ($, __, pluginFactory, buttonTpl){\n    'use strict';\n\n    return pluginFactory({\n        name : 'nextsection',\n        init : function init(){\n            var self = this;\n            var testRunner = this.getTestRunner();\n\n            var toggle = function toggle(){\n                var context = testRunner.getTestContext();\n                if(context.nextSection === true){\n                    self.show();\n                } else {\n                    self.hide();\n                }\n            };\n\n            this.$element = $(buttonTpl({\n                control : 'next-section',\n                title   : __('Skip to the next section'),\n                icon    : 'fast-forward',\n                text    : __('Next Section')\n            }));\n\n          this.$element.on('click', function(e){\n                e.preventDefault();\n                if(self.getState('enabled') !== false){\n                    self.disable();\n\n                    testRunner.next('section');\n                }\n            });\n\n            toggle();\n\n            testRunner\n                .on('ready', function(){\n                    self.enable();\n                })\n                .after('move', function(){\n                    toggle();\n                });\n        },\n        render : function render(){\n            var $container = this.getAreaBroker().getNavigationArea();\n            $container.append(this.$element);\n        },\n        destroy : function destroy (){\n            this.$element.remove();\n        },\n        enable : function enable (){\n            this.$element.removeProp('disabled');\n        },\n        disable : function disable (){\n            this.$element.prop('disabled', true);\n        },\n        show: function show(){\n            this.$element.show();\n        },\n        hide: function hide(){\n            this.$element.hide();\n        },\n    });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n\n/**\n * Test Runner Navigation Plugin : Skip\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/runner/plugins/navigation/skip',[\n    'jquery',\n    'i18n',\n    'taoTests/runner/plugin',\n    'tpl!taoQtiTest/runner/plugins/navigation/button'\n], function ($, __, pluginFactory, buttonTpl){\n    'use strict';\n\n    /**\n     * The display of the skip\n     */\n    var buttonData = {\n        skip : {\n            control : 'skip',\n            title   : __('Skip  and go to the next item'),\n            icon    : 'external',\n            text    : __('Skip')\n        },\n        end : {\n            control : 'skip-end',\n            title   : __('Skip and go to the end of the test'),\n            icon    : 'external',\n            text    : __('Skip and end test')\n        }\n    };\n\n    /**\n     * Create the button based on the current context\n     * @param {Object} context - the test context\n     * @returns {jQueryElement} the button\n     */\n    var createElement = function createElement(context){\n        var dataType = context.isLast ? 'end' : 'skip';\n        return $(buttonTpl(buttonData[dataType]));\n    };\n\n    /**\n     * Update the button based on the context\n     * @param {jQueryElement} $element - the element to update\n     * @param {Object} context - the test context\n     */\n    var updateElement = function updateElement($element, context){\n        var dataType = context.isLast ? 'end' : 'skip';\n        if($element.data('control') !== buttonData[dataType].control){\n\n            $element.data('control', buttonData[dataType].control)\n                    .attr('title', buttonData[dataType].title)\n                    .find('.text').text(buttonData[dataType].title);\n        }\n    };\n\n    /**\n     * Returns the configured plugin\n     */\n    return pluginFactory({\n\n        name : 'skip',\n\n        /**\n         * Initialize the plugin (called during runner's init)\n         */\n        init : function init(){\n            var self = this;\n            var testRunner = this.getTestRunner();\n\n            var toggle = function toggle(){\n                var context = testRunner.getTestContext();\n                if(context.allowSkipping === true){\n                    self.show();\n                    return true;\n                }\n\n                self.hide();\n                return false;\n            };\n\n            this.$element = createElement(testRunner.getTestContext());\n\n            this.$element.on('click', function(e){\n                e.preventDefault();\n\n                if(self.getState('enabled') !== false){\n                    self.disable();\n\n                    testRunner.skip();\n                }\n            });\n\n            toggle();\n            self.disable();\n\n            testRunner\n                .on('loaditem', function(){\n                    if(toggle()){\n                        updateElement(self.$element, testRunner.getTestContext());\n                    }\n                })\n                .on('renderitem', function(){\n                    self.enable();\n                })\n                .on('unloaditem', function(){\n                    self.disable();\n                });\n        },\n\n        /**\n         * Called during the runner's render phase\n         */\n        render : function render(){\n            var $container = this.getAreaBroker().getNavigationArea();\n            $container.append(this.$element);\n        },\n\n        /**\n         * Called during the runner's destroy phase\n         */\n        destroy : function destroy (){\n            this.$element.remove();\n        },\n\n        /**\n         * Enable the button\n         */\n        enable : function enable (){\n            this.$element.removeProp('disabled')\n                         .removeClass('disabled');\n        },\n\n        /**\n         * Disable the button\n         */\n        disable : function disable (){\n            this.$element.prop('disabled', true)\n                         .addClass('disabled');\n        },\n\n        /**\n         * Show the button\n         */\n        show: function show(){\n            this.$element.show();\n        },\n\n        /**\n         * Hide the button\n         */\n        hide: function hide(){\n            this.$element.hide();\n        }\n    });\n});\n\n","\ndefine('css!taoQtiTestCss/new-test-runner',[],function(){});\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n\n/**\n * Test runner controller entry\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/runner/runner',[\n    'jquery',\n    'lodash',\n    'core/promise',\n    'ui/feedback',\n    'layout/loading-bar',\n\n    'taoTests/runner/runner',\n    'taoQtiTest/runner/provider/qti',\n    'taoTests/runner/proxy',\n\n    'taoQtiTest/runner/proxy/qtiServiceProxy',\n    'taoQtiTest/runner/plugins/controls/title/title',\n    'taoQtiTest/runner/plugins/controls/progressbar/progressbar',\n    'taoQtiTest/runner/plugins/navigation/next',\n    'taoQtiTest/runner/plugins/navigation/previous',\n    'taoQtiTest/runner/plugins/navigation/nextSection',\n    'taoQtiTest/runner/plugins/navigation/skip',\n\n    'css!taoQtiTestCss/new-test-runner'\n], function(\n    $, _, Promise, feedback, loadingBar,\n    runner, qtiProvider, proxy, qtiServiceProxy,\n    title, progressbar, next, previous, nextSection, skip\n) {\n    'use strict';\n\n\n    /*\n     *TODO plugins list, provider registration should be loaded dynamically\n     */\n\n    runner.registerProvider('qti', qtiProvider);\n    proxy.registerProxy('qtiServiceProxy', qtiServiceProxy);\n\n\n    var plugins = {\n        title       : title,\n        progress    : progressbar,\n        previous    : previous,\n        next        : next,\n        skip        : skip,\n        nextSection : nextSection\n    };\n\n    /**\n     * The runner controller\n     */\n    var runnerController = {\n\n        /**\n         * Controller entry point\n         * @param {Object} options - options to give to the test runner\n         * @param {String} options.testDefinition\n         * @param {String} options.testCompilation\n         * @param {String} options.serviceCallId\n         * @param {String} options.serviceExtension\n         * @param {String} options.serviceController\n         * @param {String} options.exitUrl\n         */\n        start : function start(options){\n\n            var config = _.defaults(options || {}, {\n                renderTo : $('.runner')\n            });\n\n            loadingBar.start();\n\n            //instantiate the QtiTestRunner\n            runner('qti', plugins, config)\n                .on('error', function(err){\n\n                    loadingBar.stop();\n\n                    //TODO to be replaced by the logger\n                    window.console.error(err);\n\n                    feedback().error(err);\n                })\n                .on('ready', function(){\n                    _.defer(function(){\n                        $('.runner').removeClass('hidden');\n                    });\n                })\n                .on('unloaditem', function(){\n                    loadingBar.start();\n                })\n                .on('renderitem', function(){\n                    loadingBar.stop();\n                })\n                .on('finish', function(){\n                    this.destroy();\n                })\n                .on('destroy', function(){\n                    window.location = config.exitUrl;\n                })\n                .init();\n        }\n    };\n\n    return runnerController;\n});\n\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n *\n */\n\n/**\n * This module allows adding extra buttons in the action bar of the test runner\n *\n */\ndefine('taoQtiTest/testRunner/actionBarHook',[\n    'jquery',\n    'lodash',\n    'core/errorHandler',\n    'core/promise'\n], function ($, _, errorHandler, Promise) {\n\n    'use strict';\n\n    /**\n     * Events namespace\n     * @type {String}\n     * @private\n     */\n    var _ns = '.actionBarHook';\n\n    /**\n     * We need to access the root document to listen for some events\n     * @type {jQuery}\n     * @private\n     */\n    var $doc = $(document);\n\n    /**\n     * List of loaded and visible hooks\n     * @type {Object}\n     * @private\n     */\n    var tools = {};\n\n    /**\n     * Flag set to true when the item is loaded\n     * @type {Boolean}\n     * @private\n     */\n    var itemIsLoaded = false;\n\n    // catch the item loaded event\n    $doc.off(_ns).on('serviceloaded' + _ns, function() {\n        itemIsLoaded = true;\n        _.forEach(tools, function(tool) {\n            triggerItemLoaded(tool);\n        });\n    });\n\n    /**\n     * Check that the toolConfig is correct\n     *\n     * @param {Object} toolconfig\n     * @param {String} toolconfig.hook - the amd module to be loaded to initialize the button\n     * @param {String} [toolconfig.label] - the label to be displayed in the button\n     * @param {String} [toolconfig.icon] - the icon to be displayed in the button\n     * @param {String} [toolconfig.title] - the title to be displayed in the button\n     * @param {Array} [toolconfig.items] - an optional list of menu items\n     * @returns {Boolean}\n     */\n    function isValidConfig(toolconfig) {\n        return !!(_.isObject(toolconfig) && toolconfig.hook);\n    }\n\n    /**\n     * Triggers the itemLoaded event inside the provided actionBar hook\n     * @param {Object} tool\n     */\n    function triggerItemLoaded(tool) {\n        if (tool && tool.itemLoaded) {\n            tool.itemLoaded();\n        }\n    }\n\n    /**\n     * Init a test runner button from its config\n     *\n     * @param {String} id\n     * @param {Object|String} toolconfig\n     * @param {String} toolconfig.hook - the amd module to be loaded to initialize the button\n     * @param {String} [toolconfig.label] - the label to be displayed in the button\n     * @param {String} [toolconfig.icon] - the icon to be displayed in the button\n     * @param {String} [toolconfig.title] - the title to be displayed in the button\n     * @param {Array} [toolconfig.items] - an optional list of menu items\n     * @param {Object} testContext - the complete state of the test\n     * @param {Object} testRunner - the test runner instance\n     * @fires ready.actionBarHook when the hook has been initialized\n     * @returns {Promise}\n     */\n    function initQtiTool($toolsContainer, id, toolconfig, testContext, testRunner) {\n\n        // the tool is always initialized before the item is loaded, so we can safely false the flag\n        itemIsLoaded = false;\n        tools[id] = null;\n\n        if (_.isString(toolconfig)) {\n            toolconfig = {\n                hook: toolconfig\n            };\n        }\n\n        return new Promise(function(resolve) {\n            if (isValidConfig(toolconfig)) {\n\n                require([toolconfig.hook], function (hook) {\n\n                    var $button;\n                    var $existingBtn;\n\n                    if (isValidHook(hook)) {\n                        //init the control\n                        hook.init(id, toolconfig, testContext, testRunner);\n\n                        //if an instance of the tool is already attached, remove it:\n                        $existingBtn = $toolsContainer.children('[data-control=\"' + id + '\"]');\n                        if ($existingBtn.length) {\n                            hook.clear($existingBtn);\n                            $existingBtn.remove();\n                        }\n\n                        //check if the tool is to be available\n                        if (hook.isVisible()) {\n                            //keep access to the tool\n                            tools[id] = hook;\n\n                            // renders the button from the config\n                            $button = hook.render();\n\n                            //only attach the button to the dom when everything is ready\n                            _appendInOrder($toolsContainer, $button);\n\n                            //ready !\n                            $button.trigger('ready' + _ns, [hook]);\n\n                            //fires the itemLoaded event if the item has already been loaded\n                            if (itemIsLoaded) {\n                                triggerItemLoaded(hook);\n                            }\n                        }\n\n                        resolve(hook);\n                    } else {\n                        errorHandler.throw(_ns, 'invalid hook format');\n                        resolve(null);\n                    }\n\n                }, function (e) {\n                    errorHandler.throw(_ns, 'the hook amd module cannot be found');\n                    resolve(null);\n                });\n\n            } else {\n                errorHandler.throw(_ns, 'invalid tool config format');\n                resolve(null);\n            }\n        });\n    }\n\n    /**\n     * Append a dom element $button to a $container in a specific order\n     * The orders are provided by data-order attribute set to the $button\n     *\n     * @param {JQuery} $container\n     * @param {JQuery} $button\n     */\n    function _appendInOrder($container, $button) {\n\n        var $after, $before;\n        var order = $button.data('order');\n\n        if ('last' === order) {\n\n            $container.append($button);\n\n        } else if ('first' === order) {\n\n            $container.prepend($button);\n\n        } else {\n\n            order = _.parseInt(order);\n            if (!_.isNaN(order)) {\n\n                $container.children('.action').each(function () {\n\n                    var $btn = $(this),\n                        _order = $btn.data('order');\n\n                    if ('last' === _order) {\n\n                        $before = $btn;\n                        $after = null;\n\n                    } else if ('first' === _order) {\n\n                        $before = null;\n                        $after = $btn;\n\n                    } else {\n\n                        _order = _.parseInt(_order);\n\n                        if (_.isNaN(_order) || _order > order) {\n                            $before = $btn;\n                            $after = null;\n                            //stops here because $container children returns the dom elements in the dom order\n                            return false;\n                        } else if (_order === order) {\n                            $after = $btn;\n                        } else if (_order < order) {\n                            $after = $btn;\n                            $before = null;\n                        }\n\n                    }\n\n                });\n\n                if ($after) {\n                    $after.after($button);\n                } else if ($before) {\n                    $before.before($button);\n                } else {\n                    $container.append($button);\n                }\n\n            } else {\n                //unordered buttons are append at the end (including when order equals 0)\n                $container.append($button);\n            }\n        }\n    }\n\n    /**\n     * Check if the hook object is valid\n     *\n     * @param {Object} hook\n     * @param {Function} hook.init\n     * @param {Function} hook.clear\n     * @param {Function} hook.isVisible\n     * @returns {Boolean}\n     */\n    function isValidHook(hook) {\n        return (_.isObject(hook) && _(['init', 'render', 'clear', 'isVisible']).reduce(function (result, method) {\n            return result && _.isFunction(hook[method]);\n        }, true));\n    }\n\n    return {\n        isValid: isValidConfig,\n        initQtiTool: initQtiTool\n    };\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sbastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoQtiTest/testRunner/actionBarTools',[\n    'jquery',\n    'lodash',\n    'core/eventifier',\n    'core/promise',\n    'taoQtiTest/testRunner/actionBarHook'\n], function ($, _, eventifier, Promise, actionBarHook) {\n    'use strict';\n\n    /**\n     * The list of registered actionBar tools\n     * @type {Object}\n     */\n    var registeredQtiTools;\n\n    /**\n     * The list of actionBar tools instances\n     * @type {Object}\n     */\n    var qtiTools;\n\n    /**\n     * Manages the actionBar tools\n     * @type {Object}\n     */\n    var actionBarTools = {\n        /**\n         * Registers the actionBar tools\n         * @param {Object} tools\n         */\n        register : function register(tools) {\n            var registerTools = tools || {};\n\n            /**\n             * @event actionBarTools#beforeregister\n             * @param {Object} tools\n             * @param {actionBarTools} this\n             */\n            this.trigger('beforeregister', registerTools, this);\n\n            registeredQtiTools = registerTools;\n\n            /**\n             * @event actionBarTools#afterregister\n             * @param {Object} tools\n             * @param {actionBarTools} this\n             */\n            this.trigger('afterregister', registerTools, this);\n        },\n\n        /**\n         * Gets the list of registered tools\n         * @returns {Object}\n         */\n        getRegisteredTools : function getRegisteredTools() {\n            return registeredQtiTools || {};\n        },\n\n        /**\n         * Gets a particular tool config\n         * @param {String} id\n         * @returns {Object}\n         */\n        getRegistered : function getRegistered(id) {\n            return registeredQtiTools && registeredQtiTools[id];\n        },\n\n        /**\n         * Checks if a particular tool is registered\n         * @param {String} id\n         * @returns {Boolean}\n         */\n        isRegistered : function isRegistered(id) {\n            return !!(registeredQtiTools && registeredQtiTools[id]);\n        },\n\n        /**\n         * Gets a particular tool\n         * @param {String} id\n         * @returns {Object}\n         */\n        get : function get(id) {\n            return qtiTools && qtiTools[id];\n        },\n\n        /**\n         * Gets the list of tools instances\n         * @returns {Array}\n         */\n        list : function list() {\n            return _.values(qtiTools || {});\n        },\n\n        /**\n         * Renders the actionBar\n         * @param {String|jQuery|HTMLElement} container - The container in which renders the tools\n         * @param {Object} testContext - The assessment test context\n         * @param {Object} testRunner - The assessment test runner\n         * @param {Function} [callback] - An optional callback fired when all tools have been rendered\n         */\n        render : function render(container, testContext, testRunner, callback) {\n            var self = this;\n            var $container = $(container);\n            var promises = [];\n\n            /**\n             * @event actionBarTools#beforerender\n             * @param {jQuery} $container\n             * @param {Object} testContext\n             * @param {Object} testRunner\n             * @param {actionBarTools} this\n             */\n            this.trigger('beforerender', $container, testContext, testRunner, this);\n\n            _.forIn(this.getRegisteredTools(), function(toolconfig, id){\n                promises.push(actionBarHook.initQtiTool($container, id, toolconfig, testContext, testRunner));\n            });\n\n            Promise.all(promises).then(function(values) {\n                var tools = [];\n                qtiTools = {};\n\n                _.forEach(values, function(tool) {\n                    if (tool) {\n                        tools.push(tool);\n                        qtiTools[tool.getId()] = tool;\n                    }\n                });\n\n                if (_.isFunction(callback)) {\n                    callback.call(self, tools, $container, testContext, testRunner, self);\n                }\n\n                /**\n                 * @event actionBarTools#afterrender\n                 * @param {Array} tools\n                 * @param {jQuery} $container\n                 * @param {Object} testContext\n                 * @param {Object} testRunner\n                 * @param {actionBarTools} this\n                 */\n                self.trigger('afterrender', tools, $container, testContext, testRunner, self);\n            });\n        }\n    };\n\n    return eventifier(actionBarTools);\n});\n\n","\ndefine('tpl!taoQtiTest/testRunner/tpl/navigator', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, self=this, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  \n  return \" masked\";\n  }\n\n  buffer += \"        <aside class=\\\"test-sidebar test-sidebar-\";\n  if (helper = helpers.region) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.region); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \" flex-container-navi qti-navigator\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.hidden), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\">\\n            <div class=\\\"qti-navigator-collapsible\\\">\\n                <span class=\\\"qti-navigator-collapse icon icon-left\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Collapse the review panel\", options) : helperMissing.call(depth0, \"__\", \"Collapse the review panel\", options)))\n    + \"\\\"></span>\\n                <span class=\\\"qti-navigator-expand icon icon-right\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Expand the review panel\", options) : helperMissing.call(depth0, \"__\", \"Expand the review panel\", options)))\n    + \"\\\"></span>\\n            </div>\\n\\n            <div class=\\\"qti-navigator-info collapsible\\\">\\n                <span class=\\\"qti-navigator-label\\\">\\n                    <span class=\\\"qti-navigator-text\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Test status\", options) : helperMissing.call(depth0, \"__\", \"Test status\", options)))\n    + \"</span>\\n                    <span class=\\\"icon-up\\\"></span>\\n                    <span class=\\\"icon-down\\\"></span>\\n                </span>\\n                <ul class=\\\"collapsible-panel plain\\\">\\n                    <li class=\\\"qti-navigator-viewed\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Viewed items\", options) : helperMissing.call(depth0, \"__\", \"Viewed items\", options)))\n    + \"\\\">\\n                        <span class=\\\"qti-navigator-label\\\">\\n                            <span class=\\\"qti-navigator-icon icon-viewed\\\"></span>\\n                            <span class=\\\"qti-navigator-text\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Viewed\", options) : helperMissing.call(depth0, \"__\", \"Viewed\", options)))\n    + \"</span>\\n                            <span class=\\\"qti-navigator-counter\\\">-/-</span>\\n                        </span>\\n                    </li>\\n                    <li class=\\\"qti-navigator-answered\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Completed items\", options) : helperMissing.call(depth0, \"__\", \"Completed items\", options)))\n    + \"\\\">\\n                        <span class=\\\"qti-navigator-label\\\">\\n                            <span class=\\\"qti-navigator-icon icon-answered\\\"></span>\\n                            <span class=\\\"qti-navigator-text\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Answered\", options) : helperMissing.call(depth0, \"__\", \"Answered\", options)))\n    + \"</span>\\n                            <span class=\\\"qti-navigator-counter\\\">-/-</span>\\n                        </span>\\n                    </li>\\n                    <li class=\\\"qti-navigator-unanswered\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Unanswered items\", options) : helperMissing.call(depth0, \"__\", \"Unanswered items\", options)))\n    + \"\\\">\\n                        <span class=\\\"qti-navigator-label\\\">\\n                            <span class=\\\"qti-navigator-icon icon-unanswered\\\"></span>\\n                            <span class=\\\"qti-navigator-text\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Unanswered\", options) : helperMissing.call(depth0, \"__\", \"Unanswered\", options)))\n    + \"</span>\\n                            <span class=\\\"qti-navigator-counter\\\">-/-</span>\\n                        </span>\\n                    </li>\\n                    <li class=\\\"qti-navigator-flagged\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Items marked for later review\", options) : helperMissing.call(depth0, \"__\", \"Items marked for later review\", options)))\n    + \"\\\">\\n                        <span class=\\\"qti-navigator-label\\\">\\n                            <span class=\\\"qti-navigator-icon icon-flagged\\\"></span>\\n                            <span class=\\\"qti-navigator-text\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Flagged\", options) : helperMissing.call(depth0, \"__\", \"Flagged\", options)))\n    + \"</span>\\n                            <span class=\\\"qti-navigator-counter\\\">-/-</span>\\n                        </span>\\n                    </li>\\n                </ul>\\n            </div>\\n\\n            <div class=\\\"qti-navigator-filters\\\">\\n                <ul class=\\\"plain clearfix\\\">\\n                    <li class=\\\"qti-navigator-filter active\\\" data-mode=\\\"all\\\">\\n                        <span title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Reset filters\", options) : helperMissing.call(depth0, \"__\", \"Reset filters\", options)))\n    + \"\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"All\", options) : helperMissing.call(depth0, \"__\", \"All\", options)))\n    + \"</span>\\n                    </li>\\n                    <li class=\\\"qti-navigator-filter\\\" data-mode=\\\"unanswered\\\">\\n                        <span class=\\\"icon-unanswered\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Only display the unanswered items\", options) : helperMissing.call(depth0, \"__\", \"Only display the unanswered items\", options)))\n    + \"\\\"></span>\\n                    </li>\\n                    <li class=\\\"qti-navigator-filter\\\" data-mode=\\\"flagged\\\">\\n                        <span class=\\\"icon-flagged\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Only display the items marked for review\", options) : helperMissing.call(depth0, \"__\", \"Only display the items marked for review\", options)))\n    + \"\\\"></span>\\n                    </li>\\n                </ul>\\n            </div>\\n\\n            <nav class=\\\"qti-navigator-tree\\\">\\n            </nav>\\n\\n            <div id=\\\"qti-navigator-linear\\\" class=\\\"qti-navigator-linear\\\">\\n                <span class=\\\"icon icon-info\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"In this part of the test navigation is not allowed.\", options) : helperMissing.call(depth0, \"__\", \"In this part of the test navigation is not allowed.\", options)))\n    + \"\\\"></span>\\n                <p class=\\\"qti-navigator-message\\\">\\n                    \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"In this part of the test navigation is not allowed.\", options) : helperMissing.call(depth0, \"__\", \"In this part of the test navigation is not allowed.\", options)))\n    + \"\\n                </p>\\n            </div>\\n        </aside>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/testRunner/tpl/navigatorTree', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, self=this, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                    <li class=\\\"qti-navigator-part collapsible \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.active), {hash:{},inverse:self.program(4, program4, data),fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" data-id=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                        <span class=\\\"qti-navigator-label\\\" title=\\\"\";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                            <span class=\\\"qti-navigator-text\\\">\";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n                            <span class=\\\"icon-up\\\"></span>\\n                            <span class=\\\"icon-down\\\"></span>\\n                        </span>\\n                        \";\n  stack1 = helpers['if'].call(depth0, ((stack1 = (depth0 && depth0.sections)),stack1 == null || stack1 === false ? stack1 : stack1.length), {hash:{},inverse:self.program(29, program29, data),fn:self.program(6, program6, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                    </li>\\n                    \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  \n  return \"active\";\n  }\n\nfunction program4(depth0,data) {\n  \n  \n  return \"collapsed\";\n  }\n\nfunction program6(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n                        <ul class=\\\"qti-navigator-sections collapsible-panel plain\\\">\\n                            \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.sections), {hash:{},inverse:self.noop,fn:self.program(7, program7, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                        </ul>\\n                        \";\n  return buffer;\n  }\nfunction program7(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                            <li class=\\\"qti-navigator-section collapsible \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.active), {hash:{},inverse:self.program(4, program4, data),fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" data-id=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                                <span class=\\\"qti-navigator-label\\\" title=\\\"\";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                                    <span class=\\\"qti-navigator-text\\\">\";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n                                    <span class=\\\"qti-navigator-counter\\\">\";\n  if (helper = helpers.answered) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.answered); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"/\"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.items)),stack1 == null || stack1 === false ? stack1 : stack1.length)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</span>\\n                                </span>\\n                                <ul class=\\\"qti-navigator-items collapsible-panel plain\\\">\\n                                    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.items), {hash:{},inverse:self.noop,fn:self.program(8, program8, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                                </ul>\\n                            </li>\\n                            \";\n  return buffer;\n  }\nfunction program8(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                                    <li class=\\\"qti-navigator-item\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.active), {hash:{},inverse:self.noop,fn:self.program(9, program9, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.flagged), {hash:{},inverse:self.noop,fn:self.program(11, program11, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.answered), {hash:{},inverse:self.noop,fn:self.program(13, program13, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.viewed), {hash:{},inverse:self.program(17, program17, data),fn:self.program(15, program15, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" data-id=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" data-position=\\\"\";\n  if (helper = helpers.position) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.position); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                                        <span class=\\\"qti-navigator-label truncate\\\" title=\\\"\";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                                            <span class=\\\"qti-navigator-icon icon-\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.flagged), {hash:{},inverse:self.program(21, program21, data),fn:self.program(19, program19, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\"></span>\\n                                            \";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n                                        </span>\\n                                    </li>\\n                                    \";\n  return buffer;\n  }\nfunction program9(depth0,data) {\n  \n  \n  return \" active\";\n  }\n\nfunction program11(depth0,data) {\n  \n  \n  return \" flagged\";\n  }\n\nfunction program13(depth0,data) {\n  \n  \n  return \" answered\";\n  }\n\nfunction program15(depth0,data) {\n  \n  \n  return \" viewed\";\n  }\n\nfunction program17(depth0,data) {\n  \n  \n  return \" unseen\";\n  }\n\nfunction program19(depth0,data) {\n  \n  \n  return \"flagged\";\n  }\n\nfunction program21(depth0,data) {\n  \n  var stack1;\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.answered), {hash:{},inverse:self.program(24, program24, data),fn:self.program(22, program22, data),data:data});\n  if(stack1 || stack1 === 0) { return stack1; }\n  else { return ''; }\n  }\nfunction program22(depth0,data) {\n  \n  \n  return \"answered\";\n  }\n\nfunction program24(depth0,data) {\n  \n  var stack1;\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.viewed), {hash:{},inverse:self.program(27, program27, data),fn:self.program(25, program25, data),data:data});\n  if(stack1 || stack1 === 0) { return stack1; }\n  else { return ''; }\n  }\nfunction program25(depth0,data) {\n  \n  \n  return \"viewed\";\n  }\n\nfunction program27(depth0,data) {\n  \n  \n  return \"unseen\";\n  }\n\nfunction program29(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n                        <div class=\\\"qti-navigator-linear-part collapsible-panel\\\">\\n                            <span class=\\\"icon icon-info\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"In this part of the test navigation is not allowed.\", options) : helperMissing.call(depth0, \"__\", \"In this part of the test navigation is not allowed.\", options)))\n    + \"\\\"></span>\\n                            <p class=\\\"qti-navigator-message\\\">\\n                                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"In this part of the test navigation is not allowed.\", options) : helperMissing.call(depth0, \"__\", \"In this part of the test navigation is not allowed.\", options)))\n    + \"\\n                            </p>\\n                            <p class=\\\"qti-navigator-actions\\\">\\n                                <button class=\\\"btn-info small\\\" data-id=\\\"\";\n  if (helper = helpers.itemId) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.itemId); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" data-position=\\\"\";\n  if (helper = helpers.position) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.position); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Start Test-part\", options) : helperMissing.call(depth0, \"__\", \"Start Test-part\", options)))\n    + \"\\\">\\n                                    <span class=\\\"qti-navigator-text\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Start Test-part\", options) : helperMissing.call(depth0, \"__\", \"Start Test-part\", options)))\n    + \"</span>\\n                                    <span class=\\\"icon-play r\\\"></span>\\n                                </button>\\n                            </p>\\n                        </div>\\n                        \";\n  return buffer;\n  }\n\n  buffer += \"                <ul class=\\\"qti-navigator-parts plain\\\">\\n                    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.parts), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                </ul>\\n\";\n  return buffer;\n  });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sbastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoQtiTest/testRunner/testReview',[\n    'jquery',\n    'lodash',\n    'i18n',\n    'tpl!taoQtiTest/testRunner/tpl/navigator',\n    'tpl!taoQtiTest/testRunner/tpl/navigatorTree',\n    'util/capitalize'\n], function ($, _, __, navigatorTpl, navigatorTreeTpl, capitalize) {\n    'use strict';\n\n    /**\n     * List of CSS classes\n     * @type {Object}\n     * @private\n     */\n    var _cssCls = {\n        active : 'active',\n        collapsed : 'collapsed',\n        collapsible : 'collapsible',\n        masked : 'masked',\n        disabled : 'disabled',\n        flagged : 'flagged',\n        answered : 'answered',\n        viewed : 'viewed',\n        unseen : 'unseen',\n        icon : 'qti-navigator-icon',\n        scope : {\n            test : 'scope-test',\n            testPart : 'scope-test-part',\n            testSection : 'scope-test-section'\n        }\n    };\n\n    /**\n     * List of common CSS selectors\n     * @type {Object}\n     * @private\n     */\n    var _selectors = {\n        component : '.qti-navigator',\n        filterBar : '.qti-navigator-filters',\n        tree : '.qti-navigator-tree',\n        collapseHandle : '.qti-navigator-collapsible',\n        linearState : '.qti-navigator-linear',\n        infoAnswered : '.qti-navigator-answered .qti-navigator-counter',\n        infoViewed : '.qti-navigator-viewed .qti-navigator-counter',\n        infoUnanswered : '.qti-navigator-unanswered .qti-navigator-counter',\n        infoFlagged : '.qti-navigator-flagged .qti-navigator-counter',\n        infoPanel : '.qti-navigator-info',\n        infoPanelLabels : '.qti-navigator-info > .qti-navigator-label',\n        parts : '.qti-navigator-part',\n        partLabels : '.qti-navigator-part > .qti-navigator-label',\n        sections : '.qti-navigator-section',\n        sectionLabels : '.qti-navigator-section > .qti-navigator-label',\n        items : '.qti-navigator-item',\n        itemLabels : '.qti-navigator-item > .qti-navigator-label',\n        itemIcons : '.qti-navigator-item > .qti-navigator-icon',\n        icons : '.qti-navigator-icon',\n        linearStart : '.qti-navigator-linear-part button',\n        counters : '.qti-navigator-counter',\n        actives : '.active',\n        collapsible : '.collapsible',\n        collapsiblePanels : '.collapsible-panel',\n        unseen : '.unseen',\n        answered : '.answered',\n        flagged : '.flagged',\n        notFlagged : ':not(.flagged)',\n        notAnswered : ':not(.answered)',\n        masked : '.masked'\n    };\n\n    /**\n     * Maps the filter mode to filter criteria.\n     * Each filter criteria is a CSS selector used to find and mask the items to be discarded by the filter.\n     * @type {Object}\n     * @private\n     */\n    var _filterMap = {\n        all : \"\",\n        unanswered : _selectors.answered,\n        flagged : _selectors.notFlagged,\n        answered : _selectors.notAnswered,\n        filtered : _selectors.masked\n    };\n\n    /**\n     * Maps of config options translated from the context object to the local options\n     * @type {Object}\n     * @private\n     */\n    var _optionsMap = {\n        'reviewScope' : 'reviewScope',\n        'reviewPreventsUnseen' : 'preventsUnseen',\n        'canCollapse' : 'canCollapse'\n    };\n\n    /**\n     * Maps the handled review scopes\n     * @type {Object}\n     * @private\n     */\n    var _reviewScopes = {\n        test : 'test',\n        testPart : 'testPart',\n        testSection : 'testSection'\n    };\n\n    /**\n     * Provides a test review manager\n     * @type {Object}\n     */\n    var testReview = {\n        /**\n         * Initializes the component\n         * @param {String|jQuery|HTMLElement} element The element on which install the component\n         * @param {Object} [options] A list of extra options\n         * @param {String} [options.region] The region on which put the component: left or right\n         * @param {String} [options.reviewScope] Limit the review screen to a particular scope:\n         * the whole test, the current test part or the current test section)\n         * @param {Boolean} [options.preventsUnseen] Prevents the test taker to access unseen items\n         * @returns {testReview}\n         */\n        init: function init(element, options) {\n            var initOptions = _.isObject(options) && options || {};\n            var putOnRight = 'right' === initOptions.region;\n            var insertMethod = putOnRight ? 'append' : 'prepend';\n\n            this.options = initOptions;\n            this.disabled = false;\n            this.hidden = !!initOptions.hidden;\n            this.currentFilter = 'all';\n\n            // clean the DOM if the init method is called after initialisation\n            if (this.$component) {\n                this.$component.remove();\n            }\n\n            // build the component structure and inject it into the DOM\n            this.$container = $(element);\n            insertMethod = this.$container[insertMethod];\n            if (insertMethod) {\n                insertMethod.call(this.$container, navigatorTpl({\n                    region: putOnRight ? 'right' : 'left',\n                    hidden: this.hidden\n                }));\n            } else {\n                throw new Error(\"Unable to inject the component structure into the DOM\");\n            }\n\n            // install the component behaviour\n            this._loadDOM();\n            this._initEvents();\n            this._updateDisplayOptions();\n\n            return this;\n        },\n\n        /**\n         * Links the component to the underlying DOM elements\n         * @private\n         */\n        _loadDOM: function() {\n            this.$component = this.$container.find(_selectors.component);\n\n            // access to info panel displaying counters\n            this.$infoAnswered = this.$component.find(_selectors.infoAnswered);\n            this.$infoViewed = this.$component.find(_selectors.infoViewed);\n            this.$infoUnanswered = this.$component.find(_selectors.infoUnanswered);\n            this.$infoFlagged = this.$component.find(_selectors.infoFlagged);\n\n            // access to filter switches\n            this.$filterBar = this.$component.find(_selectors.filterBar);\n            this.$filters = this.$filterBar.find('li');\n\n            // access to the tree of parts/sections/items\n            this.$tree = this.$component.find(_selectors.tree);\n\n            // access to the panel displayed when a linear part is reached\n            this.$linearState = this.$component.find(_selectors.linearState);\n        },\n\n        /**\n         * Installs the event handlers on the underlying DOM elements\n         * @private\n         */\n        _initEvents: function() {\n            var self = this;\n\n            // click on the collapse handle: collapse/expand the review panel\n            this.$component.on('click' + _selectors.component, _selectors.collapseHandle, function() {\n                if (self.disabled) {\n                    return;\n                }\n\n                self.$component.toggleClass(_cssCls.collapsed);\n                if (self.$component.hasClass(_cssCls.collapsed)) {\n                    self._openSelected();\n                }\n            });\n\n            // click on the info panel title: toggle the related panel\n            this.$component.on('click' + _selectors.component, _selectors.infoPanelLabels, function() {\n                if (self.disabled) {\n                    return;\n                }\n\n                var $panel = $(this).closest(_selectors.infoPanel);\n                self._togglePanel($panel, _selectors.infoPanel);\n            });\n\n            // click on a part title: toggle the related panel\n            this.$tree.on('click' + _selectors.component, _selectors.partLabels, function() {\n                if (self.disabled) {\n                    return;\n                }\n\n                var $panel = $(this).closest(_selectors.parts);\n                var open = self._togglePanel($panel, _selectors.parts);\n\n                if (open) {\n                    if ($panel.hasClass(_cssCls.active)) {\n                        self._openSelected();\n                    } else {\n                        self._openOnly($panel.find(_selectors.sections).first(), $panel);\n                    }\n                }\n            });\n\n            // click on a section title: toggle the related panel\n            this.$tree.on('click' + _selectors.component, _selectors.sectionLabels, function() {\n                if (self.disabled) {\n                    return;\n                }\n\n                var $panel = $(this).closest(_selectors.sections);\n\n                self._togglePanel($panel, _selectors.sections);\n            });\n\n            // click on an item: jump to the position\n            this.$tree.on('click' + _selectors.component, _selectors.itemLabels, function(event) {\n                if (self.disabled) {\n                    return;\n                }\n\n                var $item = $(this).closest(_selectors.items);\n                var $target;\n\n                if (!$item.hasClass(_cssCls.disabled)) {\n                    $target = $(event.target);\n                    if ($target.is(_selectors.icons) && !self.$component.hasClass(_cssCls.collapsed)) {\n                        if (!$item.hasClass(_cssCls.unseen)) {\n                            self._mark($item);\n                        }\n                    } else {\n                        self._select($item);\n                        self._jump($item);\n                    }\n                }\n            });\n\n            // click on the start button inside a linear part: jump to the position\n            this.$tree.on('click' + _selectors.component, _selectors.linearStart, function() {\n                if (self.disabled) {\n                    return;\n                }\n\n                var $btn = $(this);\n\n                if (!$btn.hasClass(_cssCls.disabled)) {\n                    $btn.addClass(_cssCls.disabled);\n                    self._jump($btn);\n                }\n            });\n\n            // click on a filter button\n            this.$filterBar.on('click' + _selectors.component, 'li', function() {\n                if (self.disabled) {\n                    return;\n                }\n\n                var $btn = $(this);\n                var mode = $btn.data('mode');\n\n                self.$filters.removeClass(_cssCls.active);\n                self.$component.removeClass(_cssCls.collapsed);\n                $btn.addClass(_cssCls.active);\n\n                self._filter(mode);\n            });\n        },\n\n        /**\n         * Filters the items by a criteria\n         * @param {String} criteria\n         * @private\n         */\n        _filter: function(criteria) {\n            var $items = this.$tree.find(_selectors.items).removeClass(_cssCls.masked);\n            var filter = _filterMap[criteria];\n            if (filter) {\n                $items.filter(filter).addClass(_cssCls.masked);\n            }\n            this._updateSectionCounters(!!filter);\n            this.currentFilter = criteria;\n        },\n\n        /**\n         * Selects an item\n         * @param {String|jQuery} position The item's position\n         * @param {Boolean} [open] Forces the tree to be opened on the selected item\n         * @returns {jQuery} Returns the selected item\n         * @private\n         */\n        _select: function(position, open) {\n            // find the item to select and extract its hierarchy\n            var selected = position && position.jquery ? position : this.$tree.find('[data-position=' + position + ']');\n            var hierarchy = selected.parentsUntil(this.$tree);\n\n            // collapse the full tree and open only the hierarchy of the selected item\n            if (open) {\n                this._openOnly(hierarchy);\n            }\n\n            // select the item\n            this.$tree.find(_selectors.actives).removeClass(_cssCls.active);\n            hierarchy.add(selected).addClass(_cssCls.active);\n            return selected;\n        },\n\n        /**\n         * Opens the tree on the selected item only\n         * @returns {jQuery} Returns the selected item\n         * @private\n         */\n        _openSelected: function() {\n            // find the selected item and extract its hierarchy\n            var selected = this.$tree.find(_selectors.items + _selectors.actives);\n            var hierarchy = selected.parentsUntil(this.$tree);\n\n            // collapse the full tree and open only the hierarchy of the selected item\n            this._openOnly(hierarchy);\n\n            return selected;\n        },\n\n        /**\n         * Collapses the full tree and opens only the provided branch\n         * @param {jQuery} opened The element to be opened\n         * @param {jQuery} [root] The root element from which collapse the panels\n         * @private\n         */\n        _openOnly: function(opened, root) {\n            (root || this.$tree).find(_selectors.collapsible).addClass(_cssCls.collapsed);\n            opened.removeClass(_cssCls.collapsed);\n        },\n\n        /**\n         * Toggles a panel\n         * @param {jQuery} panel The panel to toggle\n         * @param {String} [collapseSelector] Selector of panels to collapse\n         * @returns {Boolean} Returns `true` if the panel just expanded now\n         */\n        _togglePanel: function(panel, collapseSelector) {\n            var collapsed = panel.hasClass(_cssCls.collapsed);\n\n            if (collapseSelector) {\n                this.$tree.find(collapseSelector).addClass(_cssCls.collapsed);\n            }\n\n            if (collapsed) {\n                panel.removeClass(_cssCls.collapsed);\n            } else {\n                panel.addClass(_cssCls.collapsed);\n            }\n            return collapsed;\n        },\n\n        /**\n         * Sets the icon of a particular item\n         * @param {jQuery} $item\n         * @param {String} icon\n         * @private\n         */\n        _setItemIcon: function($item, icon) {\n            $item.find(_selectors.icons).attr('class', _cssCls.icon + ' icon-' + icon);\n        },\n\n        /**\n         * Sets the icon of a particular item according to its state\n         * @param {jQuery} $item\n         * @private\n         */\n        _adjustItemIcon: function($item) {\n            var icon = null;\n            var defaultIcon = _cssCls.unseen;\n            var iconCls = [\n                _cssCls.flagged,\n                _cssCls.answered,\n                _cssCls.viewed\n            ];\n\n            _.forEach(iconCls, function(cls) {\n                if ($item.hasClass(cls)) {\n                    icon = cls;\n                    return false;\n                }\n            });\n\n            this._setItemIcon($item, icon || defaultIcon);\n        },\n\n        /**\n         * Toggle the marked state of an item\n         * @param {jQuery} $item\n         * @param {Boolean} [flag]\n         * @private\n         */\n        _toggleFlag: function($item, flag) {\n            $item.toggleClass(_cssCls.flagged, flag);\n            this._adjustItemIcon($item);\n        },\n\n        /**\n         * Marks an item for later review\n         * @param {jQuery} $item\n         * @private\n         */\n        _mark: function($item) {\n            var itemId = $item.data('id');\n            var itemPosition = $item.data('position');\n            var flag = !$item.hasClass(_cssCls.flagged);\n\n            this._toggleFlag($item);\n\n            /**\n             * A storage of the flag is required\n             * @event testReview#mark\n             * @param {Boolean} flag - Tells whether the item is marked for review or not\n             * @param {Number} position - The item position on which jump\n             * @param {String} itemId - The identifier of the target item\n             * @param {testReview} testReview - The client testReview component\n             */\n            this.trigger('mark', [flag, itemPosition, itemId]);\n        },\n\n        /**\n         * Jumps to an item\n         * @param {jQuery} $item\n         * @private\n         */\n        _jump: function($item) {\n            var itemId = $item.data('id');\n            var itemPosition = $item.data('position');\n\n            /**\n             * A jump to a particular item is required\n             * @event testReview#jump\n             * @param {Number} position - The item position on which jump\n             * @param {String} itemId - The identifier of the target item\n             * @param {testReview} testReview - The client testReview component\n             */\n            this.trigger('jump', [itemPosition, itemId]);\n        },\n\n        /**\n         * Updates the sections related items counters\n         * @param {Boolean} filtered\n         */\n        _updateSectionCounters: function(filtered) {\n            var self = this;\n            var filter = _filterMap[filtered ? 'filtered' : 'answered'];\n            this.$tree.find(_selectors.sections).each(function() {\n                var $section = $(this);\n                var $items = $section.find(_selectors.items);\n                var $filtered = $items.filter(filter);\n                var total = $items.length;\n                var nb = total - $filtered.length;\n                self._writeCount($section.find(_selectors.counters), nb, total);\n            });\n        },\n\n        /**\n         * Updates the display according to options\n         * @private\n         */\n        _updateDisplayOptions: function() {\n            var reviewScope = _reviewScopes[this.options.reviewScope] || 'test';\n            var scopeClass = _cssCls.scope[reviewScope];\n            var $root = this.$component;\n            _.forEach(_cssCls.scope, function(cls) {\n                $root.removeClass(cls);\n            });\n            if (scopeClass) {\n                $root.addClass(scopeClass);\n            }\n            $root.toggleClass(_cssCls.collapsible, this.options.canCollapse);\n        },\n\n        /**\n         * Updates the local options from the provided context\n         * @param {Object} testContext The progression context\n         * @private\n         */\n        _updateOptions: function(testContext) {\n            var options = this.options;\n            _.forEach(_optionsMap, function(optionKey, contextKey) {\n                if (undefined !== testContext[contextKey]) {\n                    options[optionKey] = testContext[contextKey];\n                }\n            });\n        },\n\n        /**\n         * Updates the info panel\n         */\n        _updateInfos: function() {\n            var progression = this.progression,\n                unanswered = Number(progression.total) - Number(progression.answered);\n\n            // update the info panel\n            this._writeCount(this.$infoAnswered, progression.answered, progression.total);\n            this._writeCount(this.$infoUnanswered, unanswered, progression.total);\n            this._writeCount(this.$infoViewed, progression.viewed, progression.total);\n            this._writeCount(this.$infoFlagged, progression.flagged, progression.total);\n        },\n\n        /**\n         * Updates a counter\n         * @param {jQuery} $place\n         * @param {Number} count\n         * @param {Number} total\n         * @private\n         */\n        _writeCount: function($place, count, total) {\n            $place.text(count + '/' + total);\n        },\n\n        /**\n         * Gets the progression stats for the whole test\n         * @param {Object} testContext The progression context\n         * @returns {{total: (Number), answered: (Number), viewed: (Number), flagged: (Number)}}\n         * @private\n         */\n        _getProgressionOfTest: function(testContext) {\n            return {\n                total : testContext.numberItems || 0,\n                answered : testContext.numberCompleted || 0,\n                viewed : testContext.numberPresented || 0,\n                flagged : testContext.numberFlagged || 0\n            };\n        },\n\n        /**\n         * Gets the progression stats for the current test part\n         * @param {Object} testContext The progression context\n         * @returns {{total: (Number), answered: (Number), viewed: (Number), flagged: (Number)}}\n         * @private\n         */\n        _getProgressionOfTestPart: function(testContext) {\n            return {\n                total : testContext.numberItemsPart || 0,\n                answered : testContext.numberCompletedPart || 0,\n                viewed : testContext.numberPresentedPart || 0,\n                flagged : testContext.numberFlaggedPart || 0\n            };\n        },\n\n        /**\n         * Gets the progression stats for the current test section\n         * @param {Object} testContext The progression context\n         * @returns {{total: (Number), answered: (Number), viewed: (Number), flagged: (Number)}}\n         * @private\n         */\n        _getProgressionOfTestSection: function(testContext) {\n            return {\n                total : testContext.numberItemsSection || 0,\n                answered : testContext.numberCompletedSection || 0,\n                viewed : testContext.numberPresentedSection || 0,\n                flagged : testContext.numberFlaggedSection || 0\n            };\n        },\n\n        /**\n         * Updates the navigation tre\n         * @param {Object} testContext The progression context\n         */\n        _updateTree: function(testContext) {\n            var navigatorMap = testContext.navigatorMap;\n            var reviewScope = this.options.reviewScope;\n            var reviewScopePart = reviewScope === 'testPart';\n            var reviewScopeSection = reviewScope === 'testSection';\n            var _partsFilter = function(part) {\n                if (reviewScopeSection && part.sections) {\n                    part.sections = _.filter(part.sections, _partsFilter);\n                }\n                return part.active;\n            };\n\n            // rebuild the tree\n            if (navigatorMap) {\n                if (reviewScopePart || reviewScopeSection) {\n                    // display only the current section\n                    navigatorMap = _.filter(navigatorMap, _partsFilter);\n                }\n\n                this.$filterBar.show();\n                this.$linearState.hide();\n                this.$tree.html(navigatorTreeTpl({\n                    parts: navigatorMap\n                }));\n\n                if (this.options.preventsUnseen) {\n                    // disables all unseen items to prevent the test taker has access to.\n                    this.$tree.find(_selectors.unseen).addClass(_cssCls.disabled);\n                }\n            } else {\n                this.$filterBar.hide();\n                this.$linearState.show();\n                this.$tree.empty();\n            }\n\n            // apply again the current filter\n            this._filter(this.$filters.filter(_selectors.actives).data('mode'));\n        },\n\n        /**\n         * Set the marked state of an item\n         * @param {Number|String|jQuery} position\n         * @param {Boolean} flag\n         */\n        setItemFlag: function setItemFlag(position, flag) {\n            var $item = position && position.jquery ? position : this.$tree.find('[data-position=' + position + ']');\n            var progression = this.progression;\n\n            // update the item flag\n            this._toggleFlag($item, flag);\n\n            // update the info panel\n            progression.flagged = this.$tree.find(_selectors.flagged).length;\n            this._writeCount(this.$infoFlagged, progression.flagged, progression.total);\n            this._filter(this.currentFilter);\n        },\n\n        /**\n         * Update the number of flagged items in the test context\n         * @param {Object} testContext The test context\n         * @param {Number} position The position of the flagged item\n         * @param {Boolean} flag The flag state\n         */\n        updateNumberFlagged: function(testContext, position, flag) {\n            var fields = ['numberFlagged'];\n            var currentPosition = testContext.itemPosition;\n            var currentFound = false, currentSection = null, currentPart = null;\n            var itemFound = false, itemSection = null, itemPart = null;\n\n            if (testContext.navigatorMap) {\n                // find the current item and the marked item inside the navigator map\n                // check if the marked item is in the current section\n                _.forEach(testContext.navigatorMap, function(part) {\n                    _.forEach(part && part.sections, function(section) {\n                        _.forEach(section && section.items, function(item) {\n                            if (item) {\n                                if (item.position === position) {\n                                    itemPart = part;\n                                    itemSection = section;\n                                    itemFound = true;\n                                }\n                                if (item.position === currentPosition) {\n                                    currentPart = part;\n                                    currentSection = section;\n                                    currentFound = true;\n\n                                }\n                                if (itemFound && currentFound) {\n                                    return false;\n                                }\n                            }\n                        });\n\n                        if (itemFound && currentFound) {\n                            return false;\n                        }\n                    });\n\n                    if (itemFound && currentFound) {\n                        return false;\n                    }\n                });\n\n                // select the context to update\n                if (itemFound && currentPart === itemPart) {\n                    fields.push('numberFlaggedPart');\n                }\n                if (itemFound && currentSection === itemSection) {\n                    fields.push('numberFlaggedSection');\n                }\n            } else {\n                // no navigator map, the current the marked item is in the current section\n                fields.push('numberFlaggedPart');\n                fields.push('numberFlaggedSection');\n            }\n\n            _.forEach(fields, function(field) {\n                if (field in testContext) {\n                    testContext[field] += flag ? 1 : -1;\n                }\n            });\n        },\n\n        /**\n         * Get progression\n         * @param {Object} testContext The progression context\n         * @returns {object} progression\n         */\n        getProgression: function getProgression(testContext) {\n            var reviewScope = _reviewScopes[this.options.reviewScope] || 'test',\n                progressInfoMethod = '_getProgressionOf' + capitalize(reviewScope),\n                getProgression = this[progressInfoMethod] || this._getProgressionOfTest,\n                progression = getProgression && getProgression(testContext) || {};\n\n            return progression;\n        },\n\n        /**\n         * Updates the review screen\n         * @param {Object} testContext The progression context\n         * @returns {testReview}\n         */\n        update: function update(testContext) {\n            this.progression = this.getProgression(testContext);\n            this._updateOptions(testContext);\n            this._updateInfos(testContext);\n            this._updateTree(testContext);\n            this._updateDisplayOptions(testContext);\n            return this;\n        },\n\n        /**\n         * Disables the component\n         * @returns {testReview}\n         */\n        disable: function disable() {\n            this.disabled = true;\n            this.$component.addClass(_cssCls.disabled);\n            return this;\n        },\n\n        /**\n         * Enables the component\n         * @returns {testReview}\n         */\n        enable: function enable() {\n            this.disabled = false;\n            this.$component.removeClass(_cssCls.disabled);\n            return this;\n        },\n\n        /**\n         * Hides the component\n         * @returns {testReview}\n         */\n        hide: function hide() {\n            this.disabled = true;\n            this.hidden = true;\n            this.$component.addClass(_cssCls.masked);\n            return this;\n        },\n\n        /**\n         * Shows the component\n         * @returns {testReview}\n         */\n        show: function show() {\n            this.disabled = false;\n            this.hidden = false;\n            this.$component.removeClass(_cssCls.masked);\n            return this;\n        },\n\n        /**\n         * Toggles the display state of the component\n         * @param {Boolean} [show] External condition that's tells if the component must be shown or hidden\n         * @returns {testReview}\n         */\n        toggle: function toggle(show) {\n            if (undefined === show) {\n                show = this.hidden;\n            }\n\n            if (show) {\n                this.show();\n            } else {\n                this.hide();\n            }\n\n            return this;\n        },\n\n        /**\n         * Install an event handler on the underlying DOM element\n         * @param {String} eventName\n         * @returns {testReview}\n         */\n        on: function on(eventName) {\n            var dom = this.$component;\n            if (dom) {\n                dom.on.apply(dom, arguments);\n            }\n\n            return this;\n        },\n\n        /**\n         * Uninstall an event handler from the underlying DOM element\n         * @param {String} eventName\n         * @returns {testReview}\n         */\n        off: function off(eventName) {\n            var dom = this.$component;\n            if (dom) {\n                dom.off.apply(dom, arguments);\n            }\n\n            return this;\n        },\n\n        /**\n         * Triggers an event on the underlying DOM element\n         * @param {String} eventName\n         * @param {Array|Object} extraParameters\n         * @returns {testReview}\n         */\n        trigger : function trigger(eventName, extraParameters) {\n            var dom = this.$component;\n\n            if (undefined === extraParameters) {\n                extraParameters = [];\n            }\n            if (!_.isArray(extraParameters)) {\n                extraParameters = [extraParameters];\n            }\n\n            extraParameters.push(this);\n\n            if (dom) {\n                dom.trigger(eventName, extraParameters);\n            }\n\n            return this;\n        }\n    };\n\n    /**\n     * Builds an instance of testReview\n     * @param {String|jQuery|HTMLElement} element The element on which install the component\n     * @param {Object} [options] A list of extra options\n     * @param {String} [options.region] The region on which put the component: left or right\n     * @param {String} [options.reviewScope] Limit the review screen to a particular scope:\n     * the whole test, the current test part or the current test section)\n     * @param {Boolean} [options.preventsUnseen] Prevents the test taker to access unseen items\n     * @returns {testReview}\n     */\n    var testReviewFactory = function(element, options) {\n        var component = _.clone(testReview, true);\n        return component.init(element, options);\n    };\n\n    return testReviewFactory;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA;\n *\n */\n\n/**\n * Metadata to be sent to the server. Will be saved in result storage as a trace variable.\n * Usage example:\n * <pre>\n * var testMetaData = testMetaDataFactory({\n *   testServiceCallId : this.itemServiceApi.serviceCallId\n * });\n *\n * testMetaData.setData({\n *   'TEST' : {\n *      'TEST_EXIT_CODE' : 'T'\n *   },\n *   'SECTION' : {\n *      'SECTION_EXIT_CODE' : 704\n *   }\n * });\n *\n * testMetaData.addData({'ITEM' : {\n *      'ITEM_START_TIME_CLIENT' : 1443596730143,\n *      'ITEM_END_TIME_CLIENT' : 1443596731301\n *    }\n * });\n * </pre>\n *\n * Data for each service call id will be stored in local storage to be able get data\n * after reloading the page or resuming the test session.\n *\n * To clear all data related to current test_call_id used <i>clearData</i> method.\n */\ndefine('taoQtiTest/testRunner/testMetaData',[\n    'lodash'\n], function (_) {\n    'use strict';\n\n    /**\n     * @param {Object} options\n     * @param {string} options.testServiceCallId - test call id.\n     */\n     var testMetaDataFactory = function testMetaDataFactory(options) {\n        var _testServiceCallId,\n            _storageKeyPrefix = 'testMetaData_',\n            _data = {};\n\n        if (!options || options.testServiceCallId === undefined) {\n            throw new TypeError(\"testServiceCallId option is required\");\n        }\n\n        var testMetaData = {\n            SECTION_EXIT_CODE : {\n                'COMPLETED_NORMALLY': 700,\n                'QUIT': 701,\n                'COMPLETE_TIMEOUT': 703,\n                'TIMEOUT': 704,\n                'FORCE_QUIT': 705,\n                'IN_PROGRESS': 706,\n                'ERROR': 300\n            },\n            TEST_EXIT_CODE : {\n                'COMPLETE': 'C',\n                'TERMINATED': 'T',\n                'INCOMPLETE': 'IC',\n                'INCOMPLETE_QUIT': 'IQ',\n                'INACTIVE': 'IA',\n                'CANDIDATE_DISAGREED_WITH_NDA': 'DA'\n            },\n            /**\n             * Return test call id.\n             * @returns {string}- Test call id\n             */\n            getTestServiceCallId : function getTestServiceCallId () {\n                return _testServiceCallId;\n            },\n\n            /**\n             * Set test call id.\n             * @param {string} value\n             */\n            setTestServiceCallId : function setTestServiceCallId (value) {\n                _testServiceCallId = value;\n            },\n\n            /**\n             * Set meta data. Current data object will be overwritten.\n             * @param {Object} data - metadata object\n             */\n            setData : function setData(data) {\n                _data = data;\n                setLocalStorageData(JSON.stringify(_data));\n            },\n\n            /**\n             * Add data.\n             * @param {Object} data - metadata object\n             * @param {Boolean} overwrite - whether the same data should be overwritten. Default - <i>false</i>\n             */\n            addData : function addData(data, overwrite) {\n                data = _.clone(data);\n                if (overwrite === undefined) {\n                    overwrite = false;\n                }\n\n                if (overwrite) {\n                    _.merge(_data, data);\n                } else {\n                    _data = _.merge(data, _data);\n                }\n                setLocalStorageData(JSON.stringify(_data));\n            },\n\n            /**\n             * Get the saved data.\n             * The cloned object will be returned to avoid unwanted affecting of the original data.\n             * @returns {Object} - metadata object.\n             */\n            getData : function getData() {\n                return _.clone(_data);\n            },\n\n            /**\n             * Clear all data saved in current object and in local storage related to current test call id.\n             * @returns {Object} - metadata object.\n             */\n            clearData : function clearData() {\n                _data = {};\n                window.localStorage.removeItem(testMetaData.getLocalStorageKey());\n            },\n\n            getLocalStorageKey : function getLocalStorageKey () {\n                return _storageKeyPrefix + _testServiceCallId;\n            }\n        };\n\n        /**\n         * Initialize test meta data manager\n         */\n        function init() {\n            _testServiceCallId = options.testServiceCallId;\n            testMetaData.setData(getLocalStorageData());\n        }\n\n        /**\n         * Set data to local storage\n         * @param {string} val - data to be stored.\n         */\n        function setLocalStorageData(val) {\n            var currentKey = testMetaData.getLocalStorageKey();\n            try {\n                window.localStorage.setItem(currentKey, val);\n            } catch(domException) {\n                if (domException.name === 'QuotaExceededError' ||\n                    domException.name === 'NS_ERROR_DOM_QUOTA_REACHED') {\n                    var removed = 0,\n                        i = window.localStorage.length,\n                        key;\n                    while (i--) {\n                        key  = localStorage.key(i);\n                        if (/^testMetaData_.*/.test(key) && key !== currentKey) {\n                            window.localStorage.removeItem(key);\n                            removed++;\n                        }\n                    }\n                    if (removed) {\n                        setLocalStorageData(val);\n                    } else {\n                        throw domException;\n                    }\n                } else {\n                    throw domException;\n                }\n            }\n        }\n\n        /**\n         * Get data from local storage stored for current call id\n         * @returns {*} saved data or empty object\n         */\n        function getLocalStorageData() {\n            var data = window.localStorage.getItem(testMetaData.getLocalStorageKey()),\n                result = JSON.parse(data) || {};\n\n            return result;\n        }\n\n        init();\n\n        return testMetaData;\n    };\n\n    return testMetaDataFactory;\n});\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n */\ndefine('serviceApi/ServiceApi',['jquery', 'urlParser'], function($, UrlParser){\n    'use strict';\n\n    /**\n     * @constructor\n     */\n    function ServiceApi(baseUrl, parameters, serviceCallId, stateStorage, userService, paused){\n        this.baseUrl = baseUrl;\n        this.parameters = parameters;\n        this.connected = false;\n\n        this.serviceCallId = serviceCallId;\n        this.state = stateStorage;\n        this.userService = userService;\n        this.hasBeenPaused = paused;\n    }\n\n    ServiceApi.SIG_SUCCESS = 0;\n    ServiceApi.SIG_ERROR = 1;\n\n    ServiceApi.prototype.loadInto = function(frame, connected){\n        var self = this;\n        var $frame = $(frame);\n        var callUrl = this.getCallUrl();\n        var isCORSAllowed = new UrlParser(callUrl).checkCORS();\n\n        $frame.on('load', function(e){\n             //if we are  in the same domain, we add a variable\n             //to the frame window, so the frame knows it can communicate\n             //with the parent\n            $(document).on('serviceready', function(){\n                self.connect(frame, function(){\n                    $(document).off('serviceready');\n                    if(typeof connected === 'function'){\n                        connected();\n                    }\n                });\n            });\n             if(isCORSAllowed === true){\n                 frame.contentWindow.__knownParent__ = true;\n             }\n         });\n\n        $frame.attr('src', callUrl);\n    };\n\n    ServiceApi.prototype.connect = function(frame, connected){\n        if(this.connected === false && frame.contentWindow){\n            //frame.contentWindow.serviceApi = this;\n            if (typeof(frame.contentWindow.onServiceApiReady) === \"function\") {\n                frame.contentWindow.onServiceApiReady(this);\n                this.connected = true;\n                if(typeof connected === 'function'){\n                    connected();\n                }\n            }\n        }\n    };\n\n    /**\n     * Get the service call URL\n     * @returns {String} the URI\n     */\n    ServiceApi.prototype.getCallUrl = function(){\n        var params = this.parameters || {};\n        params.serviceCallId = this.serviceCallId;\n        return this.baseUrl + '?' + $.param(params);\n    };\n\n    ServiceApi.prototype.getUserPropertyValues = function(property, callback){\n    \tthis.userService.get(property, callback);\n    };\n\n    //Context\n    ServiceApi.prototype.getServiceCallId = function(){\n        return this.serviceCallId;\n    };\n\n    //Context\n    ServiceApi.prototype.getState = function(){\n        return this.state.get();\n    };\n\n    ServiceApi.prototype.setState = function(state, callback){\n        return this.state.set(state, callback);\n    };\n\n    //Context\n    ServiceApi.prototype.getHasBeenPaused = function(){\n        return this.hasBeenPaused;\n    };\n\n    ServiceApi.prototype.setHasBeenPaused = function(paused){\n        this.hasBeenPaused = paused;\n    };\n\n    // Variables\n    ServiceApi.prototype.getParameter = function(identifier){\n        if (typeof(this.parameters[identifier]) !== \"undefined\") {\n            return this.parameters[identifier];\n        } else {\n            return null;\n        }\n    };\n\n    /**\n     * Sets a callback on the finish action\n     * @param {Function} callback\n     * @returns {ServiceApi}\n     */\n    ServiceApi.prototype.onFinish = function(callback) {\n        this.onFinishCallback = callback;\n        return this;\n    };\n\n    /**\n     * Sets a callback on the kill action\n     * @param {Function} callback\n     * @returns {ServiceApi}\n     */\n    ServiceApi.prototype.onKill = function(callback) {\n        this.onKillCallback = callback;\n        return this;\n    };\n\n    /**\n     * Sets a callback on the exit action\n     * @param {Function} callback\n     * @returns {ServiceApi}\n     */\n    ServiceApi.prototype.onExit = function(callback) {\n        this.onExitCallback = callback;\n        return this;\n    };\n\n    /**\n     * @param {Function} callback - Function called if no dedicated callback is found\n     */\n    ServiceApi.prototype.kill = function(callback) {\n    \tif (typeof this.onKillCallback === 'function') {\n    \t\tthis.onKillCallback(callback);\n    \t} else {\n    \t\tcallback(0);\n    \t}\n    };\n\n    /**\n     * Exits the flow\n     * @param {Function} callback - Function called if no dedicated callback is found\n     */\n    ServiceApi.prototype.exit = function(callback) {\n    \tif (typeof this.onExitCallback === 'function') {\n    \t\tthis.onExitCallback(callback);\n    \t} else {\n    \t\tcallback(0);\n    \t}\n    };\n\n    /**\n     * Finishes the flow\n     * @param valueArray - return parameters of the service.\n     */\n    ServiceApi.prototype.finish = function(valueArray) {\n        //return execution to service caller\n        if (typeof this.onFinishCallback === 'function') {\n                this.onFinishCallback(valueArray);\n        }\n    };\n\n    return ServiceApi;\n\n});\n\n","define('serviceApi/UserInfoService',['jquery'], function($){\n    \n    function UserInfoService(requestUrl, data) {\n        this.data = data;\n        this.requestUrl = requestUrl;\n    }\n\n    UserInfoService.prototype.get = function(property, callback){\n        if (this.data.hasOwnProperty(property)) {\n            if (typeof callback === \"function\") {\n                    callback(this.data[property]);\n            }\n        } else {\n            $.ajax({\n                url : this.requestUrl,\n                data \t\t: {\n                    'property' : property\n                },\n                type        : 'post',\n                dataType\t: 'json',\n                success     : (function(service, callback) {return function(r) {\n            \t\tfor (key in r.data) {\n            \t\t\tservice.data[key] = r.data[key];\n            \t\t}\n                    if (typeof callback === \"function\") {\n                        callback(service.data[property]);\n                    }\n\n                }})(this, callback)\n                /*\t\n            \tfunction(r){\n                    if(r.success){\n                    \tconsole.log(this.data);\n                    \tthis.data[property] = r.values;\n                    \t//console.log(this.data);\n\t                    if (typeof callback === \"function\") {\n\t                        callback(this.data[property]);\n\t                    }\n                    }\n                }\n                */\n                \n                \n            });\n        }\n    };\n\n    return UserInfoService;\n});\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2013 (original work) Open Assessment Technologies SA ;\n */\ndefine('serviceApi/StateStorage',['jquery'], function($){\n    'use strict';\n    \n    function StateStorage(state, submitUrl) {\n        this.state = state;\n        this.submitUrl = submitUrl;\n    }\n\n    StateStorage.prototype.get = function(callback){\n        if (typeof callback === 'function') {\n                callback(this.state);\n        }\n        return this.state;\n    };\n\n    StateStorage.prototype.set = function(state, callback){\n\n        if (state === this.state) {\n            if (typeof callback === \"function\") {\n                    callback();\n            }\n        } else {\n            this.state = state;\n            $.ajax({\n                url : this.submitUrl,\n                data \t\t: {\n                    'state' : state\n                },\n                type        : 'post',\n                dataType\t: 'json',\n                success     : typeof callback === \"function\" ? callback : null\n            });\n        }\n    };\n\n    return StateStorage;\n});\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA;\n *\n */\n\ndefine('taoQtiTest/controller/runtime/testRunner',[\n    'jquery',\n    'lodash',\n    'i18n',\n    'module',\n    'taoQtiTest/testRunner/actionBarTools',\n    'taoQtiTest/testRunner/testReview',\n    'taoQtiTest/testRunner/progressUpdater',\n    'taoQtiTest/testRunner/testMetaData',\n    'serviceApi/ServiceApi',\n    'serviceApi/UserInfoService',\n    'serviceApi/StateStorage',\n    'iframeNotifier',\n    'mathJax',\n    'ui/feedback',\n    'ui/deleter',\n    'moment',\n    'ui/modal',\n    'ui/progressbar'\n],\nfunction (\n    $,\n    _,\n    __,\n    module,\n    actionBarTools,\n    testReview,\n    progressUpdater,\n    testMetaDataFactory,\n    ServiceApi,\n    UserInfoService,\n    StateStorage,\n    iframeNotifier,\n    MathJax,\n    feedback,\n    deleter,\n    moment,\n    modal\n) {\n\n    'use strict';\n\n    var timerIds = [],\n        currentTimes = [],\n        lastDates = [],\n        timeDiffs = [],\n        waitingTime = 0,\n        $timers,\n        $controls,\n        timerIndex,\n        testMetaData,\n        sessionStateService,\n        $doc = $(document),\n        optionNextSection = 'x-tao-option-nextSection',\n        optionNextSectionWarning = 'x-tao-option-nextSectionWarning',\n        optionReviewScreen = 'x-tao-option-reviewScreen',\n        TestRunner = {\n            // Constants\n            'TEST_STATE_INITIAL': 0,\n            'TEST_STATE_INTERACTING': 1,\n            'TEST_STATE_MODAL_FEEDBACK': 2,\n            'TEST_STATE_SUSPENDED': 3,\n            'TEST_STATE_CLOSED': 4,\n            'TEST_NAVIGATION_LINEAR': 0,\n            'TEST_NAVIGATION_NONLINEAR': 1,\n            'TEST_ITEM_STATE_INTERACTING': 1,\n\n            /**\n             * Prepare a transition to another item\n             * @param {Function} [callback]\n             */\n            beforeTransition: function (callback) {\n                // Ask the top window to start the loader.\n                iframeNotifier.parent('loading');\n\n                // Disable buttons.\n                this.disableGui();\n\n                $controls.$itemFrame.hide();\n                $controls.$rubricBlocks.hide();\n                $controls.$timerWrapper.hide();\n\n                // Wait at least waitingTime ms for a better user experience.\n                if (typeof callback === 'function') {\n                    setTimeout(callback, waitingTime);\n                }\n            },\n\n            /**\n             * Complete a transition to another item\n             */\n            afterTransition: function () {\n                this.enableGui();\n\n                //ask the top window to stop the loader\n                iframeNotifier.parent('unloading');\n                testMetaData.addData({\n                    'ITEM' : {'ITEM_START_TIME_CLIENT' : Date.now() / 1000}\n                });\n            },\n\n            /**\n             * Jumps to a particular item in the test\n             * @param {Number} position The position of the item within the test\n             */\n            jump: function(position) {\n                var self = this,\n                    action = 'jump',\n                    params = {position: position};\n                this.disableGui();\n\n                if( this.isJumpOutOfSection(position)  && this.isCurrentItemActive() && this.isTimedSection() ){\n                    this.exitTimedSection(action, params);\n                } else {\n                    this.killItemSession(function() {\n                        self.actionCall(action, params);\n                    });\n                }\n            },\n\n            /**\n             * Push to server how long user seen that item before to track duration\n             * @param {Number} duration\n             */\n            keepItemTimed: function(duration){\n                if (duration) {\n                    var self = this,\n                        action = 'keepItemTimed',\n                        params = {duration: duration};\n                    self.actionCall(action, params);\n                }\n            },\n\n            /**\n             * Marks an item for later review\n             * @param {Boolean} flag The state of the flag\n             * @param {Number} position The position of the item within the test\n             */\n            markForReview: function(flag, position) {\n                var self = this;\n\n                // Ask the top window to start the loader.\n                iframeNotifier.parent('loading');\n\n                // Disable buttons.\n                this.disableGui();\n\n                $.ajax({\n                    url: self.testContext.markForReviewUrl,\n                    cache: false,\n                    async: true,\n                    type: 'POST',\n                    dataType: 'json',\n                    data: {\n                        flag: flag,\n                        position: position\n                    },\n                    success: function(data) {\n                        // update the item flagged state\n                        if (self.testReview) {\n                            self.testReview.setItemFlag(position, flag);\n                            self.testReview.updateNumberFlagged(self.testContext, position, flag);\n                            if (self.testContext.itemPosition === position) {\n                                self.testContext.itemFlagged = flag;\n                            }\n                            self.updateTools(self.testContext);\n                        }\n\n                        // Enable buttons.\n                        self.enableGui();\n\n                        //ask the top window to stop the loader\n                        iframeNotifier.parent('unloading');\n                    }\n                });\n            },\n\n            /**\n             * Move to the next available item\n             */\n            moveForward: function () {\n                var self = this,\n                    action = 'moveForward';\n\n                this.disableGui();\n\n                if( (( this.testContext.numberItemsSection - this.testContext.itemPositionSection - 1) == 0) && this.isCurrentItemActive()){\n                    if( this.isTimedSection() && !this.testContext.isTimeout){\n                        this.exitTimedSection(action);\n                    } else {\n                        this.exitSection(action);\n                    }\n                } else {\n                    this.killItemSession(function () {\n                        self.actionCall(action);\n                    });\n                }\n            },\n\n            /**\n             * Move to the previous available item\n             */\n            moveBackward: function () {\n                var self = this,\n                    action = 'moveBackward';\n\n                this.disableGui();\n\n                if( (this.testContext.itemPositionSection == 0) && this.isCurrentItemActive() && this.isTimedSection() ){\n                    this.exitTimedSection(action);\n                } else {\n                this.killItemSession(function () {\n                        self.actionCall(action);\n                    });\n                }\n            },\n\n            /**\n             * Checks if a position is out of the current section\n             * @param {Number} jumpPosition\n             * @returns {Boolean}\n             */\n            isJumpOutOfSection: function(jumpPosition){\n                var items = this.getCurrentSectionItems(),\n                    isJumpToOtherSection = true,\n                    isValidPosition = (jumpPosition >= 0) && ( jumpPosition < this.testContext.numberItems );\n\n                if( isValidPosition){\n                    for(var i in items ) {\n                        if (!items.hasOwnProperty(i)) {\n                            continue;\n                        }\n                        if( items[i].position == jumpPosition ){\n                            isJumpToOtherSection = false;\n                            break;\n                        }\n                    }\n                } else {\n                    isJumpToOtherSection = false;\n                }\n\n                return isJumpToOtherSection;\n            },\n\n            /**\n             * Exit from the current section. Set the exit code.de\n             * @param {String} action\n             * @param {Object} params\n             * @param {Number} [exitCode]\n             */\n            exitSection: function(action, params, exitCode){\n                var self = this;\n                testMetaData.addData({\"SECTION\" : {\"SECTION_EXIT_CODE\" : exitCode || testMetaData.SECTION_EXIT_CODE.COMPLETED_NORMALLY}});\n                self.killItemSession(function () {\n                    self.actionCall(action, params);\n                });\n            },\n\n            /**\n             * Tries to exit a timed section. Display a confirm message.\n             * @param {String} action\n             * @param {Object} params\n             */\n            exitTimedSection: function(action, params){\n                var self = this;\n                var qtiRunner = this.getQtiRunner();\n\n                if (qtiRunner) {\n                    qtiRunner.updateItemApi();\n                }\n\n                this.displayExitMessage(\n                    __('After you complete the section it would be impossible to return to this section to make changes. Are you sure you want to end the section?'),\n                    function() {\n                        self.exitSection(action, params);\n                    },\n                    'testSection'\n                );\n\n                this.enableGui();\n            },\n\n            /**\n             * Tries to leave the current section and go to the next\n             */\n            nextSection: function(){\n                var self = this;\n                var qtiRunner = this.getQtiRunner();\n                var doNextSection = function() {\n                    self.exitSection('nextSection', null, testMetaData.SECTION_EXIT_CODE.QUIT);\n                };\n\n                if (qtiRunner) {\n                    qtiRunner.updateItemApi();\n                }\n\n                if (this.hasOption(optionNextSectionWarning)) {\n                    this.displayExitMessage(\n                        __('After you complete the section it would be impossible to return to this section to make changes. Are you sure you want to end the section?'),\n                        doNextSection,\n                        'testSection'\n                    );\n                } else {\n                    doNextSection();\n                }\n\n                this.enableGui();\n            },\n\n            /**\n             * Gets the current progression within a particular scope\n             * @param {String} [scope]\n             * @returns {Object}\n             */\n            getProgression: function(scope) {\n                var scopeSuffixMap = {\n                    test : '',\n                    testPart : 'Part',\n                    testSection : 'Section'\n                };\n                var scopeSuffix = scope && scopeSuffixMap[scope] || '';\n\n                return {\n                    total : this.testContext['numberItems' + scopeSuffix] || 0,\n                    answered : this.testContext['numberCompleted' + scopeSuffix] || 0,\n                    viewed : this.testContext['numberPresented' + scopeSuffix] || 0,\n                    flagged : this.testContext['numberFlagged' + scopeSuffix] || 0\n                };\n            },\n\n            /**\n             * Displays an exit message for a particular scope\n             * @param {String} message\n             * @param {Function} [action]\n             * @param {String} [scope]\n             * @returns {jQuery} Returns the message box\n             */\n            displayExitMessage: function(message, action, scope) {\n                var self = this;\n                var $confirmBox = $('.exit-modal-feedback');\n                var progression = this.getProgression(scope);\n                var unansweredCount = (progression.total - progression.answered);\n                var flaggedCount = progression.flagged;\n\n                if (unansweredCount && this.isCurrentItemAnswered()) {\n                    unansweredCount--;\n                }\n\n                if (flaggedCount && unansweredCount) {\n                    message = __('You have %s unanswered question(s) and have %s item(s) marked for review.',\n                        unansweredCount.toString(),\n                        flaggedCount.toString()\n                    ) + ' ' + message;\n                } else {\n                    if (flaggedCount) {\n                        message = __('You have %s item(s) marked for review.', flaggedCount.toString()) + ' ' + message;\n                    }\n\n                    if (unansweredCount) {\n                        message = __('You have %s unanswered question(s).', unansweredCount.toString()) + ' ' + message;\n                    }\n                }\n\n                $confirmBox.find('.message').html(message);\n                $confirmBox.modal({ width: 500 });\n\n                $confirmBox.find('.js-exit-cancel, .modal-close').off('click').on('click', function () {\n                    $confirmBox.modal('close');\n                });\n\n                $confirmBox.find('.js-exit-confirm').off('click').on('click', function () {\n                    $confirmBox.modal('close');\n                    if (_.isFunction(action)) {\n                        action.call(self);\n                    }\n                });\n\n                return $confirmBox;\n            },\n\n            /**\n             * Kill current item section and execute callback function given as first parameter.\n             * Item end execution time will be stored in metadata object to be sent to the server.\n             * @param {function} callback\n             */\n            killItemSession : function (callback) {\n                testMetaData.addData({\n                    'ITEM' : {\n                        'ITEM_END_TIME_CLIENT' : Date.now() / 1000,\n                        'ITEM_TIMEZONE' : moment().utcOffset(moment().utcOffset()).format('Z')\n                    }\n                });\n                if (typeof callback !== 'function') {\n                    callback = _.noop;\n                }\n                this.itemServiceApi.kill(callback);\n            },\n\n            /**\n             * Checks if the current item is active\n             * @returns {Boolean}\n             */\n            isCurrentItemActive: function(){\n                return (this.testContext.itemSessionState != 4);\n            },\n\n            /**\n             * Tells is the current item has been answered or not\n             * The item is considered answered when at least one response has been set to not empty {base : null}\n             *\n             * @returns {Boolean}\n             */\n            isCurrentItemAnswered: function(){\n                var answered = false;\n                _.each(this.getCurrentItemState(), function(state){\n                    if(state && _.isObject(state.response) && state.response.base !== null){\n                        answered = true;//at least one response is not null so consider the item answered\n                        return false;\n                    }\n                });\n                return answered;\n            },\n\n            /**\n             * Checks if a particular option is enabled for the current item\n             * @param {String} option\n             * @returns {Boolean}\n             */\n            hasOption: function(option) {\n                return _.indexOf(this.testContext.categories, option) >= 0;\n            },\n\n            /**\n             * Gets access to the qtiRunner instance\n             * @returns {Object}\n             */\n            getQtiRunner: function(){\n                var itemFrame = document.getElementById('qti-item');\n                var itemWindow = itemFrame && itemFrame.contentWindow;\n                var itemContainerFrame = itemWindow && itemWindow.document.getElementById('item-container');\n                var itemContainerWindow = itemContainerFrame && itemContainerFrame.contentWindow;\n                return itemContainerWindow && itemContainerWindow.qtiRunner;\n            },\n\n            /**\n             * Checks if the current section is timed\n             * @returns {Boolean}\n             */\n            isTimedSection: function(){\n                var timeConstraints = this.testContext.timeConstraints,\n                    isTimedSection = false;\n                for( var index in timeConstraints ){\n                    if(timeConstraints.hasOwnProperty(index) &&\n                        timeConstraints[index].qtiClassName === 'assessmentSection' ){\n                        isTimedSection = true;\n                    }\n                }\n\n                return isTimedSection;\n            },\n\n            /**\n             * Gets the list of items owned by the current section\n             * @returns {Array}\n             */\n            getCurrentSectionItems: function(){\n                var partId  = this.testContext.testPartId,\n                    navMap  = this.testContext.navigatorMap,\n                    sectionItems;\n\n                for( var partIndex in navMap ){\n                    if( !navMap.hasOwnProperty(partIndex)){\n                        continue;\n                    }\n                    if( navMap[partIndex].id !== partId ){\n                        continue;\n                    }\n\n                    for(var sectionIndex in navMap[partIndex].sections){\n                        if( !navMap[partIndex].sections.hasOwnProperty(sectionIndex)){\n                            continue;\n                        }\n                        if( navMap[partIndex].sections[sectionIndex].active === true ){\n                            sectionItems = navMap[partIndex].sections[sectionIndex].items;\n                            break;\n                        }\n                    }\n                }\n\n                return sectionItems;\n            },\n\n            /**\n             * Skips the current item\n             */\n            skip: function () {\n                this.disableGui();\n                this.actionCall('skip');\n            },\n\n            /**\n             * Handles the timeout state\n             */\n            timeout: function () {\n                var self = this;\n                this.disableGui();\n                this.testContext.isTimeout = true;\n                this.updateTimer();\n\n                this.killItemSession(function () {\n                    var confirmBox = $('.timeout-modal-feedback'),\n                        testContext = self.testContext,\n                        confirmBtn = confirmBox.find('.js-timeout-confirm, .modal-close');\n\n                    if (testContext.numberCompletedSection === testContext.numberItemsSection) {\n                        testMetaData.addData({\"SECTION\" : {\"SECTION_EXIT_CODE\" : testMetaData.SECTION_EXIT_CODE.COMPLETE_TIMEOUT}});\n                    } else {\n                        testMetaData.addData({\"SECTION\" : {\"SECTION_EXIT_CODE\" : testMetaData.SECTION_EXIT_CODE.TIMEOUT}});\n                    }\n\n                    self.enableGui();\n                    confirmBox.modal({width: 500});\n                    confirmBtn.off('click').on('click', function () {\n                        confirmBox.modal('close');\n                        self.actionCall('timeout');\n                    });\n                });\n            },\n\n            /**\n             * Sets the assessment test context object\n             * @param {Object} testContext\n             */\n            setTestContext: function(testContext) {\n                this.testContext = testContext;\n                this.itemServiceApi = eval(testContext.itemServiceApiCall);\n                this.itemServiceApi.setHasBeenPaused(testContext.hasBeenPaused);\n            },\n\n\n            /**\n             * Handles Metadata initialization\n             */\n            initMetadata: function (){\n                testMetaData = testMetaDataFactory({\n                    testServiceCallId: this.itemServiceApi.serviceCallId\n                });\n            },\n\n            /**\n             * Retrieve service responsible for broken session tracking\n             * @returns {*}\n             */\n            getSessionStateService: function () {\n                if (!sessionStateService) {\n                    sessionStateService = this.testContext.sessionStateService({accuracy: 1000});\n                }\n                return sessionStateService;\n            },\n\n            /**\n             * Updates the GUI\n             * @param {Object} testContext\n             */\n            update: function (testContext) {\n                var self = this;\n                $controls.$itemFrame.remove();\n\n                var $runner = $('#runner');\n                $runner.css('height', 'auto');\n\n                this.getSessionStateService().restart();\n\n                this.setTestContext(testContext);\n                this.updateContext();\n                this.updateProgress();\n                this.updateNavigation();\n                this.updateTestReview();\n                this.updateInformation();\n                this.updateRubrics();\n                this.updateTools(testContext);\n                this.updateTimer();\n                this.updateExitButton();\n                this.resetCurrentItemState();\n                this.initMetadata();\n\n                $controls.$itemFrame = $('<iframe id=\"qti-item\" frameborder=\"0\" scrollbars=\"no\"/>');\n                $controls.$itemFrame.appendTo($controls.$contentBox);\n\n                if (this.testContext.itemSessionState === this.TEST_ITEM_STATE_INTERACTING && self.testContext.isTimeout === false) {\n                    $doc.off('.testRunner').on('serviceloaded.testRunner', function () {\n                        self.afterTransition();\n                        self.adjustFrame();\n                        $controls.$itemFrame.css({visibility: 'visible'});\n                    });\n\n                    // Inject API into the frame.\n                    this.itemServiceApi.loadInto($controls.$itemFrame[0], function () {\n                        // We now rely on the 'serviceloaded' event.\n                    });\n                }\n                else {\n                    // e.g. no more attempts or timeout! Simply consider the transition is finished,\n                    // but do not load the item.\n                    self.afterTransition();\n                }\n            },\n\n            /**\n             * Displays feedback on the current state of the test\n             */\n            updateInformation: function () {\n\n                if (this.testContext.isTimeout === true) {\n                    feedback().error(__('Time limit reached for item \"%s\".', this.testContext.itemIdentifier));\n                }\n                else if (this.testContext.itemSessionState !== this.TEST_ITEM_STATE_INTERACTING) {\n                    feedback().error(__('No more attempts allowed for item \"%s\".', this.testContext.itemIdentifier));\n                }\n            },\n\n            /**\n             * Updates the displayed tools\n             * @param {Object} testContext\n             */\n            updateTools: function updateTools(testContext) {\n                var showSkip = false;\n                var showSkipEnd = false;\n                var showNextSection = !!testContext.nextSection && (this.hasOption(optionNextSection) || this.hasOption(optionNextSectionWarning));\n\n                if (this.testContext.allowSkipping === true) {\n                    if (this.testContext.isLast === false) {\n                        showSkip = true;\n                    } else {\n                        showSkipEnd = true;\n                    }\n                }\n\n                $controls.$skip.toggle(showSkip);\n                $controls.$skipEnd.toggle(showSkipEnd);\n                $controls.$nextSection.toggle(showNextSection);\n\n                actionBarTools.render('.tools-box-list', testContext, TestRunner);\n            },\n\n            /**\n             * Displays a timer\n             * @param {Object} cst\n             * @returns {*|jQuery|HTMLElement}\n             */\n            createTimer: function(cst) {\n                var $timer = $('<div>', {'class': 'qti-timer qti-timer__type-' + cst.qtiClassName }),\n                    $label = $('<div>', {'class': 'qti-timer_label truncate', text: cst.label }),\n                    $time  = $('<div>', {'class': 'qti-timer_time', text: this.formatTime(cst.seconds) });\n\n                $timer.append($label);\n                $timer.append($time);\n                return $timer;\n            },\n\n            /**\n             * Updates the timers\n             */\n            updateTimer: function () {\n                var self = this;\n                var hasTimers;\n                $controls.$timerWrapper.empty();\n\n                for (var i = 0; i < timerIds.length; i++) {\n                    clearTimeout(timerIds[i]);\n                }\n\n                timerIds = [];\n                currentTimes = [];\n                lastDates = [];\n                timeDiffs = [];\n\n                if (self.testContext.isTimeout === false &&\n                    self.testContext.itemSessionState === self.TEST_ITEM_STATE_INTERACTING) {\n\n                    hasTimers = !!this.testContext.timeConstraints.length;\n                    $controls.$topActionBar.toggleClass('has-timers', hasTimers);\n\n                    if (hasTimers) {\n\n                        // Insert QTI Timers container.\n                        // self.formatTime(cst.seconds)\n                        for (i = 0; i < this.testContext.timeConstraints.length; i++) {\n\n                            var cst = this.testContext.timeConstraints[i];\n\n                            if (cst.allowLateSubmission === false) {\n\n                                // Set up a timer for this constraint\n                                $controls.$timerWrapper.append(self.createTimer(cst));\n\n                                // Set up a timer and update it with setInterval.\n                                currentTimes[i] = cst.seconds;\n                                lastDates[i] = new Date();\n                                timeDiffs[i] = 0;\n                                timerIndex = i;\n\n                                cst.warningTime = Number.NEGATIVE_INFINITY;\n\n                                if (self.testContext.timerWarning && self.testContext.timerWarning[cst.qtiClassName]) {\n                                    cst.warningTime = parseInt(self.testContext.timerWarning[cst.qtiClassName], 10);\n                                }\n                                (function (timerIndex, cst) {\n                                    timerIds[timerIndex] = setInterval(function () {\n\n                                        timeDiffs[timerIndex] += (new Date()).getTime() - lastDates[timerIndex].getTime();\n\n                                        if (timeDiffs[timerIndex] >= 1000) {\n                                            var seconds = timeDiffs[timerIndex] / 1000;\n                                            currentTimes[timerIndex] -= seconds;\n                                            timeDiffs[timerIndex] = 0;\n                                        }\n\n                                        $timers.eq(timerIndex)\n                                            .html(self.formatTime(Math.round(currentTimes[timerIndex])));\n\n                                        if (currentTimes[timerIndex] <= 0) {\n                                            // The timer expired...\n                                            currentTimes[timerIndex] = 0;\n                                            clearInterval(timerIds[timerIndex]);\n\n                                            // Hide item to prevent any further interaction with the candidate.\n                                            $controls.$itemFrame.hide();\n                                            self.timeout();\n                                        } else {\n                                            lastDates[timerIndex] = new Date();\n                                        }\n\n                                        if (_.isFinite(cst.warningTime) && currentTimes[timerIndex] <= cst.warningTime) {\n                                            self.timeWarning(cst);\n                                        }\n\n                                    }, 1000);\n                                }(timerIndex, cst));\n                            }\n                        }\n\n                        $timers = $controls.$timerWrapper.find('.qti-timer .qti-timer_time');\n                        $controls.$timerWrapper.show();\n                    }\n                }\n            },\n\n            /**\n             * Mark appropriate timer by warning colors and show feedback message\n             *\n             * @param {object} cst - Time constraint\n             * @param {integer} cst.warningTime - Warning time in seconds.\n             * @param {integer} cst.qtiClassName - Class name of qti instance for which the timer is set (assessmentItemRef | assessmentSection | testPart).\n             * @param {integer} cst.seconds - Initial timer value.\n             * @returns {undefined}\n             */\n            timeWarning: function (cst) {\n                var message = '';\n                $controls.$timerWrapper.find('.qti-timer__type-' + cst.qtiClassName).addClass('qti-timer__warning');\n\n                // Initial time more than warning time in config\n                if (cst.seconds > cst.warningTime) {\n                    message = moment.duration(cst.warningTime, \"seconds\").humanize();\n                    feedback().warning(__(\"Warning  You have %s remaining to complete the test.\", message));\n                }\n\n                cst.warningTime = Number.NEGATIVE_INFINITY;\n            },\n\n            /**\n             * Displays or hides the rubric block\n             */\n            updateRubrics: function () {\n                $controls.$rubricBlocks.remove();\n\n                if (this.testContext.rubrics.length > 0) {\n\n                    $controls.$rubricBlocks = $('<div id=\"qti-rubrics\"/>');\n\n                    for (var i = 0; i < this.testContext.rubrics.length; i++) {\n                        $controls.$rubricBlocks.append(this.testContext.rubrics[i]);\n                    }\n\n                    // modify the <a> tags in order to be sure it\n                    // opens in another window.\n                    $controls.$rubricBlocks.find('a').bind('click keypress', function () {\n                        window.open(this.href);\n                        return false;\n                    });\n\n                    $controls.$rubricBlocks.prependTo($controls.$contentBox);\n\n                    if (MathJax) {\n                        MathJax.Hub.Queue([\"Typeset\", MathJax.Hub], $controls.$rubricBlocks[0]);\n                    }\n\n                }\n            },\n\n            /**\n             * Updates the list of navigation buttons (previous, next, skip, etc.)\n             */\n            updateNavigation: function () {\n                $controls.$exit.show();\n\n                if(this.testContext.isLast === true) {\n                    $controls.$moveForward.hide();\n                    $controls.$moveEnd.show();\n                }\n                else {\n                    $controls.$moveForward.show();\n                    $controls.$moveEnd.hide();\n                }\n                if (this.testContext.navigationMode === this.TEST_NAVIGATION_LINEAR) {\n                    // LINEAR\n                    $controls.$moveBackward.hide();\n                }\n                else {\n                    // NONLINEAR\n                    $controls.$controls.show();\n                    if(this.testContext.canMoveBackward === true) {\n                        $controls.$moveBackward.show();\n                    }\n                    else {\n                        $controls.$moveBackward.hide();\n                    }\n                }\n            },\n\n            /**\n             * Updates the test taker review screen\n             */\n            updateTestReview: function() {\n                var considerProgress = this.testContext.considerProgress === true;\n\n                if (this.testReview) {\n                    this.testReview.toggle(considerProgress && this.hasOption(optionReviewScreen));\n                    this.testReview.update(this.testContext);\n                }\n            },\n\n            /**\n             * Updates the progress bar\n             */\n            updateProgress: function () {\n                var considerProgress = this.testContext.considerProgress === true;\n\n                $controls.$progressBox.css('visibility', considerProgress ? 'visible' : 'hidden');\n\n                if (considerProgress) {\n                    this.progressUpdater.update(this.testContext);\n                }\n            },\n\n            /**\n             * Updates the test informations\n             */\n            updateContext: function () {\n\n                $controls.$title.text(this.testContext.testTitle);\n\n                // Visibility of section?\n                var sectionText = (this.testContext.isDeepestSectionVisible === true) ? (' - ' + this.testContext.sectionTitle) : '';\n\n                $controls.$position.text(sectionText);\n                $controls.$titleGroup.show();\n            },\n\n            /**\n             * Displays the right exit button\n             */\n            updateExitButton : function(){\n\n                $controls.$logout.toggleClass('hidden', !this.testContext.logoutButton);\n                $controls.$exit.toggleClass('hidden', !this.testContext.exitButton);\n            },\n\n            /**\n             * Ensures the frame has the right size\n             */\n            adjustFrame: function () {\n                var rubricHeight = $controls.$rubricBlocks.outerHeight(true) || 0;\n                var frameContentHeight;\n                var finalHeight = $(window).innerHeight() - $controls.$topActionBar.outerHeight() - $controls.$bottomActionBar.outerHeight();\n                var itemFrame = $controls.$itemFrame.get(0);\n                $controls.$contentBox.height(finalHeight);\n                if($controls.$sideBars.length){\n                    $controls.$sideBars.each(function() {\n                        var $sideBar = $(this);\n                        $sideBar.height(finalHeight - $sideBar.outerHeight() + $sideBar.height());\n                    });\n                }\n\n                if(itemFrame && itemFrame.contentWindow){\n                    frameContentHeight = $controls.$itemFrame.contents().outerHeight(true);\n\n                    if (frameContentHeight < finalHeight) {\n                        if (rubricHeight) {\n                            frameContentHeight = Math.max(frameContentHeight, finalHeight - rubricHeight);\n                        } else {\n                            frameContentHeight = finalHeight;\n                        }\n                    }\n                    if (itemFrame.contentWindow.$) {\n                        itemFrame.contentWindow.$('body').trigger('setheight', [frameContentHeight]);\n                    }\n                    $controls.$itemFrame.height(frameContentHeight);\n                }\n            },\n\n            /**\n             * Locks the GUI\n             */\n            disableGui: function () {\n                $controls.$naviButtons.addClass('disabled');\n                if (this.testReview) {\n                    this.testReview.disable();\n                }\n            },\n\n            /**\n             * Unlocks the GUI\n             */\n            enableGui: function () {\n                $controls.$naviButtons.removeClass('disabled');\n                if (this.testReview) {\n                    this.testReview.enable();\n                }\n            },\n\n            /**\n             * Hides the GUI\n             */\n            hideGui: function () {\n                $controls.$naviButtons.addClass('hidden');\n                if (this.testReview) {\n                    this.testReview.hide();\n                }\n            },\n\n            /**\n             * Shows the GUI\n             */\n            showGui: function () {\n                $controls.$naviButtons.removeClass('hidden');\n                if (this.testReview) {\n                    this.testReview.show();\n                }\n            },\n\n            /**\n             * Formats a timer\n             * @param {Number} totalSeconds\n             * @returns {String}\n             */\n            formatTime: function (totalSeconds) {\n                var sec_num = totalSeconds;\n                var hours = Math.floor(sec_num / 3600);\n                var minutes = Math.floor((sec_num - (hours * 3600)) / 60);\n                var seconds = sec_num - (hours * 3600) - (minutes * 60);\n\n                if (hours < 10) {\n                    hours = \"0\" + hours;\n                }\n                if (minutes < 10) {\n                    minutes = \"0\" + minutes;\n                }\n                if (seconds < 10) {\n                    seconds = \"0\" + seconds;\n                }\n\n                var time = hours + ':' + minutes + ':' + seconds;\n\n                return time;\n            },\n\n            /**\n             * Processes an error\n             * @param {Object} error\n             */\n            processError : function processError(error) {\n                var self = this;\n\n                // keep disabled\n                this.hideGui();\n                this.beforeTransition();\n\n                // ask the parent to display a message\n                iframeNotifier.parent('messagealert', {\n                    message : error.message,\n                    action : function() {\n                        if (testMetaData) {\n                            testMetaData.clearData();\n                        }\n                        if (error.state === self.TEST_STATE_CLOSED) {\n                            // test is closed, finish it\n                            self.serviceApi.finish();\n                        } else {\n                            // test is still open, just exit to the index\n                            self.serviceApi.exit();\n                        }\n                    }\n                });\n            },\n\n            /**\n             * Call action specified in testContext. A postfix <i>Url</i> will be added to the action name.\n             * To specify actions see {@link https://github.com/oat-sa/extension-tao-testqti/blob/master/helpers/class.TestRunnerUtils.php}\n             * @param {String} action - Action name\n             * @param {Object} [extraParams] - Additional parameters to be sent to the server\n             * @returns {undefined}\n             */\n            actionCall: function (action, extraParams) {\n                var self = this,\n                    params = {metaData: testMetaData ? testMetaData.getData() : {}};\n\n                if (extraParams) {\n                    params = _.assign(params, extraParams);\n                }\n                this.beforeTransition(function () {\n                    $.ajax({\n                        url: self.testContext[action + 'Url'],\n                        cache: false,\n                        data: params,\n                        async: true,\n                        dataType: 'json',\n                        success: function (testContext) {\n                            testMetaData.clearData();\n\n                            if (!testContext.success) {\n                                self.processError(testContext);\n                            }\n                            else if (testContext.state === self.TEST_STATE_CLOSED) {\n                                self.serviceApi.finish();\n                            }\n                            else {\n                                self.update(testContext);\n                            }\n                        }\n                    });\n                });\n            },\n\n            /**\n             * Exit from test (after confirmation). All answered questions will be submitted.\n             *\n             * @returns {undefined}\n             */\n            exit: function () {\n                var self = this;\n                testMetaData.addData({\n                    \"TEST\" : {\"TEST_EXIT_CODE\" : testMetaData.TEST_EXIT_CODE.INCOMPLETE},\n                    \"SECTION\" : {\"SECTION_EXIT_CODE\" : testMetaData.SECTION_EXIT_CODE.QUIT}\n                });\n                this.displayExitMessage(\n                    __('Are you sure you want to end the test?'),\n                    function() {\n                    self.killItemSession(function () {\n                        self.actionCall('endTestSession');\n                        testMetaData.clearData();\n                    });\n                    },\n                    this.testReview ? this.testContext.reviewScope : null\n                );\n            },\n\n            /**\n             * Set the state of the current item in the test runner\n             *\n             * @param {string} id\n             * @param {object} state\n             */\n            setCurrentItemState : function(id, state){\n                if(id){\n                    this.currentItemState[id] = state;\n                }\n            },\n\n            /**\n             * Reset the state of the current item in the test runner\n             */\n            resetCurrentItemState : function(){\n                this.currentItemState = {};\n            },\n\n            /**\n             * Get the state of the current item as stored in the test runner\n             * @returns {Object}\n             */\n            getCurrentItemState : function(){\n                return this.currentItemState;\n            }\n        };\n\n        var config = module.config();\n        if (config) {\n            actionBarTools.register(config.qtiTools);\n        }\n\n        return {\n            start: function (testContext) {\n\n                $controls = {\n                    // navigation\n                    $moveForward: $('[data-control=\"move-forward\"]'),\n                    $moveEnd: $('[data-control=\"move-end\"]'),\n                    $moveBackward: $('[data-control=\"move-backward\"]'),\n                    $nextSection: $('[data-control=\"next-section\"]'),\n                    $skip: $('[data-control=\"skip\"]'),\n                    $skipEnd: $('[data-control=\"skip-end\"]'),\n                    $exit: $(window.parent.document).find('[data-control=\"exit\"]'),\n                    $logout: $(window.parent.document).find('[data-control=\"logout\"]'),\n                    $naviButtons: $('.bottom-action-bar .action'),\n                    $skipButtons: $('.navi-box .skip'),\n                    $forwardButtons: $('.navi-box .forward'),\n\n                    // progress bar\n                    $progressBar: $('[data-control=\"progress-bar\"]'),\n                    $progressLabel: $('[data-control=\"progress-label\"]'),\n                    $progressBox: $('.progress-box'),\n\n                    // title\n                    $title:  $('[data-control=\"qti-test-title\"]'),\n                    $position:  $('[data-control=\"qti-test-position\"]'),\n\n                    // timers\n                    $timerWrapper:  $('[data-control=\"qti-timers\"]'),\n\n                    // other zones\n                    $contentPanel: $('.content-panel'),\n                    $controls: $('.qti-controls'),\n                    $itemFrame: $('#qti-item'),\n                    $rubricBlocks: $('#qti-rubrics'),\n                    $contentBox: $('#qti-content'),\n                    $sideBars: $('.test-sidebar'),\n                    $topActionBar: $('.horizontal-action-bar.top-action-bar'),\n                    $bottomActionBar: $('.horizontal-action-bar.bottom-action-bar')\n                };\n\n                // title\n                $controls.$titleGroup = $controls.$title.add($controls.$position);\n\n                $doc.ajaxError(function (event, jqxhr) {\n                    if (jqxhr.status === 403) {\n                        iframeNotifier.parent('serviceforbidden');\n                    }\n                });\n\n                window.onServiceApiReady = function onServiceApiReady(serviceApi) {\n                    TestRunner.serviceApi = serviceApi;\n\n                    if (!testContext.success) {\n                        TestRunner.processError(testContext);\n                    }\n\n                    // If the assessment test session is in CLOSED state,\n                    // we give the control to the delivery engine by calling finish.\n                    else if (testContext.state === TestRunner.TEST_STATE_CLOSED) {\n                        serviceApi.finish();\n                        testMetaData.clearData();\n                    }\n                    else {\n\n                        if (TestRunner.getSessionStateService().getDuration()) {\n                            TestRunner.setTestContext(testContext);\n                            TestRunner.initMetadata();\n\n                            TestRunner.keepItemTimed(TestRunner.getSessionStateService().getDuration());\n                            TestRunner.getSessionStateService().restart();\n                        } else {\n                            TestRunner.update(testContext);\n                        }\n                    }\n                };\n\n                TestRunner.beforeTransition();\n                TestRunner.testContext = testContext;\n\n                $controls.$skipButtons.click(function () {\n                    if (!$(this).hasClass('disabled')) {\n                        TestRunner.skip();\n                    }\n                });\n\n                $controls.$forwardButtons.click(function () {\n                    if (!$(this).hasClass('disabled')) {\n                        TestRunner.moveForward();\n                    }\n                });\n\n                $controls.$moveBackward.click(function () {\n                    if (!$(this).hasClass('disabled')) {\n                        TestRunner.moveBackward();\n                    }\n                });\n\n                $controls.$nextSection.click(function () {\n                    if (!$(this).hasClass('disabled')) {\n                        TestRunner.nextSection();\n                    }\n                });\n\n                $controls.$exit.click(function (e) {\n                    e.preventDefault();\n                    TestRunner.exit();\n                });\n\n                $(window).on('resize', _.throttle(function () {\n                    TestRunner.adjustFrame();\n                    $controls.$titleGroup.show();\n                }, 250));\n\n                $doc.on('loading', function () {\n                    iframeNotifier.parent('loading');\n                });\n\n\n                $doc.on('unloading', function () {\n                    iframeNotifier.parent('unloading');\n                });\n\n                TestRunner.progressUpdater = progressUpdater($controls.$progressBar, $controls.$progressLabel);\n\n                if (testContext.reviewScreen) {\n                    TestRunner.testReview = testReview($controls.$contentPanel, {\n                        region: testContext.reviewRegion || 'left',\n                        hidden: !TestRunner.hasOption(optionReviewScreen),\n                        reviewScope: testContext.reviewScope,\n                        preventsUnseen: !!testContext.reviewPreventsUnseen,\n                        canCollapse: !!testContext.reviewCanCollapse\n                    }).on('jump', function(event, position) {\n                        TestRunner.jump(position);\n                    }).on('mark', function(event, flag, position) {\n                        TestRunner.markForReview(flag, position);\n                    });\n                    $controls.$sideBars = $('.test-sidebar');\n                }\n\n                TestRunner.updateProgress();\n                TestRunner.updateTestReview();\n\n                iframeNotifier.parent('serviceready');\n\n\n                TestRunner.adjustFrame();\n\n                $controls.$topActionBar.add($controls.$bottomActionBar).animate({ opacity: 1 }, 600);\n\n                deleter($('#feedback-box'));\n                modal($('body'));\n\n                //listen to state change in the current item\n                $(document).on('responsechange', function(e, responseId, response){\n                    if(responseId && response){\n                        TestRunner.setCurrentItemState(responseId, {response:response});\n                    }\n                }).on('stateready', function(e, id, state){\n                    if(id && state){\n                        TestRunner.setCurrentItemState(id, state);\n                    }\n                }).on('heightchange', function(e, height) {\n                    $controls.$itemFrame.height(height);\n                });\n\n            }\n        };\n    });\n\n"]}