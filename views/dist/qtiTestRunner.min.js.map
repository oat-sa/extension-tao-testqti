{"version":3,"sources":["lib/require.js","loader/bootstrap.js","../../../taoQtiTest/views/js/runner/helpers/currentItem.js","../../../taoQtiTest/views/js/runner/helpers/map.js","../../../taoQtiTest/views/js/runner/helpers/navigation.js","../../../taoQtiTest/views/js/runner/plugins/templates/button!tpl","../../../taoQtiTest/views/js/runner/ui/toolbox/entry.js","../../../taoQtiTest/views/js/runner/ui/toolbox/templates/menu!tpl","tpl!taoQtiTest/runner/ui/toolbox/templates/menu-item","../../../taoQtiTest/views/js/runner/ui/toolbox/menu.js","../../../taoQtiTest/views/js/runner/ui/toolbox/templates/text!tpl","../../../taoQtiTest/views/js/runner/ui/toolbox/text.js","../../../taoQtiTest/views/js/runner/ui/toolbox/templates/toolbox!tpl","../../../taoQtiTest/views/js/runner/ui/toolbox/toolbox.js","../../../taoQtiItem/views/js/runner/provider/manager/picManager.js","../../../taoQtiItem/views/js/runner/provider/manager/userModules.js","../../../taoQtiItem/views/js/qtiItem/helper/pci.js","../../../taoQtiItem/views/js/qtiItem/helper/modalFeedback.js","../../../taoQtiItem/views/js/runner/provider/qti.js","../../../taoQtiItem/views/js/runner/qtiItemRunner.js","../../../taoQtiTest/views/js/runner/config/assetManager.js","../../../taoQtiTest/views/js/runner/provider/layout!tpl","../../../taoQtiTest/views/js/runner/provider/qti.js","../../../taoQtiTest/views/js/runner/proxy/loader.js","css!taoQtiTestCss/new-test-runner","../../../taoQtiTest/views/js/controller/runner/runner.js","../../../taoQtiTest/views/js/runner/config/qtiServiceConfig.js","../../../taoQtiTest/views/js/runner/helpers/stats.js","../../../taoQtiTest/views/js/runner/helpers/messages.js","../../../taoQtiTest/views/js/runner/navigator/navigator.js","css!taoQtiTestCss/plugins/key-navigation","../../../taoQtiTest/views/js/runner/plugins/content/rubricBlock/rubricBlock!tpl","../../../taoQtiTest/views/js/runner/plugins/controls/connectivity/connectivity!tpl","../../../taoQtiTest/views/js/runner/plugins/controls/progressbar/progressbar!tpl","../../../taoQtiTest/views/js/runner/plugins/controls/timer/timer!tpl","../../../taoQtiTest/views/js/runner/plugins/controls/timer/timers!tpl","../../../taoQtiTest/views/js/runner/plugins/controls/title/title!tpl","../../../taoQtiTest/views/js/runner/plugins/navigation/review/navigator!tpl","../../../taoQtiTest/views/js/runner/plugins/navigation/review/navigatorTree!tpl","../../../taoQtiTest/views/js/runner/plugins/tools/answerMasking/tpl/mask!tpl","../../../taoQtiTest/views/js/runner/plugins/tools/areaMasking/mask!tpl","../../../taoQtiTest/views/js/runner/plugins/tools/comment/comment!tpl","../../../taoQtiTest/views/js/runner/plugins/tools/documentViewer/panel!tpl","../../../taoQtiTest/views/js/runner/plugins/tools/magnifier/magnifierPanel!tpl","../../../taoQtiTest/views/js/runner/plugins/tools/textToSpeech/textToSpeech!tpl","../../../taoQtiTest/views/js/runner/plugins/tools/textToSpeech/textToSpeech!css","../../../taoQtiTest/views/js/runner/proxy/cache/actionStore.js","../../../taoQtiTest/views/js/runner/proxy/cache/assetLoader.js","../../../taoQtiTest/views/js/runner/proxy/cache/itemStore.js","../../../taoQtiTest/views/js/runner/proxy/qtiServiceProxy.js","../../../taoQtiTest/views/js/runner/proxy/cache/proxy.js","../../../../../../../../../../onLayerEnd0.js"],"names":["requirejs","require","define","global","isFunction","it","ostring","call","isArray","each","ary","func","i","length","eachReverse","hasProp","obj","prop","hasOwn","getOwn","eachProp","mixin","target","source","force","deepStringMixin","value","RegExp","bind","fn","apply","arguments","scripts","document","getElementsByTagName","defaultOnError","err","getGlobal","g","split","part","makeError","id","msg","requireModules","e","Error","requireType","originalError","newContext","contextName","trimDots","splice","normalize","name","baseName","applyMap","mapValue","nameParts","j","nameSegment","lastIndex","foundMap","foundI","foundStarMap","starI","normalizedBaseParts","baseParts","map","config","starMap","nodeIdCompat","jsSuffixRegExp","test","replace","charAt","slice","concat","join","outerLoop","pkgs","removeScript","isBrowser","scriptNode","getAttribute","context","parentNode","removeChild","hasPathFallback","pathConfig","paths","shift","undef","makeRequire","skipMap","splitPrefix","prefix","index","indexOf","substring","makeModuleMap","parentModuleMap","isNormalized","url","pluginModule","suffix","parentName","originalName","isDefine","normalizedName","requireCounter","defined","nameToUrl","unnormalizedCounter","parentMap","unnormalized","getModule","depMap","mod","registry","Module","on","defineEmitComplete","error","onError","errback","ids","notified","events","emit","req","takeGlobalQueue","globalDefQueue","apsp","defQueue","cleanRegistry","enabledRegistry","breakCycle","traced","processed","depMaps","depId","dep","depMatched","defineDep","check","checkLoaded","usingPathFallback","waitInterval","waitSeconds","expired","startTime","Date","getTime","noLoads","reqCalls","stillLoading","needCycleCheck","inCheckLoaded","modId","enabled","push","inited","fetched","isWebWorker","checkLoadedTimeoutId","setTimeout","callGetModule","args","init","removeListener","node","ieName","detachEvent","isOpera","removeEventListener","getScriptData","evt","currentTarget","srcElement","onScriptLoad","onScriptError","intakeDefines","handlers","baseUrl","bundles","shim","undefEvents","urlFetched","bundlesMap","exports","usingExports","module","uri","this","depExports","pluginMaps","depCount","prototype","factory","options","ignore","enable","fetch","callPlugin","load","enableBuildCallback","deps","enabling","cjsModule","defining","execCb","undefined","requireMap","onResourceLoad","defineEmitted","pluginMap","plugin","normalizedMap","normalizedMod","bundleId","localRequire","fromText","text","textAlt","moduleName","moduleMap","hasInteractive","useInteractive","exec","completeLoad","handler","cb","cbs","nextTick","configure","cfg","objs","v","exportsFn","makeShimExports","packages","pkgObj","location","main","currDirRegExp","callback","ret","relMap","requireMod","__requireJsBuild","get","toUrl","moduleNamePlusExt","ext","lastIndexOf","segment","isRelative","specified","found","shExports","enforceDefine","skipExt","syms","parentModule","parentPath","pkgMain","jsExtRegExp","match","urlArgs","type","readyRegExp","readyState","interactiveScript","data","getInteractiveScript","script","s","head","baseElement","dataMain","src","currentlyAddingScript","mainScript","subPath","version","commentRegExp","cjsRequireRegExp","op","Object","toString","hasOwnProperty","ap","Array","window","navigator","importScripts","platform","defContextName","opera","contexts","optional","ctx","createNode","xhtml","createElementNS","createElement","scriptType","charset","async","setAttribute","attachEvent","addEventListener","insertBefore","appendChild","skipDataMain","pop","amd","jQuery","eval","loaderScript","getElementById","configUrl","bundle","loadController","started","controllerOptions","controllerPath","params","JSON","parse","controller","startController","start","_","responseCardinalities","single","multiple","ordered","record","currentItemHelper","getDeclarations","runner","itemRunner","_item","responses","getResponseDeclaration","identifier","forEach","declaration","attributes","toResponse","baseType","cardinality","mappedCardinality","response","isString","base","isQtiValueNull","isObject","isEmpty","isQuestionAnswered","defaultValue","isEqual","isAnswered","partially","getResponses","count","empty","getEmptyStats","questions","answered","flagged","viewed","total","getJumps","jumps","getParts","parts","getSections","result","sections","section","getJump","position","getPart","partName","getSection","sectionName","getItem","itemName","jump","find","getItemAt","getTestStats","stats","getPartStats","getSectionStats","getScopeStats","scope","getScopeMap","scopeMap","cloneDeep","computeItemStats","items","computeStats","getScopeMapFromContext","testPartId","sectionId","getItemPart","getItemSection","getItemIdentifier","item","isFinite","updateItemStats","reduce","acc","informational","collection","patch","currentMap","partialMap","targetMap","self","isPlainObject","TypeError","partialPart","targetPartId","partialSection","targetSectionId","reindex","lastPartId","lastSectionId","offset","offsetPart","offsetSection","sortBy","positionInPart","positionInSection","createJumpTable","mapHelper","navigationHelper","isLeavingSection","testContext","testMap","direction","sectionStats","nbItems","itemIdentifier","isLeavingTestPart","testPart","testPartStats","isLast","isLastOf","isFirst","isFirstOf","isNumber","getSiblingItems","itemPosition","size","directions","itemId","previous","siblings","itemChain","ref","next","parseInt","link","times","getNextItem","getPreviousItem","isMovingToNextItem","action","isMovingToPreviousItem","isJumpingToItem","hb","template","Handlebars","depth0","helpers","partials","program1","stack1","helper","buffer","className","hash","functionType","escapeExpression","program3","icon","unless","inverse","noop","program","program4","program6","compilerInfo","merge","control","title","componentFactory","entryTpl","itemComponentApi","initItem","menu","getType","getId","setMenuId","menuId","getMenuId","turnOn","setState","turnOff","hoverOn","hoverOff","specs","defaults","setTemplate","is","$component","removeProp","disable","event","trigger","$","hider","stackerFactory","shortcut","namespaceHelper","menuTpl","menuItemTpl","keyCodes","ENTER","SPACE","LEFT","UP","RIGHT","DOWN","stacker","menuComponentApi","initMenu","menuItems","toggleMenu","closeMenu","openMenu","show","$menuContainer","bringToFront","$menuContent","$menuStateIcon","removeClass","addClass","enableShortcuts","hoverOffAll","hoverIndex","activeElement","blur","focus","hide","disableShortcuts","getItemById","addItem","renderItems","render","$menuItems","mouseOverItem","hoverItem","hasDisplayedItems","some","turnOffAll","current","currentKeyCode","keyCode","charCode","preventDefault","triggerHighlightedItem","stopPropagation","moveUp","moveDown","$menuButton","off","closest","itemToHover","activeItem","getElement","_defaults","menuComponent","textTpl","textComponentApi","initText","entryFactory","menuFactory","textFactory","toolboxTpl","defaultRenderer","$container","menuEntries","allItems","hasMenu","allMenus","filter","toolboxComponentApi","initToolbox","createMenu","openedMenu","createEntry","createText","$document","destroy","Element","picManager","pic","isA","_pic","getPic","getSerial","serial","getTypeIdentifier","typeIdentifier","getDom","_dom","tool","children","first","button","broken","dom","remove","disabled","appendTo","width","outerWidth","height","outerHeight","eventName","rest","unshift","picManagerCollection","getList","_list","_map","getElements","element","manager","managerFactory","picId","execute","executeAll","enablePic","disablePic","showPic","hidePic","enableAll","disableAll","showAll","hideAll","clone","Promise","userModules","resolve","reject","dependency","message","getRawValues","pciVar","values","list","pci","containerHelper","getFeedbackMessageSignature","feedback","body","attr","toLowerCase","trim","extractDisplayInfo","interaction","messageGroupId","$displayContainer","$interactionContainer","getContainer","responseIdentifier","uniqueId","interactionContainer","displayContainer","order","getInteractionsDisplayInfo","interactionsDisplayInfo","$itemContainer","interactionOrder","getComposingElements","_interactionInfo","getFeedbacks","itemSession","messages","$itemBody","renderingQueue","modalFeedbacks","feedbackIds","comparedOutcome","_currentMessageGroupId","interactionInfo","outcomeIdentifier","contains","getEncodedData","QtiLoader","QtiRenderer","modalFeedbackHelper","timeout","itemData","done","rendererOptions","assetManager","themes","_renderer","_loader","loadItemData","setRenderer","getLoadedClasses","elt","state","innerHTML","race","all","postRender","delay","then","getState","originalEvent","detail","themeName","themeLoader","getThemeLoader","change","catch","clear","invoke","getInteractions","unload","res","getResponse","renderFeedbacks","feedbacks","getRenderer","loadElements","qtiRuntimeProvider","register","assetManagerFactory","assetStrategies","assetPortableElement","defaultStrategies","external","base64","__","store","cachedStore","areaBrokerFactory","proxyFactory","probeOverseerFactory","toolboxFactory","qtiItemRunner","layoutTpl","$layout","areaBroker","content","toolbox","navigation","actionsBar","panel","header","loadAreaBroker","loadProxy","getConfig","proxyProvider","proxyConfig","pick","loadProbeOverseer","serviceCallId","now","loadPersistentStates","persistencePromise","storage","stateStorage","getPersistentState","setPersistentState","active","setPromise","setItem","install","buildTestMap","updateStats","newMap","getTestMap","setTestMap","getTestContext","states","getTestData","interacting","isUndefined","itemAnswered","getItemResults","results","itemSessionState","itemResponse","itemState","computeNext","loadPromise","submitError","code","hasFeedbacks","omit","getProxy","submitItem","displayFeedbacks","queue","callItemAction","setTestContext","unloadItem","loadItem","closed","finish","setComponent","getToolbox","reason","disableItem","callTestAction","itemDefinition","isTimeout","pause","reasons","comment","suspended","itemStates","warning","getItemLabel","label","remainingAttempts","getItemState","flush","getProbeOverseer","getIdentifier","storeId","setTestData","testData","lastStoreId","broker","getAreaBroker","renderTo","append","getToolboxArea","renderItem","changeState","setItemState","setData","getContentArea","removeStore","flushPromise","probeOverseer","proxy","traceData","entry","marker","sendVariables","stop","hasCommunicator","getCommunicator","communicator","close","providerName","registerProvider","pollProvider","loggerFactory","loadingBar","qtiProvider","proxyLoader","pluginLoaderFactory","urlUtil","requiredOptions","exitReason","logger","runnerOptions","hasOption","exit","exitUrl","build","displayMessage","stringify","every","plugins","addList","proxyProviderName","debug","defer","after","removeAllListeners","_entries","configFactory","getTestDefinition","testDefinition","getTestCompilation","testCompilation","getServiceCallId","getServiceController","bootstrap","serviceController","getServiceExtension","serviceExtension","getTestActionUrl","_url","getItemActionUrl","testServiceCallId","getTelemetryUrl","signal","getTimeout","getCommunicationConfig","communication","extension","service","interval","getInstantStats","isItemCurrentlyAnswered","statsHelper","getExitMessage","itemsCountMessage","testConfig","enableUnansweredItemsWarning","getUnansweredItemsWarning","belowSections","unansweredCount","flaggedCount","getNextSections","statsKey","currentSectionId","below","buildContextFromPosition","newSection","newTestPart","updatedMap","newItem","numberPresented","numberCompleted","sectionTitle","isLinear","canMoveBackward","numberRubrics","rubrics","timeConstraints","constraint","qtiClassName","timeConstraint","navigate","methodName","substr","toUpperCase","nextItem","previousItem","nextSection","jumpItem","helperMissing","running","program2","titles","program5","program7","program9","program11","program13","hidden","showLegend","program8","program10","cls","level","actionQueue","storeName","timestamp","parameters","actionStore","loaders","img","Image","css","querySelector","assets","assetList","isBase64","defaultConfig","maxSize","key","has","set","promiseQueue","communicatorFactory","prepareParams","actionParams","stringifyParams","mapValues","request","reqParams","contentType","noToken","runRequest","token","headers","preparedParams","tokenHandler","getTokenHandler","getToken","ajax","cache","dataType","configStorage","setToken","setOnline","success","fail","jqXHR","textStatus","errorThrown","responseText","cause","purpose","status","sent","isConnectivityError","setOffline","serie","variables","telemetry","loadCommunicator","testNavigatorFactory","qtiServiceProxy","itemStoreFactory","actionStoreFactory","assetLoader","offlineNavError","assign","offlineExitError","itemStore","actiontStore","getItemFromStore","requestConfig","getCacheAmount","cacheAmount","getDataHolder","itemCaching","amount","updateState","hasItem","hasNextItem","sibling","hasPreviousItem","offlineAction","testNavigator","newTestContext","blockingActions","storeAction","requestNetworkThenOffline","runRequestThenOffline","isOffline","isOnline","syncOfflineData","send","loadNextItem","missing","c","d","a","cssText","createTextNode"],"mappings":"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","file":"qtiTestRunner.min.js","sourcesContent":["/** vim: et:ts=4:sw=4:sts=4\n * @license RequireJS 2.1.14 Copyright (c) 2010-2014, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/jrburke/requirejs for details\n */\n//Not using strict: uneven strict support in browsers, #392, and causes\n//problems with requirejs.exec()/transpiler plugins that may not be strict.\n/*jslint regexp: true, nomen: true, sloppy: true */\n/*global window, navigator, document, importScripts, setTimeout, opera */\n\nvar requirejs, require, define;\n(function (global) {\n    var req, s, head, baseElement, dataMain, src,\n        interactiveScript, currentlyAddingScript, mainScript, subPath,\n        version = '2.1.14',\n        commentRegExp = /(\\/\\*([\\s\\S]*?)\\*\\/|([^:]|^)\\/\\/(.*)$)/mg,\n        cjsRequireRegExp = /[^.]\\s*require\\s*\\(\\s*[\"']([^'\"\\s]+)[\"']\\s*\\)/g,\n        jsSuffixRegExp = /\\.js$/,\n        currDirRegExp = /^\\.\\//,\n        op = Object.prototype,\n        ostring = op.toString,\n        hasOwn = op.hasOwnProperty,\n        ap = Array.prototype,\n        apsp = ap.splice,\n        isBrowser = !!(typeof window !== 'undefined' && typeof navigator !== 'undefined' && window.document),\n        isWebWorker = !isBrowser && typeof importScripts !== 'undefined',\n        //PS3 indicates loaded and complete, but need to wait for complete\n        //specifically. Sequence is 'loading', 'loaded', execution,\n        // then 'complete'. The UA check is unfortunate, but not sure how\n        //to feature test w/o causing perf issues.\n        readyRegExp = isBrowser && navigator.platform === 'PLAYSTATION 3' ?\n                      /^complete$/ : /^(complete|loaded)$/,\n        defContextName = '_',\n        //Oh the tragedy, detecting opera. See the usage of isOpera for reason.\n        isOpera = typeof opera !== 'undefined' && opera.toString() === '[object Opera]',\n        contexts = {},\n        cfg = {},\n        globalDefQueue = [],\n        useInteractive = false;\n\n    function isFunction(it) {\n        return ostring.call(it) === '[object Function]';\n    }\n\n    function isArray(it) {\n        return ostring.call(it) === '[object Array]';\n    }\n\n    /**\n     * Helper function for iterating over an array. If the func returns\n     * a true value, it will break out of the loop.\n     */\n    function each(ary, func) {\n        if (ary) {\n            var i;\n            for (i = 0; i < ary.length; i += 1) {\n                if (ary[i] && func(ary[i], i, ary)) {\n                    break;\n                }\n            }\n        }\n    }\n\n    /**\n     * Helper function for iterating over an array backwards. If the func\n     * returns a true value, it will break out of the loop.\n     */\n    function eachReverse(ary, func) {\n        if (ary) {\n            var i;\n            for (i = ary.length - 1; i > -1; i -= 1) {\n                if (ary[i] && func(ary[i], i, ary)) {\n                    break;\n                }\n            }\n        }\n    }\n\n    function hasProp(obj, prop) {\n        return hasOwn.call(obj, prop);\n    }\n\n    function getOwn(obj, prop) {\n        return hasProp(obj, prop) && obj[prop];\n    }\n\n    /**\n     * Cycles over properties in an object and calls a function for each\n     * property value. If the function returns a truthy value, then the\n     * iteration is stopped.\n     */\n    function eachProp(obj, func) {\n        var prop;\n        for (prop in obj) {\n            if (hasProp(obj, prop)) {\n                if (func(obj[prop], prop)) {\n                    break;\n                }\n            }\n        }\n    }\n\n    /**\n     * Simple function to mix in properties from source into target,\n     * but only if target does not already have a property of the same name.\n     */\n    function mixin(target, source, force, deepStringMixin) {\n        if (source) {\n            eachProp(source, function (value, prop) {\n                if (force || !hasProp(target, prop)) {\n                    if (deepStringMixin && typeof value === 'object' && value &&\n                        !isArray(value) && !isFunction(value) &&\n                        !(value instanceof RegExp)) {\n\n                        if (!target[prop]) {\n                            target[prop] = {};\n                        }\n                        mixin(target[prop], value, force, deepStringMixin);\n                    } else {\n                        target[prop] = value;\n                    }\n                }\n            });\n        }\n        return target;\n    }\n\n    //Similar to Function.prototype.bind, but the 'this' object is specified\n    //first, since it is easier to read/figure out what 'this' will be.\n    function bind(obj, fn) {\n        return function () {\n            return fn.apply(obj, arguments);\n        };\n    }\n\n    function scripts() {\n        return document.getElementsByTagName('script');\n    }\n\n    function defaultOnError(err) {\n        throw err;\n    }\n\n    //Allow getting a global that is expressed in\n    //dot notation, like 'a.b.c'.\n    function getGlobal(value) {\n        if (!value) {\n            return value;\n        }\n        var g = global;\n        each(value.split('.'), function (part) {\n            g = g[part];\n        });\n        return g;\n    }\n\n    /**\n     * Constructs an error with a pointer to an URL with more information.\n     * @param {String} id the error ID that maps to an ID on a web page.\n     * @param {String} message human readable error.\n     * @param {Error} [err] the original error, if there is one.\n     *\n     * @returns {Error}\n     */\n    function makeError(id, msg, err, requireModules) {\n        var e = new Error(msg + '\\nhttp://requirejs.org/docs/errors.html#' + id);\n        e.requireType = id;\n        e.requireModules = requireModules;\n        if (err) {\n            e.originalError = err;\n        }\n        return e;\n    }\n\n    if (typeof define !== 'undefined') {\n        //If a define is already in play via another AMD loader,\n        //do not overwrite.\n        return;\n    }\n\n    if (typeof requirejs !== 'undefined') {\n        if (isFunction(requirejs)) {\n            //Do not overwrite an existing requirejs instance.\n            return;\n        }\n        cfg = requirejs;\n        requirejs = undefined;\n    }\n\n    //Allow for a require config object\n    if (typeof require !== 'undefined' && !isFunction(require)) {\n        //assume it is a config object.\n        cfg = require;\n        require = undefined;\n    }\n\n    function newContext(contextName) {\n        var inCheckLoaded, Module, context, handlers,\n            checkLoadedTimeoutId,\n            config = {\n                //Defaults. Do not set a default for map\n                //config to speed up normalize(), which\n                //will run faster if there is no default.\n                waitSeconds: 7,\n                baseUrl: './',\n                paths: {},\n                bundles: {},\n                pkgs: {},\n                shim: {},\n                config: {}\n            },\n            registry = {},\n            //registry of just enabled modules, to speed\n            //cycle breaking code when lots of modules\n            //are registered, but not activated.\n            enabledRegistry = {},\n            undefEvents = {},\n            defQueue = [],\n            defined = {},\n            urlFetched = {},\n            bundlesMap = {},\n            requireCounter = 1,\n            unnormalizedCounter = 1;\n\n        /**\n         * Trims the . and .. from an array of path segments.\n         * It will keep a leading path segment if a .. will become\n         * the first path segment, to help with module name lookups,\n         * which act like paths, but can be remapped. But the end result,\n         * all paths that use this function should look normalized.\n         * NOTE: this method MODIFIES the input array.\n         * @param {Array} ary the array of path segments.\n         */\n        function trimDots(ary) {\n            var i, part;\n            for (i = 0; i < ary.length; i++) {\n                part = ary[i];\n                if (part === '.') {\n                    ary.splice(i, 1);\n                    i -= 1;\n                } else if (part === '..') {\n                    // If at the start, or previous value is still ..,\n                    // keep them so that when converted to a path it may\n                    // still work when converted to a path, even though\n                    // as an ID it is less than ideal. In larger point\n                    // releases, may be better to just kick out an error.\n                    if (i === 0 || (i == 1 && ary[2] === '..') || ary[i - 1] === '..') {\n                        continue;\n                    } else if (i > 0) {\n                        ary.splice(i - 1, 2);\n                        i -= 2;\n                    }\n                }\n            }\n        }\n\n        /**\n         * Given a relative module name, like ./something, normalize it to\n         * a real name that can be mapped to a path.\n         * @param {String} name the relative name\n         * @param {String} baseName a real name that the name arg is relative\n         * to.\n         * @param {Boolean} applyMap apply the map config to the value. Should\n         * only be done if this normalization is for a dependency ID.\n         * @returns {String} normalized name\n         */\n        function normalize(name, baseName, applyMap) {\n            var pkgMain, mapValue, nameParts, i, j, nameSegment, lastIndex,\n                foundMap, foundI, foundStarMap, starI, normalizedBaseParts,\n                baseParts = (baseName && baseName.split('/')),\n                map = config.map,\n                starMap = map && map['*'];\n\n            //Adjust any relative paths.\n            if (name) {\n                name = name.split('/');\n                lastIndex = name.length - 1;\n\n                // If wanting node ID compatibility, strip .js from end\n                // of IDs. Have to do this here, and not in nameToUrl\n                // because node allows either .js or non .js to map\n                // to same file.\n                if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {\n                    name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');\n                }\n\n                // Starts with a '.' so need the baseName\n                if (name[0].charAt(0) === '.' && baseParts) {\n                    //Convert baseName to array, and lop off the last part,\n                    //so that . matches that 'directory' and not name of the baseName's\n                    //module. For instance, baseName of 'one/two/three', maps to\n                    //'one/two/three.js', but we want the directory, 'one/two' for\n                    //this normalization.\n                    normalizedBaseParts = baseParts.slice(0, baseParts.length - 1);\n                    name = normalizedBaseParts.concat(name);\n                }\n\n                trimDots(name);\n                name = name.join('/');\n            }\n\n            //Apply map config if available.\n            if (applyMap && map && (baseParts || starMap)) {\n                nameParts = name.split('/');\n\n                outerLoop: for (i = nameParts.length; i > 0; i -= 1) {\n                    nameSegment = nameParts.slice(0, i).join('/');\n\n                    if (baseParts) {\n                        //Find the longest baseName segment match in the config.\n                        //So, do joins on the biggest to smallest lengths of baseParts.\n                        for (j = baseParts.length; j > 0; j -= 1) {\n                            mapValue = getOwn(map, baseParts.slice(0, j).join('/'));\n\n                            //baseName segment has config, find if it has one for\n                            //this name.\n                            if (mapValue) {\n                                mapValue = getOwn(mapValue, nameSegment);\n                                if (mapValue) {\n                                    //Match, update name to the new value.\n                                    foundMap = mapValue;\n                                    foundI = i;\n                                    break outerLoop;\n                                }\n                            }\n                        }\n                    }\n\n                    //Check for a star map match, but just hold on to it,\n                    //if there is a shorter segment match later in a matching\n                    //config, then favor over this star map.\n                    if (!foundStarMap && starMap && getOwn(starMap, nameSegment)) {\n                        foundStarMap = getOwn(starMap, nameSegment);\n                        starI = i;\n                    }\n                }\n\n                if (!foundMap && foundStarMap) {\n                    foundMap = foundStarMap;\n                    foundI = starI;\n                }\n\n                if (foundMap) {\n                    nameParts.splice(0, foundI, foundMap);\n                    name = nameParts.join('/');\n                }\n            }\n\n            // If the name points to a package's name, use\n            // the package main instead.\n            pkgMain = getOwn(config.pkgs, name);\n\n            return pkgMain ? pkgMain : name;\n        }\n\n        function removeScript(name) {\n            if (isBrowser) {\n                each(scripts(), function (scriptNode) {\n                    if (scriptNode.getAttribute('data-requiremodule') === name &&\n                            scriptNode.getAttribute('data-requirecontext') === context.contextName) {\n                        scriptNode.parentNode.removeChild(scriptNode);\n                        return true;\n                    }\n                });\n            }\n        }\n\n        function hasPathFallback(id) {\n            var pathConfig = getOwn(config.paths, id);\n            if (pathConfig && isArray(pathConfig) && pathConfig.length > 1) {\n                //Pop off the first array value, since it failed, and\n                //retry\n                pathConfig.shift();\n                context.require.undef(id);\n\n                //Custom require that does not do map translation, since\n                //ID is \"absolute\", already mapped/resolved.\n                context.makeRequire(null, {\n                    skipMap: true\n                })([id]);\n\n                return true;\n            }\n        }\n\n        //Turns a plugin!resource to [plugin, resource]\n        //with the plugin being undefined if the name\n        //did not have a plugin prefix.\n        function splitPrefix(name) {\n            var prefix,\n                index = name ? name.indexOf('!') : -1;\n            if (index > -1) {\n                prefix = name.substring(0, index);\n                name = name.substring(index + 1, name.length);\n            }\n            return [prefix, name];\n        }\n\n        /**\n         * Creates a module mapping that includes plugin prefix, module\n         * name, and path. If parentModuleMap is provided it will\n         * also normalize the name via require.normalize()\n         *\n         * @param {String} name the module name\n         * @param {String} [parentModuleMap] parent module map\n         * for the module name, used to resolve relative names.\n         * @param {Boolean} isNormalized: is the ID already normalized.\n         * This is true if this call is done for a define() module ID.\n         * @param {Boolean} applyMap: apply the map config to the ID.\n         * Should only be true if this map is for a dependency.\n         *\n         * @returns {Object}\n         */\n        function makeModuleMap(name, parentModuleMap, isNormalized, applyMap) {\n            var url, pluginModule, suffix, nameParts,\n                prefix = null,\n                parentName = parentModuleMap ? parentModuleMap.name : null,\n                originalName = name,\n                isDefine = true,\n                normalizedName = '';\n\n            //If no name, then it means it is a require call, generate an\n            //internal name.\n            if (!name) {\n                isDefine = false;\n                name = '_@r' + (requireCounter += 1);\n            }\n\n            nameParts = splitPrefix(name);\n            prefix = nameParts[0];\n            name = nameParts[1];\n\n            if (prefix) {\n                prefix = normalize(prefix, parentName, applyMap);\n                pluginModule = getOwn(defined, prefix);\n            }\n\n            //Account for relative paths if there is a base name.\n            if (name) {\n                if (prefix) {\n                    if (pluginModule && pluginModule.normalize) {\n                        //Plugin is loaded, use its normalize method.\n                        normalizedName = pluginModule.normalize(name, function (name) {\n                            return normalize(name, parentName, applyMap);\n                        });\n                    } else {\n                        // If nested plugin references, then do not try to\n                        // normalize, as it will not normalize correctly. This\n                        // places a restriction on resourceIds, and the longer\n                        // term solution is not to normalize until plugins are\n                        // loaded and all normalizations to allow for async\n                        // loading of a loader plugin. But for now, fixes the\n                        // common uses. Details in #1131\n                        normalizedName = name.indexOf('!') === -1 ?\n                                         normalize(name, parentName, applyMap) :\n                                         name;\n                    }\n                } else {\n                    //A regular module.\n                    normalizedName = normalize(name, parentName, applyMap);\n\n                    //Normalized name may be a plugin ID due to map config\n                    //application in normalize. The map config values must\n                    //already be normalized, so do not need to redo that part.\n                    nameParts = splitPrefix(normalizedName);\n                    prefix = nameParts[0];\n                    normalizedName = nameParts[1];\n                    isNormalized = true;\n\n                    url = context.nameToUrl(normalizedName);\n                }\n            }\n\n            //If the id is a plugin id that cannot be determined if it needs\n            //normalization, stamp it with a unique ID so two matching relative\n            //ids that may conflict can be separate.\n            suffix = prefix && !pluginModule && !isNormalized ?\n                     '_unnormalized' + (unnormalizedCounter += 1) :\n                     '';\n\n            return {\n                prefix: prefix,\n                name: normalizedName,\n                parentMap: parentModuleMap,\n                unnormalized: !!suffix,\n                url: url,\n                originalName: originalName,\n                isDefine: isDefine,\n                id: (prefix ?\n                        prefix + '!' + normalizedName :\n                        normalizedName) + suffix\n            };\n        }\n\n        function getModule(depMap) {\n            var id = depMap.id,\n                mod = getOwn(registry, id);\n\n            if (!mod) {\n                mod = registry[id] = new context.Module(depMap);\n            }\n\n            return mod;\n        }\n\n        function on(depMap, name, fn) {\n            var id = depMap.id,\n                mod = getOwn(registry, id);\n\n            if (hasProp(defined, id) &&\n                    (!mod || mod.defineEmitComplete)) {\n                if (name === 'defined') {\n                    fn(defined[id]);\n                }\n            } else {\n                mod = getModule(depMap);\n                if (mod.error && name === 'error') {\n                    fn(mod.error);\n                } else {\n                    mod.on(name, fn);\n                }\n            }\n        }\n\n        function onError(err, errback) {\n            var ids = err.requireModules,\n                notified = false;\n\n            if (errback) {\n                errback(err);\n            } else {\n                each(ids, function (id) {\n                    var mod = getOwn(registry, id);\n                    if (mod) {\n                        //Set error on module, so it skips timeout checks.\n                        mod.error = err;\n                        if (mod.events.error) {\n                            notified = true;\n                            mod.emit('error', err);\n                        }\n                    }\n                });\n\n                if (!notified) {\n                    req.onError(err);\n                }\n            }\n        }\n\n        /**\n         * Internal method to transfer globalQueue items to this context's\n         * defQueue.\n         */\n        function takeGlobalQueue() {\n            //Push all the globalDefQueue items into the context's defQueue\n            if (globalDefQueue.length) {\n                //Array splice in the values since the context code has a\n                //local var ref to defQueue, so cannot just reassign the one\n                //on context.\n                apsp.apply(defQueue,\n                           [defQueue.length, 0].concat(globalDefQueue));\n                globalDefQueue = [];\n            }\n        }\n\n        handlers = {\n            'require': function (mod) {\n                if (mod.require) {\n                    return mod.require;\n                } else {\n                    return (mod.require = context.makeRequire(mod.map));\n                }\n            },\n            'exports': function (mod) {\n                mod.usingExports = true;\n                if (mod.map.isDefine) {\n                    if (mod.exports) {\n                        return (defined[mod.map.id] = mod.exports);\n                    } else {\n                        return (mod.exports = defined[mod.map.id] = {});\n                    }\n                }\n            },\n            'module': function (mod) {\n                if (mod.module) {\n                    return mod.module;\n                } else {\n                    return (mod.module = {\n                        id: mod.map.id,\n                        uri: mod.map.url,\n                        config: function () {\n                            return  getOwn(config.config, mod.map.id) || {};\n                        },\n                        exports: mod.exports || (mod.exports = {})\n                    });\n                }\n            }\n        };\n\n        function cleanRegistry(id) {\n            //Clean up machinery used for waiting modules.\n            delete registry[id];\n            delete enabledRegistry[id];\n        }\n\n        function breakCycle(mod, traced, processed) {\n            var id = mod.map.id;\n\n            if (mod.error) {\n                mod.emit('error', mod.error);\n            } else {\n                traced[id] = true;\n                each(mod.depMaps, function (depMap, i) {\n                    var depId = depMap.id,\n                        dep = getOwn(registry, depId);\n\n                    //Only force things that have not completed\n                    //being defined, so still in the registry,\n                    //and only if it has not been matched up\n                    //in the module already.\n                    if (dep && !mod.depMatched[i] && !processed[depId]) {\n                        if (getOwn(traced, depId)) {\n                            mod.defineDep(i, defined[depId]);\n                            mod.check(); //pass false?\n                        } else {\n                            breakCycle(dep, traced, processed);\n                        }\n                    }\n                });\n                processed[id] = true;\n            }\n        }\n\n        function checkLoaded() {\n            var err, usingPathFallback,\n                waitInterval = config.waitSeconds * 1000,\n                //It is possible to disable the wait interval by using waitSeconds of 0.\n                expired = waitInterval && (context.startTime + waitInterval) < new Date().getTime(),\n                noLoads = [],\n                reqCalls = [],\n                stillLoading = false,\n                needCycleCheck = true;\n\n            //Do not bother if this call was a result of a cycle break.\n            if (inCheckLoaded) {\n                return;\n            }\n\n            inCheckLoaded = true;\n\n            //Figure out the state of all the modules.\n            eachProp(enabledRegistry, function (mod) {\n                var map = mod.map,\n                    modId = map.id;\n\n                //Skip things that are not enabled or in error state.\n                if (!mod.enabled) {\n                    return;\n                }\n\n                if (!map.isDefine) {\n                    reqCalls.push(mod);\n                }\n\n                if (!mod.error) {\n                    //If the module should be executed, and it has not\n                    //been inited and time is up, remember it.\n                    if (!mod.inited && expired) {\n                        if (hasPathFallback(modId)) {\n                            usingPathFallback = true;\n                            stillLoading = true;\n                        } else {\n                            noLoads.push(modId);\n                            removeScript(modId);\n                        }\n                    } else if (!mod.inited && mod.fetched && map.isDefine) {\n                        stillLoading = true;\n                        if (!map.prefix) {\n                            //No reason to keep looking for unfinished\n                            //loading. If the only stillLoading is a\n                            //plugin resource though, keep going,\n                            //because it may be that a plugin resource\n                            //is waiting on a non-plugin cycle.\n                            return (needCycleCheck = false);\n                        }\n                    }\n                }\n            });\n\n            if (expired && noLoads.length) {\n                //If wait time expired, throw error of unloaded modules.\n                err = makeError('timeout', 'Load timeout for modules: ' + noLoads, null, noLoads);\n                err.contextName = context.contextName;\n                return onError(err);\n            }\n\n            //Not expired, check for a cycle.\n            if (needCycleCheck) {\n                each(reqCalls, function (mod) {\n                    breakCycle(mod, {}, {});\n                });\n            }\n\n            //If still waiting on loads, and the waiting load is something\n            //other than a plugin resource, or there are still outstanding\n            //scripts, then just try back later.\n            if ((!expired || usingPathFallback) && stillLoading) {\n                //Something is still waiting to load. Wait for it, but only\n                //if a timeout is not already in effect.\n                if ((isBrowser || isWebWorker) && !checkLoadedTimeoutId) {\n                    checkLoadedTimeoutId = setTimeout(function () {\n                        checkLoadedTimeoutId = 0;\n                        checkLoaded();\n                    }, 50);\n                }\n            }\n\n            inCheckLoaded = false;\n        }\n\n        Module = function (map) {\n            this.events = getOwn(undefEvents, map.id) || {};\n            this.map = map;\n            this.shim = getOwn(config.shim, map.id);\n            this.depExports = [];\n            this.depMaps = [];\n            this.depMatched = [];\n            this.pluginMaps = {};\n            this.depCount = 0;\n\n            /* this.exports this.factory\n               this.depMaps = [],\n               this.enabled, this.fetched\n            */\n        };\n\n        Module.prototype = {\n            init: function (depMaps, factory, errback, options) {\n                options = options || {};\n\n                //Do not do more inits if already done. Can happen if there\n                //are multiple define calls for the same module. That is not\n                //a normal, common case, but it is also not unexpected.\n                if (this.inited) {\n                    return;\n                }\n\n                this.factory = factory;\n\n                if (errback) {\n                    //Register for errors on this module.\n                    this.on('error', errback);\n                } else if (this.events.error) {\n                    //If no errback already, but there are error listeners\n                    //on this module, set up an errback to pass to the deps.\n                    errback = bind(this, function (err) {\n                        this.emit('error', err);\n                    });\n                }\n\n                //Do a copy of the dependency array, so that\n                //source inputs are not modified. For example\n                //\"shim\" deps are passed in here directly, and\n                //doing a direct modification of the depMaps array\n                //would affect that config.\n                this.depMaps = depMaps && depMaps.slice(0);\n\n                this.errback = errback;\n\n                //Indicate this module has be initialized\n                this.inited = true;\n\n                this.ignore = options.ignore;\n\n                //Could have option to init this module in enabled mode,\n                //or could have been previously marked as enabled. However,\n                //the dependencies are not known until init is called. So\n                //if enabled previously, now trigger dependencies as enabled.\n                if (options.enabled || this.enabled) {\n                    //Enable this module and dependencies.\n                    //Will call this.check()\n                    this.enable();\n                } else {\n                    this.check();\n                }\n            },\n\n            defineDep: function (i, depExports) {\n                //Because of cycles, defined callback for a given\n                //export can be called more than once.\n                if (!this.depMatched[i]) {\n                    this.depMatched[i] = true;\n                    this.depCount -= 1;\n                    this.depExports[i] = depExports;\n                }\n            },\n\n            fetch: function () {\n                if (this.fetched) {\n                    return;\n                }\n                this.fetched = true;\n\n                context.startTime = (new Date()).getTime();\n\n                var map = this.map;\n\n                //If the manager is for a plugin managed resource,\n                //ask the plugin to load it now.\n                if (this.shim) {\n                    context.makeRequire(this.map, {\n                        enableBuildCallback: true\n                    })(this.shim.deps || [], bind(this, function () {\n                        return map.prefix ? this.callPlugin() : this.load();\n                    }));\n                } else {\n                    //Regular dependency.\n                    return map.prefix ? this.callPlugin() : this.load();\n                }\n            },\n\n            load: function () {\n                var url = this.map.url;\n\n                //Regular dependency.\n                if (!urlFetched[url]) {\n                    urlFetched[url] = true;\n                    context.load(this.map.id, url);\n                }\n            },\n\n            /**\n             * Checks if the module is ready to define itself, and if so,\n             * define it.\n             */\n            check: function () {\n                if (!this.enabled || this.enabling) {\n                    return;\n                }\n\n                var err, cjsModule,\n                    id = this.map.id,\n                    depExports = this.depExports,\n                    exports = this.exports,\n                    factory = this.factory;\n\n                if (!this.inited) {\n                    this.fetch();\n                } else if (this.error) {\n                    this.emit('error', this.error);\n                } else if (!this.defining) {\n                    //The factory could trigger another require call\n                    //that would result in checking this module to\n                    //define itself again. If already in the process\n                    //of doing that, skip this work.\n                    this.defining = true;\n\n                    if (this.depCount < 1 && !this.defined) {\n                        if (isFunction(factory)) {\n                            //If there is an error listener, favor passing\n                            //to that instead of throwing an error. However,\n                            //only do it for define()'d  modules. require\n                            //errbacks should not be called for failures in\n                            //their callbacks (#699). However if a global\n                            //onError is set, use that.\n                            if ((this.events.error && this.map.isDefine) ||\n                                req.onError !== defaultOnError) {\n                                try {\n                                    exports = context.execCb(id, factory, depExports, exports);\n                                } catch (e) {\n                                    err = e;\n                                }\n                            } else {\n                                exports = context.execCb(id, factory, depExports, exports);\n                            }\n\n                            // Favor return value over exports. If node/cjs in play,\n                            // then will not have a return value anyway. Favor\n                            // module.exports assignment over exports object.\n                            if (this.map.isDefine && exports === undefined) {\n                                cjsModule = this.module;\n                                if (cjsModule) {\n                                    exports = cjsModule.exports;\n                                } else if (this.usingExports) {\n                                    //exports already set the defined value.\n                                    exports = this.exports;\n                                }\n                            }\n\n                            if (err) {\n                                err.requireMap = this.map;\n                                err.requireModules = this.map.isDefine ? [this.map.id] : null;\n                                err.requireType = this.map.isDefine ? 'define' : 'require';\n                                return onError((this.error = err));\n                            }\n\n                        } else {\n                            //Just a literal value\n                            exports = factory;\n                        }\n\n                        this.exports = exports;\n\n                        if (this.map.isDefine && !this.ignore) {\n                            defined[id] = exports;\n\n                            if (req.onResourceLoad) {\n                                req.onResourceLoad(context, this.map, this.depMaps);\n                            }\n                        }\n\n                        //Clean up\n                        cleanRegistry(id);\n\n                        this.defined = true;\n                    }\n\n                    //Finished the define stage. Allow calling check again\n                    //to allow define notifications below in the case of a\n                    //cycle.\n                    this.defining = false;\n\n                    if (this.defined && !this.defineEmitted) {\n                        this.defineEmitted = true;\n                        this.emit('defined', this.exports);\n                        this.defineEmitComplete = true;\n                    }\n\n                }\n            },\n\n            callPlugin: function () {\n                var map = this.map,\n                    id = map.id,\n                    //Map already normalized the prefix.\n                    pluginMap = makeModuleMap(map.prefix);\n\n                //Mark this as a dependency for this plugin, so it\n                //can be traced for cycles.\n                this.depMaps.push(pluginMap);\n\n                on(pluginMap, 'defined', bind(this, function (plugin) {\n                    var load, normalizedMap, normalizedMod,\n                        bundleId = getOwn(bundlesMap, this.map.id),\n                        name = this.map.name,\n                        parentName = this.map.parentMap ? this.map.parentMap.name : null,\n                        localRequire = context.makeRequire(map.parentMap, {\n                            enableBuildCallback: true\n                        });\n\n                    //If current map is not normalized, wait for that\n                    //normalized name to load instead of continuing.\n                    if (this.map.unnormalized) {\n                        //Normalize the ID if the plugin allows it.\n                        if (plugin.normalize) {\n                            name = plugin.normalize(name, function (name) {\n                                return normalize(name, parentName, true);\n                            }) || '';\n                        }\n\n                        //prefix and name should already be normalized, no need\n                        //for applying map config again either.\n                        normalizedMap = makeModuleMap(map.prefix + '!' + name,\n                                                      this.map.parentMap);\n                        on(normalizedMap,\n                            'defined', bind(this, function (value) {\n                                this.init([], function () { return value; }, null, {\n                                    enabled: true,\n                                    ignore: true\n                                });\n                            }));\n\n                        normalizedMod = getOwn(registry, normalizedMap.id);\n                        if (normalizedMod) {\n                            //Mark this as a dependency for this plugin, so it\n                            //can be traced for cycles.\n                            this.depMaps.push(normalizedMap);\n\n                            if (this.events.error) {\n                                normalizedMod.on('error', bind(this, function (err) {\n                                    this.emit('error', err);\n                                }));\n                            }\n                            normalizedMod.enable();\n                        }\n\n                        return;\n                    }\n\n                    //If a paths config, then just load that file instead to\n                    //resolve the plugin, as it is built into that paths layer.\n                    if (bundleId) {\n                        this.map.url = context.nameToUrl(bundleId);\n                        this.load();\n                        return;\n                    }\n\n                    load = bind(this, function (value) {\n                        this.init([], function () { return value; }, null, {\n                            enabled: true\n                        });\n                    });\n\n                    load.error = bind(this, function (err) {\n                        this.inited = true;\n                        this.error = err;\n                        err.requireModules = [id];\n\n                        //Remove temp unnormalized modules for this module,\n                        //since they will never be resolved otherwise now.\n                        eachProp(registry, function (mod) {\n                            if (mod.map.id.indexOf(id + '_unnormalized') === 0) {\n                                cleanRegistry(mod.map.id);\n                            }\n                        });\n\n                        onError(err);\n                    });\n\n                    //Allow plugins to load other code without having to know the\n                    //context or how to 'complete' the load.\n                    load.fromText = bind(this, function (text, textAlt) {\n                        /*jslint evil: true */\n                        var moduleName = map.name,\n                            moduleMap = makeModuleMap(moduleName),\n                            hasInteractive = useInteractive;\n\n                        //As of 2.1.0, support just passing the text, to reinforce\n                        //fromText only being called once per resource. Still\n                        //support old style of passing moduleName but discard\n                        //that moduleName in favor of the internal ref.\n                        if (textAlt) {\n                            text = textAlt;\n                        }\n\n                        //Turn off interactive script matching for IE for any define\n                        //calls in the text, then turn it back on at the end.\n                        if (hasInteractive) {\n                            useInteractive = false;\n                        }\n\n                        //Prime the system by creating a module instance for\n                        //it.\n                        getModule(moduleMap);\n\n                        //Transfer any config to this other module.\n                        if (hasProp(config.config, id)) {\n                            config.config[moduleName] = config.config[id];\n                        }\n\n                        try {\n                            req.exec(text);\n                        } catch (e) {\n                            return onError(makeError('fromtexteval',\n                                             'fromText eval for ' + id +\n                                            ' failed: ' + e,\n                                             e,\n                                             [id]));\n                        }\n\n                        if (hasInteractive) {\n                            useInteractive = true;\n                        }\n\n                        //Mark this as a dependency for the plugin\n                        //resource\n                        this.depMaps.push(moduleMap);\n\n                        //Support anonymous modules.\n                        context.completeLoad(moduleName);\n\n                        //Bind the value of that module to the value for this\n                        //resource ID.\n                        localRequire([moduleName], load);\n                    });\n\n                    //Use parentName here since the plugin's name is not reliable,\n                    //could be some weird string with no path that actually wants to\n                    //reference the parentName's path.\n                    plugin.load(map.name, localRequire, load, config);\n                }));\n\n                context.enable(pluginMap, this);\n                this.pluginMaps[pluginMap.id] = pluginMap;\n            },\n\n            enable: function () {\n                enabledRegistry[this.map.id] = this;\n                this.enabled = true;\n\n                //Set flag mentioning that the module is enabling,\n                //so that immediate calls to the defined callbacks\n                //for dependencies do not trigger inadvertent load\n                //with the depCount still being zero.\n                this.enabling = true;\n\n                //Enable each dependency\n                each(this.depMaps, bind(this, function (depMap, i) {\n                    var id, mod, handler;\n\n                    if (typeof depMap === 'string') {\n                        //Dependency needs to be converted to a depMap\n                        //and wired up to this module.\n                        depMap = makeModuleMap(depMap,\n                                               (this.map.isDefine ? this.map : this.map.parentMap),\n                                               false,\n                                               !this.skipMap);\n                        this.depMaps[i] = depMap;\n\n                        handler = getOwn(handlers, depMap.id);\n\n                        if (handler) {\n                            this.depExports[i] = handler(this);\n                            return;\n                        }\n\n                        this.depCount += 1;\n\n                        on(depMap, 'defined', bind(this, function (depExports) {\n                            this.defineDep(i, depExports);\n                            this.check();\n                        }));\n\n                        if (this.errback) {\n                            on(depMap, 'error', bind(this, this.errback));\n                        }\n                    }\n\n                    id = depMap.id;\n                    mod = registry[id];\n\n                    //Skip special modules like 'require', 'exports', 'module'\n                    //Also, don't call enable if it is already enabled,\n                    //important in circular dependency cases.\n                    if (!hasProp(handlers, id) && mod && !mod.enabled) {\n                        context.enable(depMap, this);\n                    }\n                }));\n\n                //Enable each plugin that is used in\n                //a dependency\n                eachProp(this.pluginMaps, bind(this, function (pluginMap) {\n                    var mod = getOwn(registry, pluginMap.id);\n                    if (mod && !mod.enabled) {\n                        context.enable(pluginMap, this);\n                    }\n                }));\n\n                this.enabling = false;\n\n                this.check();\n            },\n\n            on: function (name, cb) {\n                var cbs = this.events[name];\n                if (!cbs) {\n                    cbs = this.events[name] = [];\n                }\n                cbs.push(cb);\n            },\n\n            emit: function (name, evt) {\n                each(this.events[name], function (cb) {\n                    cb(evt);\n                });\n                if (name === 'error') {\n                    //Now that the error handler was triggered, remove\n                    //the listeners, since this broken Module instance\n                    //can stay around for a while in the registry.\n                    delete this.events[name];\n                }\n            }\n        };\n\n        function callGetModule(args) {\n            //Skip modules already defined.\n            if (!hasProp(defined, args[0])) {\n                getModule(makeModuleMap(args[0], null, true)).init(args[1], args[2]);\n            }\n        }\n\n        function removeListener(node, func, name, ieName) {\n            //Favor detachEvent because of IE9\n            //issue, see attachEvent/addEventListener comment elsewhere\n            //in this file.\n            if (node.detachEvent && !isOpera) {\n                //Probably IE. If not it will throw an error, which will be\n                //useful to know.\n                if (ieName) {\n                    node.detachEvent(ieName, func);\n                }\n            } else {\n                node.removeEventListener(name, func, false);\n            }\n        }\n\n        /**\n         * Given an event from a script node, get the requirejs info from it,\n         * and then removes the event listeners on the node.\n         * @param {Event} evt\n         * @returns {Object}\n         */\n        function getScriptData(evt) {\n            //Using currentTarget instead of target for Firefox 2.0's sake. Not\n            //all old browsers will be supported, but this one was easy enough\n            //to support and still makes sense.\n            var node = evt.currentTarget || evt.srcElement;\n\n            //Remove the listeners once here.\n            removeListener(node, context.onScriptLoad, 'load', 'onreadystatechange');\n            removeListener(node, context.onScriptError, 'error');\n\n            return {\n                node: node,\n                id: node && node.getAttribute('data-requiremodule')\n            };\n        }\n\n        function intakeDefines() {\n            var args;\n\n            //Any defined modules in the global queue, intake them now.\n            takeGlobalQueue();\n\n            //Make sure any remaining defQueue items get properly processed.\n            while (defQueue.length) {\n                args = defQueue.shift();\n                if (args[0] === null) {\n                    return onError(makeError('mismatch', 'Mismatched anonymous define() module: ' + args[args.length - 1]));\n                } else {\n                    //args are id, deps, factory. Should be normalized by the\n                    //define() function.\n                    callGetModule(args);\n                }\n            }\n        }\n\n        context = {\n            config: config,\n            contextName: contextName,\n            registry: registry,\n            defined: defined,\n            urlFetched: urlFetched,\n            defQueue: defQueue,\n            Module: Module,\n            makeModuleMap: makeModuleMap,\n            nextTick: req.nextTick,\n            onError: onError,\n\n            /**\n             * Set a configuration for the context.\n             * @param {Object} cfg config object to integrate.\n             */\n            configure: function (cfg) {\n                //Make sure the baseUrl ends in a slash.\n                if (cfg.baseUrl) {\n                    if (cfg.baseUrl.charAt(cfg.baseUrl.length - 1) !== '/') {\n                        cfg.baseUrl += '/';\n                    }\n                }\n\n                //Save off the paths since they require special processing,\n                //they are additive.\n                var shim = config.shim,\n                    objs = {\n                        paths: true,\n                        bundles: true,\n                        config: true,\n                        map: true\n                    };\n\n                eachProp(cfg, function (value, prop) {\n                    if (objs[prop]) {\n                        if (!config[prop]) {\n                            config[prop] = {};\n                        }\n                        mixin(config[prop], value, true, true);\n                    } else {\n                        config[prop] = value;\n                    }\n                });\n\n                //Reverse map the bundles\n                if (cfg.bundles) {\n                    eachProp(cfg.bundles, function (value, prop) {\n                        each(value, function (v) {\n                            if (v !== prop) {\n                                bundlesMap[v] = prop;\n                            }\n                        });\n                    });\n                }\n\n                //Merge shim\n                if (cfg.shim) {\n                    eachProp(cfg.shim, function (value, id) {\n                        //Normalize the structure\n                        if (isArray(value)) {\n                            value = {\n                                deps: value\n                            };\n                        }\n                        if ((value.exports || value.init) && !value.exportsFn) {\n                            value.exportsFn = context.makeShimExports(value);\n                        }\n                        shim[id] = value;\n                    });\n                    config.shim = shim;\n                }\n\n                //Adjust packages if necessary.\n                if (cfg.packages) {\n                    each(cfg.packages, function (pkgObj) {\n                        var location, name;\n\n                        pkgObj = typeof pkgObj === 'string' ? { name: pkgObj } : pkgObj;\n\n                        name = pkgObj.name;\n                        location = pkgObj.location;\n                        if (location) {\n                            config.paths[name] = pkgObj.location;\n                        }\n\n                        //Save pointer to main module ID for pkg name.\n                        //Remove leading dot in main, so main paths are normalized,\n                        //and remove any trailing .js, since different package\n                        //envs have different conventions: some use a module name,\n                        //some use a file name.\n                        config.pkgs[name] = pkgObj.name + '/' + (pkgObj.main || 'main')\n                                     .replace(currDirRegExp, '')\n                                     .replace(jsSuffixRegExp, '');\n                    });\n                }\n\n                //If there are any \"waiting to execute\" modules in the registry,\n                //update the maps for them, since their info, like URLs to load,\n                //may have changed.\n                eachProp(registry, function (mod, id) {\n                    //If module already has init called, since it is too\n                    //late to modify them, and ignore unnormalized ones\n                    //since they are transient.\n                    if (!mod.inited && !mod.map.unnormalized) {\n                        mod.map = makeModuleMap(id);\n                    }\n                });\n\n                //If a deps array or a config callback is specified, then call\n                //require with those args. This is useful when require is defined as a\n                //config object before require.js is loaded.\n                if (cfg.deps || cfg.callback) {\n                    context.require(cfg.deps || [], cfg.callback);\n                }\n            },\n\n            makeShimExports: function (value) {\n                function fn() {\n                    var ret;\n                    if (value.init) {\n                        ret = value.init.apply(global, arguments);\n                    }\n                    return ret || (value.exports && getGlobal(value.exports));\n                }\n                return fn;\n            },\n\n            makeRequire: function (relMap, options) {\n                options = options || {};\n\n                function localRequire(deps, callback, errback) {\n                    var id, map, requireMod;\n\n                    if (options.enableBuildCallback && callback && isFunction(callback)) {\n                        callback.__requireJsBuild = true;\n                    }\n\n                    if (typeof deps === 'string') {\n                        if (isFunction(callback)) {\n                            //Invalid call\n                            return onError(makeError('requireargs', 'Invalid require call'), errback);\n                        }\n\n                        //If require|exports|module are requested, get the\n                        //value for them from the special handlers. Caveat:\n                        //this only works while module is being defined.\n                        if (relMap && hasProp(handlers, deps)) {\n                            return handlers[deps](registry[relMap.id]);\n                        }\n\n                        //Synchronous access to one module. If require.get is\n                        //available (as in the Node adapter), prefer that.\n                        if (req.get) {\n                            return req.get(context, deps, relMap, localRequire);\n                        }\n\n                        //Normalize module name, if it contains . or ..\n                        map = makeModuleMap(deps, relMap, false, true);\n                        id = map.id;\n\n                        if (!hasProp(defined, id)) {\n                            return onError(makeError('notloaded', 'Module name \"' +\n                                        id +\n                                        '\" has not been loaded yet for context: ' +\n                                        contextName +\n                                        (relMap ? '' : '. Use require([])')));\n                        }\n                        return defined[id];\n                    }\n\n                    //Grab defines waiting in the global queue.\n                    intakeDefines();\n\n                    //Mark all the dependencies as needing to be loaded.\n                    context.nextTick(function () {\n                        //Some defines could have been added since the\n                        //require call, collect them.\n                        intakeDefines();\n\n                        requireMod = getModule(makeModuleMap(null, relMap));\n\n                        //Store if map config should be applied to this require\n                        //call for dependencies.\n                        requireMod.skipMap = options.skipMap;\n\n                        requireMod.init(deps, callback, errback, {\n                            enabled: true\n                        });\n\n                        checkLoaded();\n                    });\n\n                    return localRequire;\n                }\n\n                mixin(localRequire, {\n                    isBrowser: isBrowser,\n\n                    /**\n                     * Converts a module name + .extension into an URL path.\n                     * *Requires* the use of a module name. It does not support using\n                     * plain URLs like nameToUrl.\n                     */\n                    toUrl: function (moduleNamePlusExt) {\n                        var ext,\n                            index = moduleNamePlusExt.lastIndexOf('.'),\n                            segment = moduleNamePlusExt.split('/')[0],\n                            isRelative = segment === '.' || segment === '..';\n\n                        //Have a file extension alias, and it is not the\n                        //dots from a relative path.\n                        if (index !== -1 && (!isRelative || index > 1)) {\n                            ext = moduleNamePlusExt.substring(index, moduleNamePlusExt.length);\n                            moduleNamePlusExt = moduleNamePlusExt.substring(0, index);\n                        }\n\n                        return context.nameToUrl(normalize(moduleNamePlusExt,\n                                                relMap && relMap.id, true), ext,  true);\n                    },\n\n                    defined: function (id) {\n                        return hasProp(defined, makeModuleMap(id, relMap, false, true).id);\n                    },\n\n                    specified: function (id) {\n                        id = makeModuleMap(id, relMap, false, true).id;\n                        return hasProp(defined, id) || hasProp(registry, id);\n                    }\n                });\n\n                //Only allow undef on top level require calls\n                if (!relMap) {\n                    localRequire.undef = function (id) {\n                        //Bind any waiting define() calls to this context,\n                        //fix for #408\n                        takeGlobalQueue();\n\n                        var map = makeModuleMap(id, relMap, true),\n                            mod = getOwn(registry, id);\n\n                        removeScript(id);\n\n                        delete defined[id];\n                        delete urlFetched[map.url];\n                        delete undefEvents[id];\n\n                        //Clean queued defines too. Go backwards\n                        //in array so that the splices do not\n                        //mess up the iteration.\n                        eachReverse(defQueue, function(args, i) {\n                            if(args[0] === id) {\n                                defQueue.splice(i, 1);\n                            }\n                        });\n\n                        if (mod) {\n                            //Hold on to listeners in case the\n                            //module will be attempted to be reloaded\n                            //using a different config.\n                            if (mod.events.defined) {\n                                undefEvents[id] = mod.events;\n                            }\n\n                            cleanRegistry(id);\n                        }\n                    };\n                }\n\n                return localRequire;\n            },\n\n            /**\n             * Called to enable a module if it is still in the registry\n             * awaiting enablement. A second arg, parent, the parent module,\n             * is passed in for context, when this method is overridden by\n             * the optimizer. Not shown here to keep code compact.\n             */\n            enable: function (depMap) {\n                var mod = getOwn(registry, depMap.id);\n                if (mod) {\n                    getModule(depMap).enable();\n                }\n            },\n\n            /**\n             * Internal method used by environment adapters to complete a load event.\n             * A load event could be a script load or just a load pass from a synchronous\n             * load call.\n             * @param {String} moduleName the name of the module to potentially complete.\n             */\n            completeLoad: function (moduleName) {\n                var found, args, mod,\n                    shim = getOwn(config.shim, moduleName) || {},\n                    shExports = shim.exports;\n\n                takeGlobalQueue();\n\n                while (defQueue.length) {\n                    args = defQueue.shift();\n                    if (args[0] === null) {\n                        args[0] = moduleName;\n                        //If already found an anonymous module and bound it\n                        //to this name, then this is some other anon module\n                        //waiting for its completeLoad to fire.\n                        if (found) {\n                            break;\n                        }\n                        found = true;\n                    } else if (args[0] === moduleName) {\n                        //Found matching define call for this script!\n                        found = true;\n                    }\n\n                    callGetModule(args);\n                }\n\n                //Do this after the cycle of callGetModule in case the result\n                //of those calls/init calls changes the registry.\n                mod = getOwn(registry, moduleName);\n\n                if (!found && !hasProp(defined, moduleName) && mod && !mod.inited) {\n                    if (config.enforceDefine && (!shExports || !getGlobal(shExports))) {\n                        if (hasPathFallback(moduleName)) {\n                            return;\n                        } else {\n                            return onError(makeError('nodefine',\n                                             'No define call for ' + moduleName,\n                                             null,\n                                             [moduleName]));\n                        }\n                    } else {\n                        //A script that does not call define(), so just simulate\n                        //the call for it.\n                        callGetModule([moduleName, (shim.deps || []), shim.exportsFn]);\n                    }\n                }\n\n                checkLoaded();\n            },\n\n            /**\n             * Converts a module name to a file path. Supports cases where\n             * moduleName may actually be just an URL.\n             * Note that it **does not** call normalize on the moduleName,\n             * it is assumed to have already been normalized. This is an\n             * internal API, not a public one. Use toUrl for the public API.\n             */\n            nameToUrl: function (moduleName, ext, skipExt) {\n                var paths, syms, i, parentModule, url,\n                    parentPath, bundleId,\n                    pkgMain = getOwn(config.pkgs, moduleName);\n\n                if (pkgMain) {\n                    moduleName = pkgMain;\n                }\n\n                bundleId = getOwn(bundlesMap, moduleName);\n\n                if (bundleId) {\n                    return context.nameToUrl(bundleId, ext, skipExt);\n                }\n\n                //If a colon is in the URL, it indicates a protocol is used and it is just\n                //an URL to a file, or if it starts with a slash, contains a query arg (i.e. ?)\n                //or ends with .js, then assume the user meant to use an url and not a module id.\n                //The slash is important for protocol-less URLs as well as full paths.\n                if (req.jsExtRegExp.test(moduleName)) {\n                    //Just a plain path, not module name lookup, so just return it.\n                    //Add extension if it is included. This is a bit wonky, only non-.js things pass\n                    //an extension, this method probably needs to be reworked.\n                    url = moduleName + (ext || '');\n                } else {\n                    //A module that needs to be converted to a path.\n                    paths = config.paths;\n\n                    syms = moduleName.split('/');\n                    //For each module name segment, see if there is a path\n                    //registered for it. Start with most specific name\n                    //and work up from it.\n                    for (i = syms.length; i > 0; i -= 1) {\n                        parentModule = syms.slice(0, i).join('/');\n\n                        parentPath = getOwn(paths, parentModule);\n                        if (parentPath) {\n                            //If an array, it means there are a few choices,\n                            //Choose the one that is desired\n                            if (isArray(parentPath)) {\n                                parentPath = parentPath[0];\n                            }\n                            syms.splice(0, i, parentPath);\n                            break;\n                        }\n                    }\n\n                    //Join the path parts together, then figure out if baseUrl is needed.\n                    url = syms.join('/');\n                    url += (ext || (/^data\\:|\\?/.test(url) || skipExt ? '' : '.js'));\n                    url = (url.charAt(0) === '/' || url.match(/^[\\w\\+\\.\\-]+:/) ? '' : config.baseUrl) + url;\n                }\n\n                return config.urlArgs ? url +\n                                        ((url.indexOf('?') === -1 ? '?' : '&') +\n                                         config.urlArgs) : url;\n            },\n\n            //Delegates to req.load. Broken out as a separate function to\n            //allow overriding in the optimizer.\n            load: function (id, url) {\n                req.load(context, id, url);\n            },\n\n            /**\n             * Executes a module callback function. Broken out as a separate function\n             * solely to allow the build system to sequence the files in the built\n             * layer in the right sequence.\n             *\n             * @private\n             */\n            execCb: function (name, callback, args, exports) {\n                return callback.apply(exports, args);\n            },\n\n            /**\n             * callback for script loads, used to check status of loading.\n             *\n             * @param {Event} evt the event from the browser for the script\n             * that was loaded.\n             */\n            onScriptLoad: function (evt) {\n                //Using currentTarget instead of target for Firefox 2.0's sake. Not\n                //all old browsers will be supported, but this one was easy enough\n                //to support and still makes sense.\n                if (evt.type === 'load' ||\n                        (readyRegExp.test((evt.currentTarget || evt.srcElement).readyState))) {\n                    //Reset interactive script so a script node is not held onto for\n                    //to long.\n                    interactiveScript = null;\n\n                    //Pull out the name of the module and the context.\n                    var data = getScriptData(evt);\n                    context.completeLoad(data.id);\n                }\n            },\n\n            /**\n             * Callback for script errors.\n             */\n            onScriptError: function (evt) {\n                var data = getScriptData(evt);\n                if (!hasPathFallback(data.id)) {\n                    return onError(makeError('scripterror', 'Script error for: ' + data.id, evt, [data.id]));\n                }\n            }\n        };\n\n        context.require = context.makeRequire();\n        return context;\n    }\n\n    /**\n     * Main entry point.\n     *\n     * If the only argument to require is a string, then the module that\n     * is represented by that string is fetched for the appropriate context.\n     *\n     * If the first argument is an array, then it will be treated as an array\n     * of dependency string names to fetch. An optional function callback can\n     * be specified to execute when all of those dependencies are available.\n     *\n     * Make a local req variable to help Caja compliance (it assumes things\n     * on a require that are not standardized), and to give a short\n     * name for minification/local scope use.\n     */\n    req = requirejs = function (deps, callback, errback, optional) {\n\n        //Find the right context, use default\n        var context, config,\n            contextName = defContextName;\n\n        // Determine if have config object in the call.\n        if (!isArray(deps) && typeof deps !== 'string') {\n            // deps is a config object\n            config = deps;\n            if (isArray(callback)) {\n                // Adjust args if there are dependencies\n                deps = callback;\n                callback = errback;\n                errback = optional;\n            } else {\n                deps = [];\n            }\n        }\n\n        if (config && config.context) {\n            contextName = config.context;\n        }\n\n        context = getOwn(contexts, contextName);\n        if (!context) {\n            context = contexts[contextName] = req.s.newContext(contextName);\n        }\n\n        if (config) {\n            context.configure(config);\n        }\n\n        return context.require(deps, callback, errback);\n    };\n\n    /**\n     * Support require.config() to make it easier to cooperate with other\n     * AMD loaders on globally agreed names.\n     */\n    req.config = function (config) {\n        return req(config);\n    };\n\n    /**\n     * Execute something after the current tick\n     * of the event loop. Override for other envs\n     * that have a better solution than setTimeout.\n     * @param  {Function} fn function to execute later.\n     */\n    req.nextTick = typeof setTimeout !== 'undefined' ? function (fn) {\n        setTimeout(fn, 4);\n    } : function (fn) { fn(); };\n\n    /**\n     * Export require as a global, but only if it does not already exist.\n     */\n    if (!require) {\n        require = req;\n    }\n\n    req.version = version;\n\n    //Used to filter out dependencies that are already paths.\n    req.jsExtRegExp = /^\\/|:|\\?|\\.js$/;\n    req.isBrowser = isBrowser;\n    s = req.s = {\n        contexts: contexts,\n        newContext: newContext\n    };\n\n    //Create default context.\n    req({});\n\n    //Exports some context-sensitive methods on global require.\n    each([\n        'toUrl',\n        'undef',\n        'defined',\n        'specified'\n    ], function (prop) {\n        //Reference from contexts instead of early binding to default context,\n        //so that during builds, the latest instance of the default context\n        //with its config gets used.\n        req[prop] = function () {\n            var ctx = contexts[defContextName];\n            return ctx.require[prop].apply(ctx, arguments);\n        };\n    });\n\n    if (isBrowser) {\n        head = s.head = document.getElementsByTagName('head')[0];\n        //If BASE tag is in play, using appendChild is a problem for IE6.\n        //When that browser dies, this can be removed. Details in this jQuery bug:\n        //http://dev.jquery.com/ticket/2709\n        baseElement = document.getElementsByTagName('base')[0];\n        if (baseElement) {\n            head = s.head = baseElement.parentNode;\n        }\n    }\n\n    /**\n     * Any errors that require explicitly generates will be passed to this\n     * function. Intercept/override it if you want custom error handling.\n     * @param {Error} err the error object.\n     */\n    req.onError = defaultOnError;\n\n    /**\n     * Creates the node for the load command. Only used in browser envs.\n     */\n    req.createNode = function (config, moduleName, url) {\n        var node = config.xhtml ?\n                document.createElementNS('http://www.w3.org/1999/xhtml', 'html:script') :\n                document.createElement('script');\n        node.type = config.scriptType || 'text/javascript';\n        node.charset = 'utf-8';\n        node.async = true;\n        return node;\n    };\n\n    /**\n     * Does the request to load a module for the browser case.\n     * Make this a separate function to allow other environments\n     * to override it.\n     *\n     * @param {Object} context the require context to find state.\n     * @param {String} moduleName the name of the module.\n     * @param {Object} url the URL to the module.\n     */\n    req.load = function (context, moduleName, url) {\n        var config = (context && context.config) || {},\n            node;\n        if (isBrowser) {\n            //In the browser so use a script tag\n            node = req.createNode(config, moduleName, url);\n\n            node.setAttribute('data-requirecontext', context.contextName);\n            node.setAttribute('data-requiremodule', moduleName);\n\n            //Set up load listener. Test attachEvent first because IE9 has\n            //a subtle issue in its addEventListener and script onload firings\n            //that do not match the behavior of all other browsers with\n            //addEventListener support, which fire the onload event for a\n            //script right after the script execution. See:\n            //https://connect.microsoft.com/IE/feedback/details/648057/script-onload-event-is-not-fired-immediately-after-script-execution\n            //UNFORTUNATELY Opera implements attachEvent but does not follow the script\n            //script execution mode.\n            if (node.attachEvent &&\n                    //Check if node.attachEvent is artificially added by custom script or\n                    //natively supported by browser\n                    //read https://github.com/jrburke/requirejs/issues/187\n                    //if we can NOT find [native code] then it must NOT natively supported.\n                    //in IE8, node.attachEvent does not have toString()\n                    //Note the test for \"[native code\" with no closing brace, see:\n                    //https://github.com/jrburke/requirejs/issues/273\n                    !(node.attachEvent.toString && node.attachEvent.toString().indexOf('[native code') < 0) &&\n                    !isOpera) {\n                //Probably IE. IE (at least 6-8) do not fire\n                //script onload right after executing the script, so\n                //we cannot tie the anonymous define call to a name.\n                //However, IE reports the script as being in 'interactive'\n                //readyState at the time of the define call.\n                useInteractive = true;\n\n                node.attachEvent('onreadystatechange', context.onScriptLoad);\n                //It would be great to add an error handler here to catch\n                //404s in IE9+. However, onreadystatechange will fire before\n                //the error handler, so that does not help. If addEventListener\n                //is used, then IE will fire error before load, but we cannot\n                //use that pathway given the connect.microsoft.com issue\n                //mentioned above about not doing the 'script execute,\n                //then fire the script load event listener before execute\n                //next script' that other browsers do.\n                //Best hope: IE10 fixes the issues,\n                //and then destroys all installs of IE 6-9.\n                //node.attachEvent('onerror', context.onScriptError);\n            } else {\n                node.addEventListener('load', context.onScriptLoad, false);\n                node.addEventListener('error', context.onScriptError, false);\n            }\n            node.src = url;\n\n            //For some cache cases in IE 6-8, the script executes before the end\n            //of the appendChild execution, so to tie an anonymous define\n            //call to the module name (which is stored on the node), hold on\n            //to a reference to this node, but clear after the DOM insertion.\n            currentlyAddingScript = node;\n            if (baseElement) {\n                head.insertBefore(node, baseElement);\n            } else {\n                head.appendChild(node);\n            }\n            currentlyAddingScript = null;\n\n            return node;\n        } else if (isWebWorker) {\n            try {\n                //In a web worker, use importScripts. This is not a very\n                //efficient use of importScripts, importScripts will block until\n                //its script is downloaded and evaluated. However, if web workers\n                //are in play, the expectation that a build has been done so that\n                //only one script needs to be loaded anyway. This may need to be\n                //reevaluated if other use cases become common.\n                importScripts(url);\n\n                //Account for anonymous modules\n                context.completeLoad(moduleName);\n            } catch (e) {\n                context.onError(makeError('importscripts',\n                                'importScripts failed for ' +\n                                    moduleName + ' at ' + url,\n                                e,\n                                [moduleName]));\n            }\n        }\n    };\n\n    function getInteractiveScript() {\n        if (interactiveScript && interactiveScript.readyState === 'interactive') {\n            return interactiveScript;\n        }\n\n        eachReverse(scripts(), function (script) {\n            if (script.readyState === 'interactive') {\n                return (interactiveScript = script);\n            }\n        });\n        return interactiveScript;\n    }\n\n    //Look for a data-main script attribute, which could also adjust the baseUrl.\n    if (isBrowser && !cfg.skipDataMain) {\n        //Figure out baseUrl. Get it from the script tag with require.js in it.\n        eachReverse(scripts(), function (script) {\n            //Set the 'head' where we can append children by\n            //using the script's parent.\n            if (!head) {\n                head = script.parentNode;\n            }\n\n            //Look for a data-main attribute to set main script for the page\n            //to load. If it is there, the path to data main becomes the\n            //baseUrl, if it is not already set.\n            dataMain = script.getAttribute('data-main');\n            if (dataMain) {\n                //Preserve dataMain in case it is a path (i.e. contains '?')\n                mainScript = dataMain;\n\n                //Set final baseUrl if there is not already an explicit one.\n                if (!cfg.baseUrl) {\n                    //Pull off the directory of data-main for use as the\n                    //baseUrl.\n                    src = mainScript.split('/');\n                    mainScript = src.pop();\n                    subPath = src.length ? src.join('/')  + '/' : './';\n\n                    cfg.baseUrl = subPath;\n                }\n\n                //Strip off any trailing .js since mainScript is now\n                //like a module name.\n                mainScript = mainScript.replace(jsSuffixRegExp, '');\n\n                 //If mainScript is still a path, fall back to dataMain\n                if (req.jsExtRegExp.test(mainScript)) {\n                    mainScript = dataMain;\n                }\n\n                //Put the data-main script in the files to load.\n                cfg.deps = cfg.deps ? cfg.deps.concat(mainScript) : [mainScript];\n\n                return true;\n            }\n        });\n    }\n\n    /**\n     * The function that handles definitions of modules. Differs from\n     * require() in that a string for the module should be the first argument,\n     * and the function to execute after dependencies are loaded should\n     * return a value to define the module corresponding to the first argument's\n     * name.\n     */\n    define = function (name, deps, callback) {\n        var node, context;\n\n        //Allow for anonymous modules\n        if (typeof name !== 'string') {\n            //Adjust args appropriately\n            callback = deps;\n            deps = name;\n            name = null;\n        }\n\n        //This module may not have dependencies\n        if (!isArray(deps)) {\n            callback = deps;\n            deps = null;\n        }\n\n        //If no name, and callback is a function, then figure out if it a\n        //CommonJS thing with dependencies.\n        if (!deps && isFunction(callback)) {\n            deps = [];\n            //Remove comments from the callback string,\n            //look for require calls, and pull them into the dependencies,\n            //but only if there are function args.\n            if (callback.length) {\n                callback\n                    .toString()\n                    .replace(commentRegExp, '')\n                    .replace(cjsRequireRegExp, function (match, dep) {\n                        deps.push(dep);\n                    });\n\n                //May be a CommonJS thing even without require calls, but still\n                //could use exports, and module. Avoid doing exports and module\n                //work though if it just needs require.\n                //REQUIRES the function to expect the CommonJS variables in the\n                //order listed below.\n                deps = (callback.length === 1 ? ['require'] : ['require', 'exports', 'module']).concat(deps);\n            }\n        }\n\n        //If in IE 6-8 and hit an anonymous define() call, do the interactive\n        //work.\n        if (useInteractive) {\n            node = currentlyAddingScript || getInteractiveScript();\n            if (node) {\n                if (!name) {\n                    name = node.getAttribute('data-requiremodule');\n                }\n                context = contexts[node.getAttribute('data-requirecontext')];\n            }\n        }\n\n        //Always save off evaluating the def call until the script onload handler.\n        //This allows multiple modules to be in a file without prematurely\n        //tracing dependencies, and allows for anonymous module support,\n        //where the module name is not known until the script onload event\n        //occurs. If no context, use the global queue, and get it processed\n        //in the onscript load callback.\n        (context ? context.defQueue : globalDefQueue).push([name, deps, callback]);\n    };\n\n    define.amd = {\n        jQuery: true\n    };\n\n\n    /**\n     * Executes the text. Normally just uses eval, but can be modified\n     * to use a better, environment-specific call. Only used for transpiling\n     * loader plugins, not for plain JS modules.\n     * @param {String} text the text to execute/evaluate.\n     */\n    req.exec = function (text) {\n        /*jslint evil: true */\n        return eval(text);\n    };\n\n    //Set up with config info.\n    req(cfg);\n}(this));\n\ndefine(\"lib/require\", function(){});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016-2017 (original work) Open Assessment Technologies SA ;\n */\n\n/**\n * Bootstrap the app, start the entry controller\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\n(function(){\n    'use strict';\n\n    var loaderScript = document.getElementById('amd-loader');\n    var configUrl = loaderScript.getAttribute('data-config');\n    var bundle  = loaderScript.getAttribute('data-bundle');\n\n    var loadController = function loadController(){\n        var started = false;\n        var controllerOptions = {};\n        var controllerPath = loaderScript.getAttribute('data-controller');\n        var params = loaderScript.getAttribute('data-params');\n        try{\n            controllerOptions = JSON.parse(params);\n        } catch(err){\n            controllerOptions = {};\n        }\n        require([controllerPath], function(controller) {\n            var startController = function startController(){\n                if(!started){\n                    started = true;\n                    controller.start(controllerOptions);\n                }\n            };\n            document.addEventListener('readystatechange', startController, false);\n            if (document.readyState === 'complete') {\n                startController();\n            }\n        });\n    };\n    require([configUrl], function() {\n        if(bundle){\n            require([bundle], loadController);\n        } else {\n            loadController();\n        }\n    });\n})();\n\ndefine(\"loader/bootstrap\", function(){});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n/**\n * This helper provides information about the current item\n *\n * @author Jean-Sbastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoQtiTest/runner/helpers/currentItem',[\n    'lodash'\n], function (_) {\n    'use strict';\n\n    /**\n     * List of QTI model cardinalities\n     * @type {Object}\n     */\n    var responseCardinalities = {\n        single: 'base',\n        multiple: 'list',\n        ordered: 'list',\n        record: 'record'\n    };\n\n    /**\n     * @typedef {currentItemHelper}\n     */\n    var currentItemHelper = {\n        /**\n         * Gets the responses declarations of the current item.\n         * @param {Object} runner - testRunner instance\n         * @returns {Object}\n         */\n        getDeclarations: function getDeclarations(runner) {\n            var itemRunner = runner.itemRunner;\n            return itemRunner._item && itemRunner._item.responses;\n        },\n\n        /**\n         * Gets a response declaration by the identifier of the response\n         * @param {Object} runner - testRunner instance\n         * @param {String} identifier - The identifier of the response\n         * @returns {Object|null}\n         */\n        getResponseDeclaration: function getResponseDeclaration(runner, identifier) {\n            var found = null;\n            _.forEach(currentItemHelper.getDeclarations(runner), function (declaration) {\n                var attributes = declaration.attributes || {};\n                if (attributes.identifier === identifier) {\n                    found = declaration;\n                    return false;\n                }\n            });\n            return found;\n        },\n\n        /**\n         * Convert a value to a response object\n         * @param {Array|String} value\n         * @param {String} baseType\n         * @param {String} cardinality\n         * @returns {Object}\n         */\n        toResponse: function toResponse(value, baseType, cardinality) {\n            var mappedCardinality = responseCardinalities[cardinality];\n            var response = {};\n\n            if (_.isString(value)) {\n                value = [value];\n            }\n\n            value = _.map(value || [], function (v) {\n                return (baseType === 'boolean') ? (v === true || v === 'true') : v;\n            });\n\n            if (mappedCardinality) {\n                if (mappedCardinality === 'base') {\n                    if (value.length === 0) {\n                        //return empty response:\n                        response.base = null;\n                    } else {\n                        response.base = {};\n                        response.base[baseType] = value[0];\n                    }\n                } else {\n                    response[mappedCardinality] = {};\n                    response[mappedCardinality][baseType] = value;\n                }\n            }\n\n            return response;\n        },\n\n        /**\n         * Checks if the provided value can be considered as null\n         * @param {Object} value\n         * @param {String} baseType\n         * @param {String} cardinality\n         * @returns {boolean}\n         */\n        isQtiValueNull: function isQtiValueNull(value, baseType, cardinality) {\n            var mappedCardinality = responseCardinalities[cardinality];\n\n            if (_.isObject(value) && value[mappedCardinality] === null) {\n                value = null;\n            }\n\n            if (_.isObject(value) && value[mappedCardinality] && 'undefined' !== typeof value[mappedCardinality][baseType]) {\n                value = value[mappedCardinality][baseType];\n            }\n\n            return null === value || ('string' === baseType && _.isEmpty(value)) || (cardinality !== 'single' && _.isEmpty(value));\n        },\n\n        /**\n         * Tells if an item question has been answered or not\n         * @param response\n         * @param baseType\n         * @param cardinality\n         * @param [defaultValue]\n         * @returns {*}\n         */\n        isQuestionAnswered: function isQuestionAnswered(response, baseType, cardinality, defaultValue) {\n            var answered;\n            defaultValue = defaultValue || null;\n            if (currentItemHelper.isQtiValueNull(response, baseType, cardinality)) {\n                answered = false;\n            } else {\n                answered = !_.isEqual(response, currentItemHelper.toResponse(defaultValue, baseType, cardinality));\n            }\n            return answered;\n        },\n\n        /**\n         * Tells is the current item has been answered or not\n         * The item is considered answered when at least one response has been set to not empty {base : null}\n         * @param {Object} runner - testRunner instance\n         * @param {Boolean} [partially = true] - if false all questions must have been answered\n         * @returns {Boolean}\n         */\n        isAnswered: function isAnswered(runner, partially) {\n            var itemRunner = runner.itemRunner;\n            var responses = itemRunner && itemRunner.getResponses();\n            var count = 0;\n            var empty = 0;\n\n            if (itemRunner) {\n                _.forEach(currentItemHelper.getDeclarations(runner), function (declaration) {\n                    var attributes = declaration.attributes || {};\n                    var response = responses[attributes.identifier];\n                    var baseType = attributes.baseType;\n                    var cardinality = attributes.cardinality;\n\n                    count++;\n                    if (!currentItemHelper.isQuestionAnswered(response, baseType, cardinality, declaration.defaultValue)) {\n                        empty++;\n                    }\n                });\n            }\n            if( partially === false ){\n                return count > 0 && empty === 0;\n            }\n            return count > 0 && empty < count;\n        }\n    };\n\n    return currentItemHelper;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sbastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoQtiTest/runner/helpers/map',[\n    'lodash'\n], function (_) {\n    'use strict';\n\n    /**\n     * Gets an empty stats record\n     * @returns {Object}\n     */\n    function getEmptyStats() {\n        return {\n            questions: 0,\n            answered: 0,\n            flagged: 0,\n            viewed: 0,\n            total: 0\n        };\n    }\n\n    /**\n     * Defines a helper that provides extractors for an assessment test map\n     */\n    return {\n        /**\n         * Gets the jumps table\n         * @param {Object} map - The assessment test map\n         * @returns {Object}\n         */\n        getJumps: function getJumps(map) {\n            return map && map.jumps;\n        },\n\n        /**\n         * Gets the parts table\n         * @param {Object} map - The assessment test map\n         * @returns {Object}\n         */\n        getParts: function getParts(map) {\n            return map && map.parts;\n        },\n\n        /**\n         * Get sections table\n         * @param {Object} map - The assessment test map\n         * @returns {Object} the sections\n         */\n        getSections: function getSections(map) {\n            var parts = this.getParts(map),\n                result = {};\n\n            _.forEach(parts, function (part) {\n                var sections = part.sections;\n                if (sections) {\n                    _.forEach(sections, function (section) {\n                        result[section.id] = section;\n                    });\n                }\n            });\n            return result;\n        },\n\n        /**\n         * Gets the jump at a particular position\n         * @param {Object} map - The assessment test map\n         * @param {Number} position - The position of the item\n         * @returns {Object}\n         */\n        getJump: function getJump(map, position) {\n            var jumps = this.getJumps(map);\n            return jumps && jumps[position];\n        },\n\n        /**\n         * Gets a test part by its identifier\n         * @param {Object} map - The assessment test map\n         * @param {String} partName - The identifier of the test part\n         * @returns {Object}\n         */\n        getPart: function getPart(map, partName) {\n            var parts = this.getParts(map);\n            return parts && parts[partName];\n        },\n\n        /**\n         * Gets a test section by its identifier\n         * @param {Object} map - The assessment test map\n         * @param {String} sectionName - The identifier of the test section\n         * @returns {Object}\n         */\n        getSection: function getSection(map, sectionName) {\n            var parts = this.getParts(map);\n            var section = null;\n            _.forEach(parts, function (part) {\n                var sections = part.sections;\n                if (sections && sections[sectionName]) {\n                    section = sections[sectionName];\n                    return false;\n                }\n            });\n            return section;\n        },\n\n        /**\n         * Gets a test item by its identifier\n         * @param {Object} map - The assessment test map\n         * @param {String} itemName - The identifier of the test item\n         * @returns {Object}\n         */\n        getItem: function getItem(map, itemName) {\n            var jump = _.find(this.getJumps(map), {identifier: itemName});\n            return this.getItemAt(map, jump && jump.position);\n        },\n\n        /**\n         * Gets the global stats of the assessment test\n         * @param {Object} map - The assessment test map\n         * @returns {Object}\n         */\n        getTestStats: function getTestStats(map) {\n            return map && map.stats;\n        },\n\n        /**\n         * Gets the stats of the test part containing a particular position\n         * @param {Object} map - The assessment test map\n         * @param {String} partName - The identifier of the test part\n         * @returns {Object}\n         */\n        getPartStats: function getPartStats(map, partName) {\n            var part = this.getPart(map, partName);\n            return part && part.stats;\n        },\n\n        /**\n         * Gets the stats of the test section containing a particular position\n         * @param {Object} map - The assessment test map\n         * @param {String} sectionName - The identifier of the test section\n         * @returns {Object}\n         */\n        getSectionStats: function getSectionStats(map, sectionName) {\n            var section = this.getSection(map, sectionName);\n            return section && section.stats;\n        },\n\n        /**\n         * Gets the stats related to a particular scope\n         * @param {Object} map - The assessment test map\n         * @param {Number} position - The current position\n         * @param {String} [scope] - The name of the scope. Can be: test, part, section (default: test)\n         * @returns {Object}\n         */\n        getScopeStats: function getScopeStats(map, position, scope) {\n            var jump = this.getJump(map, position);\n            switch (scope) {\n                case 'section':\n                case 'testSection':\n                    return this.getSectionStats(map, jump && jump.section);\n\n                case 'part':\n                case 'testPart':\n                    return this.getPartStats(map, jump && jump.part);\n\n                default:\n                case 'test':\n                    return this.getTestStats(map);\n            }\n        },\n\n        /**\n         * Gets the map of a particular scope from a particular position\n         * @param {Object} map - The assessment test map\n         * @param {Number} position - The current position\n         * @param {String} [scope] - The name of the scope. Can be: test, part, section (default: test)\n         * @returns {object} The scoped map\n         */\n        getScopeMap: function getScopeMap(map, position, scope) {\n            // need a clone of the map as we will change some properties\n            var scopeMap = _.cloneDeep(map || {});\n\n            // gets the current part and section\n            var jump = this.getJump(map, position);\n            var part = this.getPart(scopeMap, jump && jump.part);\n            var section = this.getSection(scopeMap, jump && jump.section);\n\n            // reduce the map to the scope part\n            if (scope && scope !== 'test') {\n                scopeMap.parts = {};\n                if (part) {\n                    scopeMap.parts[jump.part] = part;\n                }\n            }\n\n            // reduce the map to the scope section\n            if (part && (scope === 'section' || scope === 'testSection')) {\n                part.sections = {};\n                if (section) {\n                    part.sections[jump.section] = section;\n                }\n            }\n\n            // update the stats to reflect the scope\n            if (section) {\n                section.stats = this.computeItemStats(section.items);\n            }\n            if (part) {\n                part.stats = this.computeStats(part.sections);\n            }\n            scopeMap.stats = this.computeStats(scopeMap.parts);\n\n            return scopeMap;\n        },\n\n        /**\n         * Gets the map of a particular scope from a current context\n         * @param {Object} map - The assessment test map\n         * @param {Object} context - The current session context\n         * @param {String} [scope] - The name of the scope. Can be: test, part, section (default: test)\n         * @returns {object} The scoped map\n         */\n        getScopeMapFromContext: function getScopeMapFromContext(map, context, scope) {\n            // need a clone of the map as we will change some properties\n            var scopeMap = _.cloneDeep(map || {});\n            var part;\n            var section;\n\n            // gets the current part and section\n            if (context && context.testPartId) {\n                part = this.getPart(scopeMap, context.testPartId);\n            }\n            if (context && context.sectionId) {\n                section = this.getSection(scopeMap, context.sectionId);\n            }\n\n            // reduce the map to the scope part\n            if (scope && scope !== 'test') {\n                scopeMap.parts = {};\n                if (part) {\n                    scopeMap.parts[context.testPartId] = part;\n                }\n            }\n\n            // reduce the map to the scope section\n            if (part && (scope === 'section' || scope === 'testSection')) {\n                part.sections = {};\n                if (section) {\n                    part.sections[context.sectionId] = section;\n                }\n            }\n\n            // update the stats to reflect the scope\n            if (section) {\n                section.stats = this.computeItemStats(section.items);\n            }\n            if (part) {\n                part.stats = this.computeStats(part.sections);\n            }\n            scopeMap.stats = this.computeStats(scopeMap.parts);\n\n            return scopeMap;\n        },\n\n        /**\n         * Gets the test part containing a particular position\n         * @param {Object} map - The assessment test map\n         * @param {Number} position - The position of the item\n         * @returns {Object}\n         */\n        getItemPart: function getItemPart(map, position) {\n            var jump = this.getJump(map, position);\n            return this.getPart(map, jump && jump.part);\n        },\n\n        /**\n         * Gets the test section containing a particular position\n         * @param {Object} map - The assessment test map\n         * @param {Number} position - The position of the item\n         * @returns {Object}\n         */\n        getItemSection: function getItemSection(map, position) {\n            var jump = this.getJump(map, position);\n            var part = this.getPart(map, jump && jump.part);\n            var sections = part && part.sections;\n            return sections && sections[jump && jump.section];\n        },\n\n        /**\n         * Gets the item located at a particular position\n         * @param {Object} map - The assessment test map\n         * @param {Number} position - The position of the item\n         * @returns {Object}\n         */\n        getItemAt: function getItemAt(map, position) {\n            var jump = this.getJump(map, position);\n            var part = this.getPart(map, jump && jump.part);\n            var sections = part && part.sections;\n            var section = sections && sections[jump && jump.section];\n            var items = section && section.items;\n            return items && items[jump && jump.identifier];\n        },\n\n        /**\n         * Gets the identifier of an existing item\n         * @param {Object} map - The assessment test map\n         * @param {Number|String} position - The position of the item, can already be the identifier\n         * @returns {String}\n         */\n        getItemIdentifier: function getItemIdentifier(map, position) {\n            var item;\n            if (_.isFinite(position)) {\n                item = this.getItemAt(map, position);\n            } else {\n                item = this.getItem(map, position);\n            }\n            return item && item.id;\n        },\n\n        /**\n         * Applies a callback on each item of the provided map\n         * @param {Object} map - The assessment test map\n         * @param {Function} callback(item, section, part, map) - A callback to apply on each item\n         * @returns {Object}\n         */\n        each: function each(map, callback) {\n            if (_.isFunction(callback)) {\n                _.forEach(map && map.parts, function(part) {\n                    _.forEach(part && part.sections, function(section) {\n                        _.forEach(section && section.items, function(item) {\n                            callback(item, section, part, map);\n                        });\n                    });\n                });\n            }\n            return map;\n        },\n\n        /**\n         * Update the map stats from a particular item\n         * @param {Object} map - The assessment test map\n         * @param {Number} position - The position of the item\n         * @returns {Object}\n         */\n        updateItemStats: function updateItemStats(map, position) {\n            var jump = this.getJump(map, position);\n            var part = this.getPart(map, jump && jump.part);\n            var sections = part && part.sections;\n            var section = sections && sections[jump && jump.section];\n\n            if (section) {\n                section.stats = this.computeItemStats(section.items);\n            }\n            if (part) {\n                part.stats = this.computeStats(part.sections);\n            }\n            if (map) {\n                map.stats = this.computeStats(map.parts);\n            }\n\n            return map;\n        },\n\n        /**\n         * Computes the stats for a list of items\n         * @param {Object} items\n         * @returns {Object}\n         */\n        computeItemStats: function computeItemStats(items) {\n            return _.reduce(items, function accStats(acc, item) {\n                if (!item.informational) {\n                    acc.questions++;\n                }\n                if (item.answered) {\n                    acc.answered++;\n                }\n                if (item.flagged) {\n                    acc.flagged++;\n                }\n                if (item.viewed) {\n                    acc.viewed++;\n                }\n                acc.total++;\n                return acc;\n            }, getEmptyStats());\n        },\n\n        /**\n         * Computes the global stats of a collection of stats\n         * @param {Object} collection\n         * @returns {Object}\n         */\n        computeStats: function computeStats(collection) {\n            return _.reduce(collection, function accStats(acc, item) {\n                acc.questions += item.stats.questions;\n                acc.answered += item.stats.answered;\n                acc.flagged += item.stats.flagged;\n                acc.viewed += item.stats.viewed;\n                acc.total += item.stats.total;\n                return acc;\n            }, getEmptyStats());\n        },\n\n        /**\n         * Patch a testMap with a partial testMap.\n         *\n         * If the currentMap is null or the scope is test,\n         * we just use the partialMap as it is.\n         *\n         * Indexes, position and stats will be (re)built.\n         *\n         * @param {Object} currentMap - the map to patch\n         * @param {Object} partialMap - the patch\n         * @param {String} partialMap.scope - indicate the scope of the patch (test, part or section)\n         * @returns {Object} the patched testMap\n         * @throws {TypeError} if the partialMap is no a map\n         */\n        patch : function patch(currentMap, partialMap) {\n            var self = this;\n            var targetMap;\n\n            if(!_.isPlainObject(partialMap) || !partialMap.parts) {\n                throw new TypeError('Invalid test map format');\n            }\n\n            if(!currentMap || partialMap.scope === 'test'){\n                targetMap = _.cloneDeep(partialMap);\n            } else {\n\n                targetMap = _.cloneDeep(currentMap);\n\n                _.forEach(partialMap.parts, function(partialPart, targetPartId){\n                    if (partialMap.scope === 'part') {\n                        //replace the target part\n                        targetMap.parts[targetPartId] = _.cloneDeep(partialPart);\n                    }\n                    if (partialMap.scope === 'section') {\n                        _.forEach(partialPart.sections, function(partialSection, targetSectionId){\n                            //replace the target section\n                            targetMap.parts[targetPartId].sections[targetSectionId] = _.cloneDeep(partialSection);\n\n                            //compte new section stats\n                            targetMap.parts[targetPartId].sections[targetSectionId].stats = self.computeItemStats(targetMap.parts[targetPartId].sections[targetSectionId].items);\n                        });\n                    }\n                    //compte new/updated part stats\n                    targetMap.parts[targetPartId].stats = self.computeStats(targetMap.parts[targetPartId].sections);\n                });\n                //compte updated test stats\n                targetMap.stats = this.computeStats(targetMap.parts);\n            }\n\n            //the updated map can have a different size than the original\n            targetMap = this.reindex(targetMap);\n\n            return targetMap;\n        },\n\n        /**\n         * Rebuild the indexes, positions of all map parts.\n         * Then recreate the jump table.\n         *\n         * @param {Object} map - the map to reindex\n         * @returns {Object} the brand new map\n         * @throws {TypeError} if the map is no a map\n         */\n        reindex : function reindex(map){\n            var offset        = 0;\n            var offsetPart    = 0;\n            var offsetSection = 0;\n            var lastPartId;\n            var lastSectionId;\n\n            if(!_.isPlainObject(map) || !map.parts) {\n                throw new TypeError('Invalid test map format');\n            }\n\n            //remove the jump table\n            map.jumps = [];\n\n            //browse the test map, by position\n            _.sortBy(map && map.parts, 'position').forEach(function(part) {\n                _.sortBy(part && part.sections, 'position').forEach(function(section) {\n                    _.sortBy(section && section.items, 'position').forEach(function(item) {\n\n                        if(lastPartId !== part.id){\n                            offsetPart = 0;\n                            lastPartId = part.id;\n                            part.position = offset;\n                        }\n                        if(lastSectionId !== section.id){\n                            offsetSection = 0;\n                            lastSectionId = section.id;\n                            section.position = offset;\n                        }\n                        item.position = offset;\n                        item.index    = offsetSection + 1;\n                        item.positionInPart = offsetPart;\n                        item.positionInSection = offsetSection;\n\n                        map.jumps[offset] = {\n                            identifier : item.id,\n                            section    : section.id ,\n                            part       : part.id,\n                            position   : offset\n                        };\n\n                        offset++;\n                        offsetSection++;\n                        offsetPart++;\n                    });\n                });\n            });\n\n            return map;\n        },\n\n        /**\n         * Create the jump table for a test map\n         *\n         * @param {Object} map - the map\n         * @returns {Object} the brand new map with a jump table\n         * @throws {TypeError} if the map is no a map\n         */\n        createJumpTable : function createJumpTable(map){\n\n            if(!_.isPlainObject(map) || !map.parts) {\n                throw new TypeError('Invalid test map format');\n            }\n\n            map.jumps = [];\n\n            this.each(map, function (item, section, part){\n                var offset = item.position;\n                map.jumps[offset] = {\n                    identifier : item.id,\n                    section    : section.id ,\n                    part       : part.id,\n                    position   : offset\n                };\n            });\n\n            return map;\n        }\n    };\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 (original work) Open Assessment Technologies SA ;\n */\n/**\n * This helper provides information about the test navigation\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/runner/helpers/navigation',[\n    'lodash',\n    'taoQtiTest/runner/helpers/map'\n], function (_, mapHelper) {\n    'use strict';\n\n    /**\n     * @typedef {Object} navigationHelper\n     */\n    var navigationHelper = {\n\n        /**\n         * Check whether the test taker is leaving a section\n         *\n         * @param {Object} testContext - the actual test context\n         * @param {String} testContext.itemIdentifier - the id of the current item\n         * @param {String} testContext.sectionId - the id of the current section\n         * @param {Object} testMap - the actual test map\n         * @param {String} direction - the move direction (next, previous or jump)\n         * @param {String} scope - the move scope (item, section, testPart)\n         * @param {Number} [position] - the position in case of jump\n         * @returns {Boolean} true if the action leads to a section leave\n         * @throws {TypeError} if the context or the map are incorrect\n         */\n        isLeavingSection : function isLeavingSection(testContext, testMap, direction, scope, position){\n            var section;\n            var sectionStats;\n            var nbItems;\n            var item;\n            if( _.isPlainObject(testContext) && _.isPlainObject(testMap) &&\n                !_.isEmpty(testContext.sectionId) && !_.isEmpty(testContext.itemIdentifier) ){\n\n                section = mapHelper.getSection(testMap, testContext.sectionId);\n                sectionStats = mapHelper.getSectionStats(testMap, testContext.sectionId);\n                nbItems = sectionStats && sectionStats.total;\n                item = mapHelper.getItem(testMap, testContext.itemIdentifier);\n\n                return  scope === 'section' ||\n                        scope === 'testPart'||\n                        (direction === 'next' && item.positionInSection + 1 === nbItems) ||\n                    (direction === 'previous' && item.positionInSection === 0) ||\n                    (direction === 'jump' && position > 0 && (position < section.position || position >= section.position + nbItems));\n            }\n            throw new TypeError('Invalid test context and test map');\n        },\n\n        /**\n         * Check whether the test taker is leaving a test part\n         *\n         * @param {Object} testContext - the actual test context\n         * @param {String} testContext.itemIdentifier - the id of the current item\n         * @param {String} testContext.sectionId - the id of the current section\n         * @param {String} testContext.testPartId - the id of the current testPart\n         * @param {Object} testMap - the actual test map\n         * @param {String} direction - the move direction (next, previous or jump)\n         * @param {String} scope - the move scope (item, section, testPart)\n         * @param {Number} [position] - the position in case of jump\n         * @returns {Boolean} true if the action leads to a section leave\n         * @throws {TypeError} if the context or the map are incorrect\n         */\n        isLeavingTestPart : function isLeavingTestPart(testContext, testMap, direction, scope, position){\n            var testPart;\n            var testPartStats;\n            var nbItems;\n            var item;\n            var section;\n            var sectionStats;\n            if( _.isPlainObject(testContext) && _.isPlainObject(testMap) &&\n               !_.isEmpty(testContext.testPartId) && !_.isEmpty(testContext.sectionId) && !_.isEmpty(testContext.itemIdentifier) ){\n\n                testPart      = mapHelper.getPart(testMap, testContext.testPartId);\n                testPartStats = mapHelper.getPartStats(testMap, testContext.testPartId);\n                nbItems       = testPartStats && testPartStats.total;\n                item          = mapHelper.getItem(testMap, testContext.itemIdentifier);\n\n                if(scope === 'section'){\n                    section = mapHelper.getSection(testMap, testContext.sectionId);\n                    sectionStats = mapHelper.getSectionStats(testMap, testContext.sectionId);\n                }\n\n                return  scope === 'testPart'||\n                        (direction === 'next' && scope === 'item' && item.positionInPart + 1 === nbItems) ||\n                        (direction === 'next' && scope === 'section' && section.position + sectionStats.total >= nbItems) ||\n                        (direction === 'previous' && scope === 'item' && item.positionInPart === 0) ||\n                        (direction === 'previous' && scope === 'section' && section.position === testPart.position) ||\n                        (direction === 'jump' && position > 0 && (position < testPart.position || position >=  testPart.position + nbItems));\n            }\n            throw new TypeError('Invalid test context and test map');\n        },\n\n        /**\n         * Check if the given  item is the last of the test\n         * @param {Object} testMap - the test map\n         * @param {String} itemIdentifier - the identifier of the item\n         * @returns {Boolean} true if the item is the last one\n         */\n        isLast : function isLast(testMap, itemIdentifier){\n            return this.isLastOf(testMap, itemIdentifier, 'test');\n        },\n\n        /**\n         * Check if the given  item is the first of a test\n         * @param {Object} testMap - the test map\n         * @param {String} itemIdentifier - the identifier of the item\n         * @returns {Boolean} true if the item is the first one\n         */\n        isFirst : function isFirst(testMap, itemIdentifier){\n            return this.isFirstOf(testMap, itemIdentifier, 'test');\n        },\n\n        /**\n         * Check if the given  item is the last of a the given scope\n         * @param {Object} testMap - the test map\n         * @param {String} itemIdentifier - the identifier of the item\n         * @param {String} [scope = 'test'] - the target scope\n         * @returns {Boolean} true if the item is the last one\n         */\n        isLastOf : function isLastOf(testMap, itemIdentifier, scope){\n            var item;\n            var stats;\n            if ( ! _.isPlainObject(testMap) ) {\n                throw new TypeError('Invalid test map');\n            }\n            if (_.isEmpty(itemIdentifier)) {\n                throw new TypeError('Invalid item identifier');\n            }\n            scope = scope || 'test';\n            item  = mapHelper.getItem(testMap, itemIdentifier);\n            stats = mapHelper.getScopeStats(testMap, item.position, scope);\n            if (stats && _.isNumber(stats.total)) {\n                if (scope === 'test') {\n                    return item.position + 1  === stats.total;\n                }\n                if (scope === 'section' || scope === 'assessmentSection' || scope === 'testSection') {\n                    return item.positionInSection + 1 === stats.total;\n                }\n                if (scope === 'part' || scope === 'testPart') {\n                    return item.positionInPart + 1 === stats.total;\n                }\n            }\n\n            return false;\n        },\n\n        /**\n         * Check if the given  item is the first of a the given scope\n         * @param {Object} testMap - the test map\n         * @param {String} itemIdentifier - the identifier of the item\n         * @param {String} [scope = 'test'] - the target scope\n         * @returns {Boolean} true if the item is the first one\n         */\n        isFirstOf : function isFirstOf(testMap, itemIdentifier, scope){\n            var item;\n            if (! _.isPlainObject(testMap)) {\n                throw new TypeError('Invalid test map');\n            }\n            if (_.isEmpty(itemIdentifier)) {\n                throw new TypeError('Invalid item identifier');\n            }\n            scope = scope || 'test';\n            item  = mapHelper.getItem(testMap, itemIdentifier);\n\n            if (scope === 'test') {\n                return item.position  === 0;\n            }\n            if (scope === 'section' || scope === 'assessmentSection' || scope === 'testSection') {\n                return item.positionInSection === 0;\n            }\n            if (scope === 'part' || scope === 'testPart') {\n                return item.positionInPart === 0;\n            }\n\n            return false;\n        },\n\n        /**\n         * Gets the map descriptors of the sibling items\n         * @param {Object} testMap\n         * @param {Number|String} itemPosition - (could be also the item id)\n         * @param {String} [direction='both'] - previous/next/both\n         * @param {Number} [size=3] - will be 2xsize if direction is both\n         * @returns {Object[]} the collections of items\n         */\n        getSiblingItems: function getSiblingItems(testMap, itemPosition, direction, size) {\n            var itemId = mapHelper.getItemIdentifier(testMap,  itemPosition);\n            var previous = null;\n            var siblings = [];\n            var directions;\n\n            var itemChain = _.reduce(testMap && testMap.jumps, function (map, jump) {\n                var ref = jump.identifier;\n                if (previous) {\n                    map[previous].next = ref;\n                }\n                map[ref] = {\n                    identifier: ref,\n                    previous: previous,\n                    next: null\n                };\n                previous = ref;\n                return map;\n            }, {});\n\n            size = _.isFinite(size) ? parseInt(size, 10) : 3;\n            if (!direction || direction === 'both') {\n                directions = ['previous', 'next'];\n            } else {\n                directions = [direction];\n            }\n\n            _.forEach(directions, function walkDirection(link) {\n                var id = itemId;\n                _.times(size, function getNeighbor() {\n                    id = itemChain[id] && itemChain[id][link];\n                    if (id) {\n                        siblings.push(mapHelper.getItem(testMap, id));\n                    } else {\n                        return false;\n                    }\n                });\n            });\n\n            return siblings;\n        },\n\n\n        /**\n         * Gets the map descriptor of the next item\n         * @param {Object} testMap\n         * @param {Number|String} itemPosition - (could be also the item id)\n         * @returns {Object}\n         */\n        getNextItem : function getNextItem(testMap, itemPosition) {\n            var siblings = navigationHelper.getSiblingItems(testMap, itemPosition, 'next', 1);\n            if (siblings.length) {\n                return siblings[0];\n            }\n            return null;\n        },\n\n        /**\n         * Gets the map descriptor of the previous item\n         * @param {Object} testMap\n         * @param {Number|String} itemPosition - (could be also the item id)\n         * @returns {Object}\n         */\n        getPreviousItem : function getPreviousItem(testMap, itemPosition) {\n            var siblings = navigationHelper.getSiblingItems(testMap, itemPosition, 'previous', 1);\n            if (siblings.length) {\n                return siblings[0];\n            }\n            return null;\n        },\n\n        /**\n         * Checks if an action will move forward.\n         * @param {String} action - the name of the action that will be performed\n         * @param {Object} [params] - some optional parameters that apply to the action\n         * @returns {Boolean}\n         */\n        isMovingToNextItem : function isMovingToNextItem(action, params) {\n            params = params || {};\n            return (\n                action === 'timeout' ||\n                action === 'skip' ||\n                (action === 'move' && params.direction === 'next' && params.scope === 'item')\n            );\n        },\n\n        /**\n         * Checks if an action will move backward.\n         * @param {String} action - the name of the action that will be performed\n         * @param {Object} [params] - some optional parameters that apply to the action\n         * @returns {Boolean}\n         */\n        isMovingToPreviousItem : function isMovingToPreviousItem(action, params) {\n            params = params || {};\n            return (\n                action === 'move' && params.direction === 'previous' && params.scope === 'item'\n            );\n        },\n\n        /**\n         * Checks if an action will jump on another item.\n         * @param {String} action - the name of the action that will be performed\n         * @param {Object} [params] - some optional parameters that apply to the action\n         * @returns {Boolean}\n         */\n        isJumpingToItem : function isJumpingToItem(action, params) {\n            params = params || {};\n            return (\n                action === 'move' && params.direction === 'jump' && params.scope === 'item'\n            );\n        }\n\n    };\n\n    return navigationHelper;\n});\n\n","\ndefine('tpl!taoQtiTest/runner/plugins/templates/button', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \" \";\n  if (helper = helpers.className) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.className); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1);\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"<span class=\\\"icon icon-\";\n  if (helper = helpers.icon) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.icon); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1);\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.text), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\"></span>\";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  \n  return \" no-label\";\n  }\n\nfunction program6(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"<span class=\\\"text\\\">\";\n  if (helper = helpers.text) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.text); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\";\n  return buffer;\n  }\n\n  buffer += \"<li data-control=\\\"\";\n  if (helper = helpers.control) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.control); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"small btn-info action\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.className), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" title=\\\"\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n    <a class=\\\"li-inner\\\" href=\\\"#\\\">\\n        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.icon), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.text), {hash:{},inverse:self.noop,fn:self.program(6, program6, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </a>\\n</li>\\n\";\n  return buffer;\n  });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 (original work) Open Assessment Technologies SA;\n */\n/**\n * This factory creates a component to be used as a toolbox entry\n * This component will then be rendered either:\n * - as a menu entry, if given a menuId that matches an existing menu\n * - as a standalone button otherwise\n *\n * Do not instanciate directly, but use the relevant toolbox method:\n * toolbox.createEntry({\n *      control: 'item-id',\n *      title: __('Html title'),\n *      icon: 'icon',\n *      text: __('Displayed label')\n * });\n *\n * @author Christophe Nol <christophe@taotesting.com>\n */\ndefine('taoQtiTest/runner/ui/toolbox/entry',[\n    'lodash',\n    'ui/component',\n    'tpl!taoQtiTest/runner/plugins/templates/button'\n], function(_, componentFactory, entryTpl) {\n    'use strict';\n\n    var itemComponentApi = {\n        /**\n         * Initialise the item\n         */\n        initItem: function initItem() {\n            this.id = this.config.control;\n            this.menu = null;\n        },\n\n        /**\n         * Get the type of the component\n         */\n        getType: function getType() {\n            return 'entry';\n        },\n\n        /**\n         * Get the item Id\n         * @returns {String}\n         */\n        getId: function getId() {\n            return this.id;\n        },\n\n        /**\n         * Set the menu to whom the item belong\n         * @param {String} menuId\n         * @returns {String}\n         */\n        setMenuId: function setMenuId(menuId) {\n            this.menuId = menuId;\n        },\n\n        /**\n         * Get the id of the menu to whom the item belong\n         * @returns {String}\n         */\n        getMenuId: function getMenuId() {\n            return this.menuId;\n        },\n\n        /**\n         * Set the item as active. For example, if it opens a tool,\n         * the item should be represented 'on' as long as the tool remains opened\n         */\n        turnOn: function turnOn() {\n            this.setState('active', true);\n        },\n\n        /**\n         * Set the item as inactive\n         */\n        turnOff: function turnOff() {\n            this.setState('active', false);\n        },\n\n        /**\n         * Set the item as hovered, whether by the mouse or by keyboard navigation\n         */\n        hoverOn: function hoverOn() {\n            this.setState('hover', true);\n        },\n\n        /**\n         * Turn off the hovered style\n         */\n        hoverOff: function hoverOff() {\n            this.setState('hover', false);\n        }\n    };\n\n    /**\n     * The item factory\n     */\n    return function itemComponentFactory(specs, defaults) {\n        var itemComponent;\n\n        specs = _.defaults(specs || {}, itemComponentApi);\n\n        itemComponent = componentFactory(specs, defaults)\n            .setTemplate(entryTpl)\n            .on('enable', function() {\n                if (this.is('rendered')) {\n                    this.$component.removeProp('disabled');\n                }\n            })\n            .on('disable', function() {\n                if (this.is('rendered')) {\n                    this.$component.prop('disabled', true);\n                    this.turnOff();\n                }\n            })\n            .on('init', function () {\n                this.initItem();\n            })\n            .on('render', function() {\n                var self = this;\n\n                this.disable(); // we always render disabled by default\n\n                // forward DOM events to the component object\n                this.$component\n                    .on('mousedown', function(event) {\n                        self.trigger('mousedown', event);\n                    })\n                    .on('click', function(event) {\n                        self.trigger('click', event);\n                    });\n            });\n\n        return itemComponent;\n    };\n});\n","\ndefine('tpl!taoQtiTest/runner/ui/toolbox/templates/menu', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \" \";\n  if (helper = helpers.className) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.className); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1);\n  return buffer;\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"<span class=\\\"icon icon-\";\n  if (helper = helpers.icon) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.icon); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1);\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.text), {hash:{},inverse:self.noop,fn:self.program(4, program4, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\"></span>\";\n  return buffer;\n  }\nfunction program4(depth0,data) {\n  \n  \n  return \" no-label\";\n  }\n\nfunction program6(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"<span class=\\\"text\\\">\";\n  if (helper = helpers.text) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.text); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\";\n  return buffer;\n  }\n\n  buffer += \"<li data-control=\\\"\";\n  if (helper = helpers.control) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.control); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"small btn-info action \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.className), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" title=\\\"\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n    <a class=\\\"li-inner\\\" data-control=\\\"\";\n  if (helper = helpers.control) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.control); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"-button\\\" href=\\\"#\\\">\\n        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.icon), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.text), {hash:{},inverse:self.noop,fn:self.program(6, program6, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        &nbsp; <span class=\\\"icon icon-up\\\"></span>\\n    </a>\\n    <div data-control=\\\"\";\n  if (helper = helpers.control) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.control); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"-menu\\\" class=\\\"hidden \";\n  if (helper = helpers.control) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.control); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"-menu\\\" tabindex=\\\"1\\\">\\n        <ul data-control=\\\"\";\n  if (helper = helpers.control) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.control); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"-list\\\" class=\\\"menu \";\n  if (helper = helpers.control) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.control); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"-list\\\"></ul>\\n    </div>\\n</li>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/runner/ui/toolbox/templates/menu-item', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \" \";\n  if (helper = helpers.className) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.className); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1);\n  return buffer;\n  }\n\n  buffer += \"<li class=\\\"small action menu-item \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.className), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" data-control=\\\"\";\n  if (helper = helpers.control) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.control); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n    <a class=\\\"li-inner menu-inner\\\">\\n        <span class=\\\"icon icon-checkbox\\\"></span><span class=\\\"icon icon-checkbox-checked\\\"></span>\\n        <span class=\\\"label\\\">\";\n  if (helper = helpers.text) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.text); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n    </a>\\n</li>\";\n  return buffer;\n  });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 (original work) Open Assessment Technologies SA;\n */\n/**\n * This factory creates a component that allows to create a toolbox menu.\n * It contains both the menu button and the menu itself.\n * Entries have to be added manually by the addItem() method.\n *\n * Do not instanciate directly, but use the relevant toolbox method:\n * toolbox.createMenu({\n *      control: 'menu-id',\n *      title: __('Html title'),\n *      icon: 'icon',\n *      text: __('Displayed label')\n * });\n *\n * @author Christophe Nol <christophe@taotesting.com>\n */\ndefine('taoQtiTest/runner/ui/toolbox/menu',[\n    'jquery',\n    'lodash',\n    'ui/component',\n    'ui/hider',\n    'ui/stacker',\n    'util/shortcut',\n    'util/namespace',\n    'tpl!taoQtiTest/runner/ui/toolbox/templates/menu',\n    'tpl!taoQtiTest/runner/ui/toolbox/templates/menu-item'\n], function($, _, componentFactory, hider, stackerFactory, shortcut, namespaceHelper, menuTpl, menuItemTpl) {\n    'use strict';\n\n    var keyCodes = {\n        ENTER: 13,\n        SPACE: 32,\n        LEFT:  37,\n        UP:    38,\n        RIGHT: 39,\n        DOWN:  40\n    };\n\n    var stacker = stackerFactory('test-runner');\n\n    var menuComponentApi = {\n        /**\n         * Initialise the menu\n         */\n        initMenu: function initMenu() {\n            this.id = this.config.control;\n            this.menuItems = [];\n        },\n\n        /**\n         * Get the type of the component\n         */\n        getType: function getType() {\n            return 'menu';\n        },\n\n        /**\n         * Get the menu Id\n         * @returns {String}\n         */\n        getId: function getId() {\n            return this.id;\n        },\n\n        /**\n         * Set the menu as active, essentially meaning that the menu panel is opened\n         */\n        turnOn: function turnOn() {\n            this.setState('active', true);\n        },\n\n        /**\n         * Set the menu as inactive\n         */\n        turnOff: function turnOff() {\n            this.setState('active', false);\n        },\n\n\n        /**\n         * =====================\n         * Actions on menu panel\n         * =====================\n         */\n\n\n        /**\n         * open/close the menu\n         */\n        toggleMenu: function showMenu() {\n            if (! this.is('disabled')) {\n                if (this.is('opened')) {\n                    this.closeMenu();\n                } else {\n                    this.openMenu();\n                }\n            }\n        },\n\n        /**\n         * open the menu\n         */\n        openMenu: function openMenu()  {\n            // show the DOM element\n            hider.show(this.$menuContainer);\n            stacker.bringToFront(this.$menuContent);\n\n            // change the menu button icon\n            this.$menuStateIcon.removeClass('icon-up');\n            this.$menuStateIcon.addClass('icon-down');\n\n            // turn on the menu button\n            this.turnOn();\n\n            // setup keyboard navigation & highlighting\n            this.enableShortcuts();\n            this.hoverOffAll();\n            this.hoverIndex = this.menuItems.length; // we start on the button, not at the max array index\n                                                     // which would be menuItems.length-1\n\n            // focus the button, for keyboard navigation\n            if(document.activeElement){\n                document.activeElement.blur();\n            }\n            this.$menuContainer.focus();\n\n            // component inner state\n            this.setState('opened', true);\n            this.trigger('openmenu', this);\n        },\n\n        /**\n         * close the menu\n         */\n        closeMenu: function closeMenu() {\n            // hide the DOM element\n            hider.hide(this.$menuContainer);\n\n            // change the menu button icon\n            this.$menuStateIcon.removeClass('icon-down');\n            this.$menuStateIcon.addClass('icon-up');\n\n            // turn off the button\n            this.turnOff();\n\n            // disable keyboard navigation & highlighting\n            this.disableShortcuts();\n            this.hoverOffAll();\n\n            // component inner state\n            this.setState('opened', false);\n            this.trigger('closemenu', this);\n        },\n\n\n        /**\n         * =====================\n         * Actions on menu items\n         * =====================\n         */\n\n\n        /**\n         * Look for a item in the internal item registry\n         * @param {String} itemId\n         * @returns {Object|undefined}\n         */\n        getItemById: function getItemById(itemId) {\n            return _.find(this.menuItems, function(item) {\n                return item.getId() === itemId;\n            });\n        },\n\n        /**\n         * Adds an item to the menu\n         * @param {Component} item\n         */\n        addItem: function addItem(item) {\n            if (item) {\n                this.menuItems.push(item);\n            }\n        },\n\n        /**\n         * Render menu items into the menu panel\n         */\n        renderItems: function renderItems() {\n            var self = this;\n            this.menuItems.forEach(function (item) {\n                item.setTemplate(menuItemTpl);  // the item has been created as generic. Let's give him now the menu entry template\n                item.render(self.$menuContent);\n                item.enable();\n            });\n\n            // bind mouse behavior on menu items\n            this.$menuItems = this.$menuContent.find('.menu-item');\n\n            this.$menuItems.on('mouseenter', function highlightHoveredEntry(e) {\n                var itemId = e.currentTarget.getAttribute('data-control');\n                self.mouseOverItem(itemId);\n            });\n        },\n\n        /**\n         * Highlight the currently hovered item\n         * @param {String} itemId\n         */\n        mouseOverItem: function mouseOverItem(itemId) {\n            var self = this;\n\n            // look for item index\n            this.menuItems.forEach(function (item, index) {\n                if (item.id === itemId) {\n                    self.hoverIndex = index;\n                }\n            });\n            this.hoverItem(itemId);\n        },\n\n        /**\n         * Check that the menu has at least one of its entries displayed\n         * @returns {boolean}\n         */\n        hasDisplayedItems: function hasDisplayedItems() {\n            return this.menuItems.some(function (item) {\n                return !item.is('disabled') && !item.is('hidden');\n            });\n        },\n\n        /**\n         * Set all entries in the menu to inactive\n         */\n        turnOffAll: function turnOffAll() {\n            this.menuItems.forEach(function (current) {\n                current.turnOff();\n            });\n        },\n\n\n        /**\n         * =====================\n         * Menu items navigation\n         * =====================\n         */\n\n\n        /**\n         * register the event handlers for keyboard navigation\n         */\n        enableShortcuts: function enableShortcuts() {\n            var self = this;\n\n            this.$menuContainer.on('keydown.menuNavigation', function (e) {\n                var currentKeyCode = e.keyCode ? e.keyCode : e.charCode;\n\n                e.preventDefault();\n\n                switch (currentKeyCode) {\n                    case keyCodes.SPACE:\n                    case keyCodes.ENTER: self.triggerHighlightedItem(); e.stopPropagation(); break;\n                    case keyCodes.LEFT:\n                    case keyCodes.UP:    self.moveUp();                 e.stopPropagation(); break;\n                    case keyCodes.RIGHT:\n                    case keyCodes.DOWN:  self.moveDown();               e.stopPropagation(); break;\n                }\n            });\n\n            this.$menuButton.on('keydown.menuNavigation', function (e) {\n                var currentKeyCode = e.keyCode ? e.keyCode : e.charCode;\n\n                if (currentKeyCode === keyCodes.UP) {\n                    e.stopPropagation();\n                    self.hoverIndex = self.menuItems.length - 1;\n                    self.$menuContainer.focus();\n                    self.hoverItem(self.menuItems[self.hoverIndex].id);\n                }\n            });\n        },\n\n        /**\n         * remove the event handlers for keyboard navigation\n         */\n        disableShortcuts: function disableShortcuts() {\n            this.$menuContainer.off('.menuNavigation');\n            this.$menuButton.off('.menuNavigation');\n        },\n\n        /**\n         * Move the highlight to the previous item\n         */\n        moveUp: function moveUp() {\n            if (this.hoverIndex > 0) {\n                this.hoverIndex--;\n                this.hoverItem(this.menuItems[this.hoverIndex].id);\n            }\n        },\n\n        /**\n         * Move the highlight to the next item, or to the menu button if we are on the last item\n         */\n        moveDown: function moveDown() {\n            // move to the next item\n            if (this.hoverIndex < (this.menuItems.length - 1)) {\n                this.hoverIndex++;\n                this.hoverItem(this.menuItems[this.hoverIndex].id);\n\n            // move to the menu button\n            } else if (this.hoverIndex === (this.menuItems.length - 1)) {\n                this.hoverIndex++;\n                this.hoverOffAll();\n                this.$menuButton.closest('.action').focus();\n                this.closeMenu();\n            }\n        },\n\n        /**\n         * Highlight the given item\n         * @param {String} itemId\n         */\n        hoverItem: function hoverItem(itemId) {\n            var itemToHover = this.getItemById(itemId);\n            this.hoverOffAll();\n\n            if (itemToHover) {\n                itemToHover.hoverOn();\n            }\n        },\n\n        /**\n         * Remove highlight from all items\n         */\n        hoverOffAll: function hoverOffAll() {\n            this.menuItems.forEach(function(current) {\n                if (current) {\n                    current.hoverOff();\n                }\n            });\n        },\n\n        /**\n         * Run a click event on the DOM element of the currently highlighted item\n         */\n        triggerHighlightedItem: function triggerHighlightedItem() {\n            var activeItem;\n            if (this.menuItems[this.hoverIndex]) {\n                activeItem = this.menuItems[this.hoverIndex];\n                activeItem.getElement().trigger('click');\n                this.closeMenu();\n\n                // give back the focus\n                if(document.activeElement){\n                    document.activeElement.blur();\n                }\n            }\n        }\n    };\n\n\n    /**\n     * The menu component factory\n     */\n    return function menuComponentFactory(specs, defaults) {\n        var _defaults,\n            menuComponent;\n\n        _defaults = {\n            $component: $(),\n            $menuButton: $(),\n            $menuContainer: $(),\n            $menuContent: $(),\n            $menuItems: $(),\n            $menuStateIcon: $(),\n            hoverIndex: null,\n            id: null,\n            menuItems: []\n        };\n\n        specs = _.defaults(specs || {}, menuComponentApi);\n\n        menuComponent = componentFactory(specs, defaults)\n            .setTemplate(menuTpl)\n            .on('enable', function enable() {\n                if (this.is('rendered')) {\n                    this.$component.removeProp('disabled');\n                }\n            })\n            .on('disable', function disable() {\n                if (this.is('rendered')) {\n                    this.$component.prop('disabled', true);\n                    this.closeMenu();\n                    this.turnOff();\n                }\n            })\n            .on('hide', function disable() {\n                if (this.is('rendered')) {\n                    this.closeMenu();\n                }\n            })\n            .on('init', function init() {\n                this.initMenu();\n            })\n            .on('render', function render() {\n                var self = this;\n\n                // get access to DOM elements\n                this.$menuButton    = this.$component.find('[data-control=\"' + this.config.control + '-button\"]');\n                this.$menuContainer = this.$component.find('[data-control=\"' + this.config.control + '-menu\"]');\n                this.$menuContent   = this.$component.find('[data-control=\"' + this.config.control + '-list\"]');\n                this.$menuStateIcon = this.$menuButton.find('.icon-up');\n\n                this.disable(); // always render disabled by default\n\n                // add behavior\n                this.$component.on('click', function toggleMenu(e) {\n                    e.preventDefault();\n\n                    if(! self.is('opened')) {\n                        e.stopPropagation(); // prevent higher handler to auto-close the menu on click\n                    }\n                    self.toggleMenu();\n                });\n\n                this.$menuContainer.on('click', function closeMenuOnItemClick(e) {\n                    e.preventDefault();\n                    e.stopPropagation(); // so the menu doesn't get toggled again when the event bubble to the component\n                    self.closeMenu();\n                });\n\n                this.$menuContent.on('mouseleave', this.hoverOffAll);\n\n            })\n            .on('destroy', function() {\n                if (this.is('rendered')) {\n                    this.$menuContainer.off('.menuNavigation');\n                    this.$menuButton.off('.menuNavigation');\n                }\n            });\n\n        // Apply default properties to the menuComponent\n        _.defaults(menuComponent, _defaults);\n\n        return menuComponent;\n    };\n});\n","\ndefine('tpl!taoQtiTest/runner/ui/toolbox/templates/text', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"class=\\\"\";\n  if (helper = helpers.className) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.className); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" \";\n  return buffer;\n  }\n\n  buffer += \"<li \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.className), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"data-control=\\\"\";\n  if (helper = helpers.control) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.control); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" >\\n    \";\n  if (helper = helpers.text) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.text); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n</li>\\n\";\n  return buffer;\n  });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 (original work) Open Assessment Technologies SA;\n */\n/**\n * This factory creates a component to be used as a toolbox item.\n * It will be rendered as text with no special behavior, and can be used to create buttons separators, for example.\n\n * Do not instanciate directly, but use the relevant toolbox method:\n * toolbox.createText({\n *      control: 'text-id',\n *      text: __('Text content')\n * });\n\n * @author Christophe Nol <christophe@taotesting.com>\n */\ndefine('taoQtiTest/runner/ui/toolbox/text',[\n    'lodash',\n    'ui/component',\n    'tpl!taoQtiTest/runner/ui/toolbox/templates/text'\n], function(_, componentFactory, textTpl) {\n    'use strict';\n\n    var textComponentApi = {\n        /**\n         * Initialise text\n         * @returns {String}\n         */\n        initText: function initText() {\n            this.id = this.config.control;\n        },\n\n        /**\n         * Get the type of the component\n         */\n        getType: function getType() {\n            return 'text';\n        },\n\n        /**\n         * Get the item Id\n         * @returns {String}\n         */\n        getId: function getId() {\n            return this.id;\n        }\n    };\n\n\n    /**\n     * The text factory\n     */\n    return function textComponentFactory(specs, defaults) {\n        var textComponent;\n\n        specs = _.defaults(specs || {}, textComponentApi);\n\n        textComponent = componentFactory(specs, defaults)\n            .setTemplate(textTpl)\n            .on('init', function() {\n                this.initText();\n            })\n            .on('render', function() {\n                this.disable(); // always render disabled first\n            });\n\n        return textComponent;\n    };\n});\n","\ndefine('tpl!taoQtiTest/runner/ui/toolbox/templates/toolbox', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<ul class=\\\"plain tools-box-list\\\"></ul>\";\n  });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 (original work) Open Assessment Technologies SA;\n */\n/**\n * This component handle the rendering of the toolbox area of the test runner.\n * By default, it simply appends all registered component one after the other in their registration order.\n * Use the following API to register items:\n *\n * var myText = toolbox.createText({...}); // a text entry with no special behavior\n * var myMenu = toolbox.createMenu({...}); // a menu\n * var myItem = toolbox.createEntry({...}); // either a stand alone button or a menu entry\n * myItem.setMenuId('menuId');             // if you want to make the item part of a menu\n *\n * The rendering method can be overridden to create custom layouts:\n *\n * // create the renderer\n * function myCustomRenderer() {\n *    var allItems = this.allItems; // this give access to all registered items, whichever type they are: items, menus, text\n *    var allMenus = this.allMenus; // only menu items\n *\n *    // do the rendering...\n * }\n *\n * // override the default renderer\n * toolbox\n *    .off('.defaultRenderer') // remove default renderer\n *    .on('render', myCustomRenderer); // set new renderer\n *\n *\n * @author Christophe Nol <christophe@taotesting.com>\n */\ndefine('taoQtiTest/runner/ui/toolbox/toolbox',[\n    'lodash',\n    'jquery',\n    'ui/component',\n    'taoQtiTest/runner/ui/toolbox/entry',\n    'taoQtiTest/runner/ui/toolbox/menu',\n    'taoQtiTest/runner/ui/toolbox/text',\n    'tpl!taoQtiTest/runner/ui/toolbox/templates/toolbox'\n], function(_, $, componentFactory, entryFactory, menuFactory, textFactory, toolboxTpl) {\n    'use strict';\n\n    var toolboxComponentApi = {\n\n        /**\n         * Initialize the toolbox\n         */\n        initToolbox: function initToolbox() {\n            this.allItems = [];\n            this.allMenus = [];\n        },\n\n        /**\n         * Create a menu component instance\n         * @param {Object} config\n         * @param {String} config.control - will be used as the instance id and in the data-control html attribute\n         * @param {String} config.title - will be used in the title html attribute\n         * @param {String} config.icon - the icon for the button\n         * @param {String} config.text - the button label\n         * @param {String} config.className - an extra class\n         * @returns {Component} the create instance\n         */\n        createMenu: function createMenu(config) {\n            var self = this,\n                menu = menuFactory().init(config);\n            this.allItems.push(menu);\n            this.allMenus.push(menu);\n\n            // add an event handler to close all opened menu when opening\n            menu.on('openmenu', function closeAllMenuExcept(openedMenu) {\n                self.allMenus.forEach(function(current) {\n                    if (openedMenu.getId() !== current.getId() && current.is('opened')) {\n                        current.closeMenu();\n                    }\n                });\n            });\n\n            return menu;\n        },\n\n        /**\n         * Create a entry component instance\n         * @param {Object} config\n         * @param {String} config.control - will be used as the instance id and in the data-control html attribute\n         * @param {String} config.title - will be used in the title html attribute\n         * @param {String} config.icon - the icon for the button\n         * @param {String} config.text - the button label\n         * @param {String} config.className - an extra class\n         * @returns {Component} the create instance\n         */\n        createEntry: function createEntry(config)  {\n            var item = entryFactory().init(config);\n            this.allItems.push(item);\n            return item;\n        },\n\n        /**\n         * Create a text component instance\n         * @param {Object} config\n         * @param {String} config.control - will be used as the instance id and in the data-control html attribute\n         * @param {String} config.text - the text content\n         * @param {String} config.className - an extra class\n         * @returns {Component} the create instance\n         */\n        createText: function createText(config) {\n            var text = textFactory().init(config);\n            this.allItems.push(text);\n            return text;\n        },\n\n        /**\n         * If the given item belongs to a menu\n         * @param {Object} item\n         * @returns {Boolean}\n         */\n        hasMenu: function hasMenu(item) {\n            return item && _.isFunction(item.getMenuId) && item.getMenuId();\n        }\n    };\n\n\n    /**\n     * Default renderer. It simply appends all the registered items in the toolbox, one after the other\n     * @param {jQuery} $container - where to render\n     */\n    function defaultRenderer($container) {\n        var self = this,\n            menuEntries = [];\n\n        // render first level\n        if (_.isArray(this.allItems)) {\n            this.allItems.forEach(function (item) {\n                // items belonging to menus will be processed later\n                if (! self.hasMenu(item)) {\n                    item.render($container);\n                }\n            });\n        }\n\n        // Render each menu\n        this.allMenus.forEach(function (menu) {\n            var menuId = menu.getId();\n\n            // first, we gather all items relevant to the current menu\n            menuEntries = self.allItems.filter(function (item) {\n                return (item.getType() === 'entry' && item.getMenuId() === menuId);\n            });\n\n            // we then add entries to the current menu\n            menuEntries.forEach(function (item) {\n                menu.addItem(item);\n            });\n\n            // and finally render the whole menu\n            menu.renderItems();\n        });\n    }\n\n    /**\n     * The toolbox factory\n     */\n    return function toolboxComponentFactory(specs, defaults) {\n        var $document = $(document),\n            toolboxComponent;\n\n        specs = _.defaults(specs || {}, toolboxComponentApi);\n\n        toolboxComponent = componentFactory(specs, defaults)\n            .on('init', function () {\n                this.initToolbox();\n            })\n            // overridable renderer\n            .on('render.defaultRenderer', defaultRenderer)\n\n            // non-overridable renderer\n            .on('render', function() {\n                var self = this;\n\n                // fixme: try to bind this behavior on the blur event of each menu\n                $document.off('.toolboxmenu');\n                $document.on('click.toolboxmenu', function() {\n                    self.allMenus.forEach(function(menu) {\n                        if (menu.is('opened')) {\n                            menu.closeMenu();\n                        }\n                    });\n                });\n            })\n            .on('destroy', function() {\n                $document.off('.toolboxmenu');\n\n                this.allItems.forEach(function (item) {\n                    item.destroy();\n                });\n            })\n            .setTemplate(toolboxTpl);\n\n        return toolboxComponent;\n    };\n});\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2015 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sbastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoQtiItem/runner/provider/manager/picManager',[\n    'jquery',\n    'lodash',\n    'taoQtiItem/qtiItem/core/Element'\n], function ($, _, Element) {\n    'use strict';\n\n    /**\n     * The template of a PicManager instance\n     * @type {picManager}\n     */\n    var picManager = {\n        /**\n         * Creates a manager for a particular PIC\n         *\n         * @param {Object} pic\n         * @param {QtiItem} item\n         * @returns {picManager}\n         */\n        init : function init(pic, item) {\n            if (Element.isA(pic, 'infoControl')) {\n                this._pic = pic;\n            }\n\n            if (Element.isA(item, 'assessmentItem')) {\n                this._item = item;\n            }\n\n            return this;\n        },\n\n        /**\n         * Gets the managed PIC\n         *\n         * @returns {Object} the descriptor of the PIC\n         */\n        getPic : function getPic() {\n            return this._pic;\n        },\n\n        /**\n         * Gets the related Item\n         *\n         * @returns {QtiItem} the Item\n         */\n        getItem : function getItem() {\n            return this._item;\n        },\n\n        /**\n         * Gets the PIC serial\n         * @returns {String}\n         */\n        getSerial : function getSerial() {\n            return this._pic && this._pic.serial;\n        },\n\n        /**\n         * Gets the PIC type identifier\n         * @returns {String}\n         */\n        getTypeIdentifier : function getTypeIdentifier() {\n            return this._pic && this._pic.typeIdentifier;\n        },\n\n        /**\n         * Gets the underlying DOM element of the managed PIC\n         * @returns {{pic: (jQuery), tool: (jQuery), button: (jQuery), broken: (Boolean))}|*} An object providing the underlying DOM elements of the PIC and its tool\n         */\n        getDom : function getDom() {\n            if (!this._dom) {\n                var serial = this.getSerial();\n                var pic, tool;\n\n                if (serial) {\n                    pic = $('[data-serial=\"' + serial + '\"]');\n                    if (pic.length) {\n                        tool = $('[data-pic-serial=\"' + serial + '\"]');\n\n                        if (!tool.length) {\n                            tool = pic.children().first();\n                        }\n\n                        this._dom = {\n                            pic : pic,\n                            tool : tool,\n                            button : tool.find('.sts-button'),\n                            broken : pic.is(':empty') // tells if the tool has been moved outside of the PIC\n                        };\n                    }\n                }\n            }\n\n            return this._dom;\n        },\n\n        /**\n         * Enables the PIC.\n         * @fires enable\n         * @returns {picManager}\n         */\n        enable : function enable() {\n            // @todo: find a better solution for disabling/enabling a PIC\n            var dom = this.getDom();\n            if (dom) {\n                // just remove the disabled state and destroy the disable mask\n                dom.button.removeClass('disabled');\n                dom.tool.find('.sts-button-disable-mask').remove();\n\n                this.disabled = false;\n                this.trigger('enable');\n            }\n\n            return this;\n        },\n\n        /**\n         * Disables the PIC\n         * @fires disable\n         * @returns {picManager}\n         */\n        disable : function disable() {\n            // @todo: find a better solution for disabling/enabling a PIC\n            var dom = this.getDom();\n            var button;\n            if (dom) {\n                // set a disabled state by adding a CSS class, then mask the button with a top-level element\n                button = dom.button.addClass('disabled');\n\n                $('<div class=\"sts-button-disable-mask\" style=\"position:absolute;z-index:10000000000000\"></div>')\n                    .appendTo(dom.tool)\n                    .offset(button.offset())\n                    .width(button.outerWidth())\n                    .height(button.outerHeight());\n\n                // also hide any sub component\n                dom.tool.find('.sts-container, .sts-menu-container').addClass('sts-hidden-container');\n\n                this.disabled = true;\n                this.trigger('disable');\n            }\n\n            return this;\n        },\n\n        /**\n         * Shows the PIC\n         * @fires show\n         * @returns {picManager}\n         */\n        show : function show() {\n            var dom = this.getDom();\n            if (dom) {\n                dom.tool.show();\n\n                this.trigger('show');\n            }\n\n            return this;\n        },\n\n        /**\n         * Hides the PIC\n         * @fires hide\n         * @returns {picManager}\n         */\n        hide : function hide() {\n            var dom = this.getDom();\n            if (dom) {\n                dom.tool.hide();\n\n                this.trigger('hide');\n            }\n\n            return this;\n        },\n\n        /**\n         * Triggers an event on the underlying DOM element\n         * @param {String} eventName\n         * @returns {picManager}\n         */\n        trigger : function trigger(eventName) {\n            var dom = this.getDom();\n            var args = _.rest(arguments, 1);\n\n            args.unshift(this);\n\n            if (dom) {\n                // trigger the event, if the tool has been moved outside of the PIC, trigger also the event on the PIC\n                dom.tool.trigger(eventName, args);\n                if (dom.broken) {\n                    dom.pic.trigger(eventName, args);\n                }\n            }\n\n            return this;\n        }\n    };\n\n    /**\n     * The template of a PicManagerCollection instance\n     * @type {picManagerCollection}\n     */\n    var picManagerCollection = {\n        /**\n         * Creates the collection of PIC from an Item\n         *\n         * @param {QtiItem} item\n         * @returns {picManagerCollection}\n         */\n        init : function init(item) {\n            if (Element.isA(item, 'assessmentItem')) {\n                this._item = item;\n            }\n\n            return this;\n        },\n\n        /**\n         * Gets the list of PIC managers for the PIC provided by the running item.\n         *\n         * @param {Boolean} [force] Force a list rebuild\n         * @returns {Array} Returns the list of managers for the provided PIC\n         */\n        getList : function getList(force) {\n            var self = this;\n\n            // build the list if empty\n            if (force || !self._list) {\n                self._map = {};\n                self._list = [];\n                if (self._item) {\n                    _.forEach(self._item.getElements(), function(element) {\n                        var manager;\n\n                        if (Element.isA(element, 'infoControl')) {\n                            manager = managerFactory(element, self._item);\n                            self._list.push(manager);\n                            self._map[element.serial] = manager;\n                            self._map[element.typeIdentifier] = manager;\n                        }\n                    });\n                }\n            }\n\n            return this._list;\n        },\n\n        /**\n         * Gets the manager of the first PIC matching the identifier from the list provided by the running item.\n         *\n         * @param {String} picId The PIC typeIdentifier or serial\n         * @returns {Object} The manager of the PIC\n         */\n        getPic : function getPic(picId) {\n            this.getList();\n            return this._map[picId];\n        },\n\n        /**\n         * Executes an action on a particular PIC from the running item.\n         * @param {String} picId The PIC typeIdentifier or serial\n         * @param {String} action The name of the action to call\n         * @returns {*} Returns the action result\n         */\n        execute : function execute(picId, action) {\n            var pic = this.getPic(picId);\n            if (pic && pic[action]) {\n                return pic[action].apply(pic, _.rest(arguments, 2));\n            }\n        },\n\n        /**\n         * Executes an action on each PIC provided by the running item.\n         * @param {String} action The name of the action to call\n         * @param {Function} [filter] An optional filter to reduce the list\n         * @returns {picManagerCollection}\n         */\n        executeAll : function executeAll(action, filter) {\n            var args = _.rest(arguments, 2);\n            var cb;\n\n            if (typeof filter === 'function') {\n                cb = function(pic) {\n                    if (filter.call(pic, pic) && pic[action]) {\n                        pic[action].apply(pic, args);\n                    }\n                };\n            } else {\n                cb = function(pic) {\n                    if (pic[action]) {\n                        pic[action].apply(pic, args);\n                    }\n                };\n            }\n\n            return this.each(cb);\n        },\n\n        /**\n         * Calls a callback function on each listed PIC from the running item.\n         * @param {Function} cb The callback function to apply on each listed PIC\n         * @returns {picManagerCollection}\n         */\n        each : function each(cb) {\n            _.forEach(this.getList(), cb);\n            return this;\n        },\n\n        /**\n         * Enables a PIC provided by the running item.\n         *\n         * @param {String} picId The PIC typeIdentifier or serial\n         * @returns {picManagerCollection}\n         */\n        enablePic : function enablePic(picId) {\n            this.execute(picId, 'enable');\n            return this;\n        },\n\n        /**\n         * Disables a PIC provided by the running item.\n         *\n         * @param {String} picId The PIC typeIdentifier or serial\n         * @returns {picManagerCollection}\n         */\n        disablePic : function disablePic(picId) {\n            this.execute(picId, 'disable');\n            return this;\n        },\n\n        /**\n         * Shows a PIC provided by the running item.\n         *\n         * @param {String} picId The PIC typeIdentifier or serial\n         * @returns {picManagerCollection}\n         */\n        showPic : function showPic(picId) {\n            this.execute(picId, 'show');\n            return this;\n        },\n\n        /**\n         * Hides a PIC provided by the running item.\n         *\n         * @param {String} picId The PIC typeIdentifier or serial\n         * @returns {picManagerCollection}\n         */\n        hidePic : function hidePic(picId) {\n            this.execute(picId, 'hide');\n            return this;\n        },\n\n        /**\n         * Enables all PIC provided by the running item.\n         *\n         * @param {Function} [filter] An optional filter to reduce the list of PIC to enable\n         * @returns {picManagerCollection}\n         */\n        enableAll : function enableAll(filter) {\n            this.executeAll('enable', filter);\n            return this;\n        },\n\n        /**\n         * Disables all PIC provided by the running item.\n         *\n         * @param {Function} [filter] An optional filter to reduce the list of PIC to disable\n         * @returns {picManagerCollection}\n         */\n        disableAll : function disableAll(filter) {\n            this.executeAll('disable', filter);\n            return this;\n        },\n\n        /**\n         * Shows all PIC provided by the running item.\n         *\n         * @param {Function} [filter] An optional filter to reduce the list of PIC to show\n         * @returns {picManagerCollection}\n         */\n        showAll : function showAll(filter) {\n            this.executeAll('show', filter);\n            return this;\n        },\n\n        /**\n         * Hides all PIC provided by the running item.\n         *\n         * @param {Function} [filter] An optional filter to reduce the list of PIC to hide\n         * @returns {picManagerCollection}\n         */\n        hideAll : function hideAll(filter) {\n            this.executeAll('hide', filter);\n            return this;\n        }\n    };\n\n    /**\n     * Creates a PIC manager for a particular Item.\n     * @param {Object} pic\n     * @param {QtiItem} item\n     * @returns {picManager} Returns the instance of the PIC manager\n     */\n    var managerFactory = function managerFactory(pic, item) {\n        var manager = _.clone(picManager, true);\n        return manager.init(pic, item);\n    };\n\n    /**\n     * Creates a PIC manager for a particular Item.\n     * @param {QtiItem} item\n     * @returns {picManager} Returns the instance of the PIC manager\n     */\n    var collectionFactory = function collectionFactory(item) {\n        var collection = _.clone(picManagerCollection, true);\n        return collection.init(item);\n    };\n\n    return {\n        collection: collectionFactory,\n        manager: managerFactory\n    };\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Christophe Nol <christophe@taotesting.com>\n */\ndefine('taoQtiItem/runner/provider/manager/userModules',[\n    'lodash',\n    'module',\n    'core/promise'\n], function (_, module, Promise) {\n    'use strict';\n\n    return {\n        /**\n         * Load user modules defined in the module config\n         * @param {Array} [userModules] - manually specify user modules to load instead of getting them from the module config\n         * @returns {Promise}\n         */\n        load: function load(userModules) {\n            var config = module.config();\n\n            if (! userModules || ! _.isArray(userModules)) {\n                if (config && config.userModules && _.isArray(config.userModules)) {\n                    userModules = config.userModules;\n                } else {\n                    userModules = [];\n                }\n            }\n            return new Promise(function(resolve, reject) {\n                require(\n                    userModules,\n                    function () {\n                        _.forEach(arguments, function (dependency) {\n                            if (dependency && _.isFunction(dependency.exec)) {\n                                dependency.exec();\n                            }\n                        });\n                        resolve();\n                    },\n                    function (err) {\n                        reject(err.message);\n                    }\n                );\n            });\n        }\n    };\n});\n\n","define('taoQtiItem/qtiItem/helper/pci',['lodash'], function(_){\n\n    var pci = {\n        getRawValues : function(pciVar){\n            if(_.isPlainObject(pciVar)){\n                if(pciVar.base!== undefined){\n                    return _.values(pciVar.base);\n                }else if(pciVar.list){\n                    return _.values(pciVar.list);\n                }\n            }\n            throw 'unsupported type ';\n        }\n    };\n\n    return pci;\n});\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016  (original work) Open Assessment Technologies SA;\n *\n * @author Alexander Zagovorichev <zagovorichev@1pt.com>\n */\n\ndefine('taoQtiItem/qtiItem/helper/modalFeedback',[\n    'jquery',\n    'lodash',\n    'taoQtiItem/qtiItem/helper/pci',\n    'taoQtiItem/qtiItem/helper/container'\n], function($, _, pci, containerHelper) {\n    'use strict';\n\n    /**\n     * Provide the feedbackMessage signature to check if the feedback contents should be considered equals\n     *\n     * @param {type} feedback\n     * @returns {String}\n     */\n    var getFeedbackMessageSignature = function getFeedbackMessageSignature(feedback) {\n        return ('' + feedback.body() + feedback.attr('title')).toLowerCase().trim().replace(/x-tao-[a-zA-Z0-9\\-._\\s]*/g, '');\n    };\n\n    /**\n     * Extract the display information for an interaction-related feedback\n     *\n     * @private\n     * @param {Object} interaction - a qti interaction object\n     * @returns {Object} Object containing useful display information\n     */\n    var extractDisplayInfo = function extractDisplayInfo(interaction) {\n\n        var $interactionContainer = interaction.getContainer();\n        var responseIdentifier = interaction.attr('responseIdentifier');\n        var messageGroupId, $displayContainer;\n\n        if (interaction.is('inlineInteraction')) {\n            $displayContainer = $interactionContainer.closest('[class*=\" col-\"], [class^=\"col-\"]');\n            messageGroupId = $displayContainer.attr('data-messageGroupId');\n            if (!messageGroupId) {\n                //generate a messageFromId\n                messageGroupId = _.uniqueId('inline_message_group_');\n                $displayContainer.attr('data-messageGroupId', messageGroupId);\n            }\n        } else {\n            messageGroupId = responseIdentifier;\n            $displayContainer = $interactionContainer;\n        }\n\n        return {\n            responseIdentifier: responseIdentifier,\n            interactionContainer: $interactionContainer,\n            displayContainer: $displayContainer,\n            messageGroupId: messageGroupId,\n            order: -1\n        };\n    };\n\n    /**\n     * Get interaction display information sorted in the order of appearance within the item\n     *\n     * @param {Object} item\n     * @returns {Array}\n     */\n    var getInteractionsDisplayInfo = function getInteractionsDisplayInfo(item) {\n\n        var interactionsDisplayInfo = [];\n        var $itemContainer = item.getContainer();\n        var interactionOrder = 0;\n\n        //extract all interaction related information needed to display their\n        _.forEach(item.getComposingElements(), function (element) {\n            if (element.is('interaction')) {\n                interactionsDisplayInfo.push(extractDisplayInfo(element));\n            }\n        });\n\n        //sort interactionsDisplayInfo on the item level\n        $itemContainer.find('.qti-interaction').each(function () {\n            var self = this;\n            _.forEach(interactionsDisplayInfo, function (_interactionInfo) {\n                if (_interactionInfo.interactionContainer[0] === self) {\n                    _interactionInfo.order = interactionOrder;\n                    return false;\n                }\n            });\n            interactionOrder++;\n        });\n        interactionsDisplayInfo = _.sortBy(interactionsDisplayInfo, 'order');\n\n        return interactionsDisplayInfo;\n    };\n\n    /**\n     * Returns feedbacks according to the given itemSession variables\n     *\n     * @param {Object} item - the standard tao qti item object\n     * @param {Object} itemSession - session information containing the list of feedbacks to display\n     * @returns {Array} renderingFeedbacks - feedbacks to be displayed\n     */\n    var getFeedbacks = function getFeedbacks(item, itemSession) {\n\n        var messages = {};\n        var $itemContainer = item.getContainer();\n        var $itemBody = $('.qti-itemBody', $itemContainer);\n        var interactionsDisplayInfo = getInteractionsDisplayInfo(item);\n        var renderingQueue = [];\n\n        _.forEach(item.modalFeedbacks, function (feedback) {\n\n            var feedbackIds, message, $container, comparedOutcome, _currentMessageGroupId, interactionInfo;\n            var outcomeIdentifier = feedback.attr('outcomeIdentifier');\n            var order = -1;\n\n            //verify if the feedback should be displayed\n            if (itemSession[outcomeIdentifier]) {\n\n                //is the feedback in the list of feedbacks to be displayed ?\n                feedbackIds = pci.getRawValues(itemSession[outcomeIdentifier]);\n                if (!_.contains(feedbackIds, feedback.id())) {\n                    return true;//continue with next feedback\n                }\n\n                //which group of feedbacks (interaction related) the feedback belongs to ?\n                message = getFeedbackMessageSignature(feedback);\n                comparedOutcome = containerHelper.getEncodedData(feedback, 'relatedOutcome');\n                interactionInfo = _.find(interactionsDisplayInfo, {responseIdentifier: comparedOutcome});\n                if (comparedOutcome && interactionInfo) {\n                    $container = interactionInfo.displayContainer;\n                    _currentMessageGroupId = interactionInfo.messageGroupId;\n                    order = interactionInfo.order;\n                } else {\n                    $container = $itemBody;\n                    _currentMessageGroupId = '__item__';\n                }\n                //is this message already displayed ?\n                if (!messages[_currentMessageGroupId]) {\n                    messages[_currentMessageGroupId] = [];\n                }\n\n                if (_.contains(messages[_currentMessageGroupId], message)) {\n                    return true; //continue\n                } else {\n                    messages[_currentMessageGroupId].push(message);\n                }\n\n                //ok, display feedback\n                renderingQueue.push({\n                    feedback: feedback,\n                    $container: $container,\n                    order: order\n                });\n            }\n        });\n\n        renderingQueue = _.sortBy(renderingQueue, 'order');\n\n        return renderingQueue;\n    };\n\n    /**\n     * Provide helper function for collecting feedbacks\n     */\n    return {\n        getFeedbacks : getFeedbacks\n    };\n\n});\n\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technologies SA (under the project TAO-PRODUCT);\n *\n */\n\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiItem/runner/provider/qti',[\n    'jquery',\n    'lodash',\n    'context',\n    'core/promise',\n    'taoQtiItem/qtiItem/core/Loader',\n    'taoQtiItem/qtiItem/core/Element',\n    'taoQtiItem/qtiCommonRenderer/renderers/Renderer',\n    'taoQtiItem/runner/provider/manager/picManager',\n    'taoQtiItem/runner/provider/manager/userModules',\n    'taoQtiItem/qtiItem/helper/modalFeedback',\n    'taoItems/assets/manager'\n], function($, _, context, Promise, QtiLoader, Element, QtiRenderer, picManager, userModules, modalFeedbackHelper){\n    'use strict';\n\n    var timeout = (context.timeout > 0 ? context.timeout + 1 : 30) * 1000;\n\n    /**\n     * @exports taoQtiItem/runner/provider/qti\n     */\n    var qtiItemRuntimeProvider = {\n\n        init : function(itemData, done){\n            var self = this;\n\n            var rendererOptions = {\n                assetManager : this.assetManager\n            };\n            if(this.options.themes){\n                rendererOptions.themes = this.options.themes;\n            }\n\n            this._renderer = new QtiRenderer(rendererOptions);\n            this._loader   = new QtiLoader();\n\n            this._loader.loadItemData(itemData, function(item){\n                if(!item){\n                    return self.trigger('error', 'Unable to load item from the given data.');\n                }\n\n                self._item = item;\n                self._renderer.load(function(){\n                    self._item.setRenderer(this);\n\n                    done();\n                }, this.getLoadedClasses());\n            });\n        },\n\n        render : function(elt, done, options){\n            var self = this;\n\n            options = _.defaults(options || {}, {state : {}});\n\n            if(this._item){\n\n                try {\n                    //render item html\n                    elt.innerHTML = this._item.render({});\n                } catch(e){\n                    self.trigger('error', 'Error in template rendering : ' +  e.message);\n                }\n                try {\n                    // Race between postRendering and timeout\n                    // postRendering waits for everything to be resolved or one reject\n                    Promise.race([\n                        Promise.all(this._item.postRender(options)),\n                        new Promise(function(resolve, reject){\n                            _.delay(reject, timeout, new Error('Post rendering ran out of time.'));\n                        })\n                    ])\n                    .then(function(){\n                        $(elt)\n                            .off('responseChange')\n                            .on('responseChange', function(){\n                                self.trigger('statechange', self.getState());\n                                self.trigger('responsechange', self.getResponses());\n                            })\n                            .off('endattempt')\n                            .on('endattempt', function(e, responseIdentifier){\n                                self.trigger('endattempt', responseIdentifier || e.originalEvent.detail);\n                            })\n                            .off('themechange')\n                            .on('themechange', function(e, themeName){\n                                var themeLoader = self._renderer.getThemeLoader();\n                                themeName = themeName || e.originalEvent.detail;\n                                if(themeLoader){\n                                    themeLoader.change(themeName);\n                                }\n                            });\n\n                        /**\n                         * Lists the PIC provided by this item.\n                         * @event qti#listpic\n                         */\n                        self.trigger('listpic', picManager.collection(self._item));\n\n                        return userModules.load().then(done);\n\n                    }).catch(function(err){\n                        self.trigger('error', 'Error in post rendering : ' + err instanceof Error ? err.message : err);\n                    });\n                } catch(err){\n                    self.trigger('error', 'Error in post rendering : ' + err.message);\n                }\n            }\n        },\n\n        /**\n         * Clean up stuffs\n         */\n        clear : function(elt, done){\n            if(this._item){\n\n                _.invoke(this._item.getInteractions(), 'clear');\n                this._item.clear();\n\n                $(elt).off('responseChange')\n                      .off('endattempt')\n                      .off('themechange')\n                      .off('feedback')\n                      .empty();\n\n                if(this._renderer){\n                    this._renderer.unload();\n                }\n\n                this._item = null;\n            }\n            done();\n        },\n\n        /**\n         * Get state implementation.\n         * @returns {Object} that represents the state\n         */\n        getState : function getState(){\n            var state = {};\n            if(this._item){\n\n                //get the state from interactions\n                _.forEach(this._item.getInteractions(), function(interaction){\n                    state[interaction.attr('responseIdentifier')] = interaction.getState();\n                });\n\n                //get the state from infoControls\n                _.forEach(this._item.getElements(), function(element) {\n                    if (Element.isA(element, 'infoControl') && element.attr('id')) {\n                        state.pic = state.pic || {};\n                        state.pic[element.attr('id')] = element.getState();\n                    }\n                });\n            }\n            return state;\n        },\n\n        /**\n         * Set state implementation.\n         * @param {Object} state - the state\n         */\n        setState : function setState(state){\n            if(this._item && state){\n\n                //set interaction state\n                _.forEach(this._item.getInteractions(), function(interaction){\n                    var id = interaction.attr('responseIdentifier');\n                    if(id && state[id]){\n                        interaction.setState(state[id]);\n                    }\n                });\n\n                //set info control state\n                if(state.pic){\n                    _.forEach(this._item.getElements(), function(element) {\n                        if (Element.isA(element, 'infoControl') && state.pic[element.attr('id')]) {\n                            element.setState(state.pic[element.attr('id')]);\n                        }\n                    });\n                }\n            }\n        },\n\n        getResponses : function(){\n            var responses = {};\n            if(this._item){\n                _.reduce(this._item.getInteractions(), function(res, interaction){\n                    responses[interaction.attr('responseIdentifier')] = interaction.getResponse();\n                    return responses;\n                }, responses);\n            }\n            return responses;\n        },\n\n        renderFeedbacks : function(feedbacks, itemSession, done) {\n            var self = this;\n\n            var _renderer = self._item.getRenderer();\n            var _loader   = new QtiLoader(self._item);\n\n            // loading feedbacks from response into the current item\n            _loader.loadElements(feedbacks, function (item) {\n                _renderer.load(function () {\n\n                    var renderingQueue = modalFeedbackHelper.getFeedbacks(item, itemSession);\n\n                    done(renderingQueue);\n                }, this.getLoadedClasses());\n            });\n        }\n    };\n\n    return qtiItemRuntimeProvider;\n});\n\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2014 (original work) Open Assessment Technlogies SA (under the project TAO-PRODUCT);\n *\n */\n\n/**\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiItem/runner/qtiItemRunner',['taoItems/runner/api/itemRunner', 'taoQtiItem/runner/provider/qti'], function(itemRunner, qtiRuntimeProvider){\n    'use strict';\n\n    //register the QTI Provider\n    itemRunner.register('qti', qtiRuntimeProvider);\n\n    /**\n     * Expose the itemRunner with the QTI provider registered\n     * @exports taoQtiItem/runner/qtiItemRunner\n     */\n    return itemRunner;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 Open Assessment Technologies SA ;\n */\n\n/**\n * Get the configured asset manager factory\n *\n * TODO implement ability to override the strategies by configuration\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/runner/config/assetManager',[\n    'taoItems/assets/manager',\n    'taoItems/assets/strategies',\n    'taoQtiItem/portableElementRegistry/assetManager/portableAssetStrategy',\n], function(assetManagerFactory, assetStrategies, assetPortableElement) {\n    'use strict';\n\n    /**\n     * The default strategies\n     */\n    var defaultStrategies = [\n        assetStrategies.external,\n        assetStrategies.base64,\n        assetStrategies.baseUrl,\n        assetPortableElement\n    ];\n\n    /**\n     * Gives access to a configured assetManagerFactory\n     * @returns {assetManagerFactory}\n     */\n    return function getAssetManager(){\n        return assetManagerFactory(defaultStrategies, { baseUrl: '' });\n    };\n});\n\n\n","\ndefine('tpl!taoQtiTest/runner/provider/layout', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<main class=\\\"test-runner-scope\\\">\\n    <div class=\\\"action-bar content-action-bar horizontal-action-bar top-action-bar\\\">\\n        <div class=\\\"control-box size-wrapper\\\"></div>\\n    </div>\\n\\n    <div class=\\\"test-runner-sections\\\">\\n\\n        <aside class=\\\"test-sidebar test-sidebar-left\\\"></aside>\\n\\n        <section class=\\\"content-wrapper\\\">\\n            <div id=\\\"qti-content\\\"></div>\\n        </section>\\n    </div>\\n\\n    <nav class=\\\"action-bar content-action-bar horizontal-action-bar bottom-action-bar\\\">\\n        <div class=\\\"control-box size-wrapper\\\">\\n            <div class=\\\"lft tools-box\\\"></div>\\n            <div class=\\\"rgt navi-box\\\">\\n                <ul class=\\\"plain navi-box-list\\\"></ul>\\n            </div>\\n        </div>\\n    </nav>\\n\\n</main>\\n\";\n  });\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n/**\n * Test Runner provider for QTI Tests.\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/runner/provider/qti',[\n    'jquery',\n    'lodash',\n    'i18n',\n    'core/store',\n    'core/promise',\n    'core/cachedStore',\n    'taoTests/runner/areaBroker',\n    'taoTests/runner/proxy',\n    'taoTests/runner/probeOverseer',\n    'taoQtiTest/runner/helpers/currentItem',\n    'taoQtiTest/runner/helpers/map',\n    'taoQtiTest/runner/helpers/navigation',\n    'taoQtiTest/runner/ui/toolbox/toolbox',\n    'taoQtiItem/runner/qtiItemRunner',\n    'taoQtiTest/runner/config/assetManager',\n    'tpl!taoQtiTest/runner/provider/layout'\n], function(\n    $,\n    _,\n    __,\n    store,\n    Promise,\n    cachedStore,\n    areaBrokerFactory,\n    proxyFactory,\n    probeOverseerFactory,\n    currentItemHelper,\n    mapHelper,\n    navigationHelper,\n    toolboxFactory,\n    qtiItemRunner,\n    assetManagerFactory,\n    layoutTpl) {\n    'use strict';\n\n    //the asset strategies\n    var assetManager = assetManagerFactory();\n\n    var $layout = $(layoutTpl());\n\n    var areaBroker = areaBrokerFactory($layout, {\n        content:    $('#qti-content', $layout),\n        toolbox:    $('.tools-box', $layout),\n        navigation: $('.navi-box-list', $layout),\n        control:    $('.top-action-bar .control-box', $layout),\n        actionsBar: $('.bottom-action-bar .control-box', $layout),\n        panel:      $('.test-sidebar-left', $layout),\n        header:     $('.title-box', $layout)\n    });\n\n    /**\n     * A Test runner provider to be registered against the runner\n     */\n    var qtiProvider = {\n\n        //provider name\n        name : 'qti',\n\n        /**\n         * Initialize and load the area broker with a correct mapping\n         * @returns {areaBroker}\n         */\n        loadAreaBroker : function loadAreaBroker(){\n            return areaBroker;\n        },\n\n        /**\n         * Initialize and load the test runner proxy\n         * @returns {proxy}\n         */\n        loadProxy : function loadProxy(){\n            var config = this.getConfig();\n\n            var proxyProvider   = config.proxyProvider || 'qtiServiceProxy';\n            var proxyConfig = _.pick(config, [\n                'testDefinition',\n                'testCompilation',\n                'serviceCallId',\n                'bootstrap'\n            ]);\n\n            return proxyFactory(proxyProvider, proxyConfig);\n        },\n\n        /**\n         * Initialize and load the probe overseer\n         * @returns {probeOverseer}\n         */\n        loadProbeOverseer : function loadProbeOverseer(){\n            var config = this.getConfig();\n\n            //the test run needs to be identified uniquely\n            var identifier = config.serviceCallId || 'test-' + Date.now();\n            return probeOverseerFactory(identifier, this);\n        },\n\n        /**\n         * Loads the persistent states storage\n         *\n         * @returns {Promise}\n         */\n        loadPersistentStates : function loadPersistentStates() {\n            var self = this;\n            var config = this.getConfig();\n            var persistencePromise = cachedStore('test-states-' + config.serviceCallId, 'states');\n\n            persistencePromise.catch(function(err) {\n                self.trigger('error', err);\n            });\n\n            return persistencePromise\n                .then(function(storage) {\n                    self.stateStorage = storage;\n                });\n        },\n\n        /**\n         * Checks a runner persistent state\n         *\n         * @param {String} name - the state name\n         * @returns {Boolean} if active, false if not set\n         */\n        getPersistentState : function getPersistentState(name) {\n            if (this.stateStorage) {\n                return this.stateStorage.getItem(name);\n            }\n        },\n\n        /**\n         * Defines a runner persistent state\n         *\n         * @param {String} name - the state name\n         * @param {Boolean} active - is the state active\n         * @returns {Promise} Returns a promise that:\n         *                      - will be resolved once the state is fully stored\n         *                      - will be rejected if any error occurs or if the state name is not a valid string\n         */\n        setPersistentState : function setPersistentState(name, active) {\n            var self = this;\n            var setPromise;\n\n            if (this.stateStorage) {\n                setPromise = this.stateStorage.setItem(name, active);\n\n                setPromise.catch(function(err) {\n                    self.trigger('error', err);\n                });\n\n                return setPromise;\n            }\n        },\n\n        /**\n         * Install step : add new methods\n         *\n         * @this {runner} the runner context, not the provider\n         * @returns {Promise} to chain\n         */\n        install : function install(){\n\n            /**\n             *  - reindex and build the jump table\n             *  - patch the current testMap if a partial map is set\n             *\n             * @param {Object} testMap - the testMap to build\n             * @param {Boolean} [updateStats = false] - if we need to update the stats of the current item\n             * @returns {runner} chains\n             */\n            this.buildTestMap = function buildTestMap(testMap, updateStats){\n                var newMap;\n\n                if(testMap){\n                    if(testMap.scope && testMap.scope !== 'test'){\n                        newMap = mapHelper.patch(this.getTestMap(), testMap);\n                    } else {\n                        newMap = mapHelper.reindex(testMap);\n                    }\n                    if(updateStats){\n                        newMap = this.updateStats(newMap);\n                    }\n                    return this.setTestMap(newMap);\n                }\n                return this;\n            };\n\n            /**\n             * Update current based on the context\n             *\n             * @param {Object} testMap - the testMap to update\n             * @returns {Object} the updated testMap\n             */\n            this.updateStats = function updateStats(testMap){\n                var testContext = this.getTestContext();\n                var states = this.getTestData().states;\n                var item = mapHelper.getItemAt(testMap, testContext.itemPosition);\n\n                if(item && states && testContext && testContext.state === states.interacting){\n\n                    //flag as viewed, always\n                    item.viewed = true;\n\n                    //flag as answered only if a response has been set\n                    if (!_.isUndefined(testContext.itemAnswered)) {\n                        item.answered = testContext.itemAnswered;\n                    }\n\n                    return mapHelper.updateItemStats(testMap, testContext.itemPosition);\n                }\n                return testMap;\n            };\n        },\n\n        /**\n         * Initialization of the provider, called during test runner init phase.\n         *\n         * We install behaviors during this phase (ie. even handlers)\n         * and we call proxy.init.\n         *\n         * @this {runner} the runner context, not the provider\n         * @returns {Promise} to chain proxy.init\n         */\n        init : function init(){\n            var self = this;\n\n            /**\n             * Retrieve the item results\n             * @returns {Object} the results\n             */\n            function getItemResults() {\n                var results = {};\n                var context = self.getTestContext();\n                var states = self.getTestData().states;\n                if(context && self.itemRunner && context.itemSessionState <= states.interacting){\n                    results = {\n                        itemResponse   : self.itemRunner.getResponses(),\n                        itemState      : self.itemRunner.getState()\n                    };\n                }\n                return results;\n            }\n\n            /**\n             * Compute the next item for the given action\n             * @param {String} action - item action like move/next, skip, etc.\n             * @param {Object} [params] - the item action additional params\n             * @param {Promise} [loadPromise] - wait this Promise to resolve before loading the item.\n             */\n            function computeNext(action, params, loadPromise){\n\n                var context = self.getTestContext();\n\n                //catch server errors\n                var submitError = function submitError(err){\n                    //some server errors are valid, so we don't fail (prevent empty responses)\n                    if(err.code === 200){\n                        self.trigger('alert.submitError',\n                            err.message || __('An error occurred during results submission. Please retry.'),\n                            load\n                        );\n                    } else {\n                        self.trigger('error', err);\n                    }\n                };\n\n                //if we have to display modal feedbacks, we submit the responses before the move\n                var feedbackPromise = new Promise( function(resolve){\n                    if(context.hasFeedbacks){\n                        params = _.omit(params, ['itemState', 'itemResponse']);\n\n                        self.getProxy()\n                            .submitItem(context.itemIdentifier, self.itemRunner.getState(), self.itemRunner.getResponses(), params)\n                            .then(function(results){\n                                if (results.itemSession) {\n                                    context.itemAnswered = results.itemSession.itemAnswered;\n\n                                    if(results.displayFeedbacks === true && results.feedbacks) {\n                                        self.itemRunner.renderFeedbacks(results.feedbacks, results.itemSession, function(queue){\n                                            self.trigger('modalFeedbacks', queue, resolve);\n                                        });\n                                        return;\n                                    }\n                                }\n                                return resolve();\n                            })\n                            .catch(submitError);\n                    } else {\n                        if (action === 'skip') {\n                            context.itemAnswered = false;\n                        } else {\n                            context.itemAnswered = currentItemHelper.isAnswered(self);\n                        }\n                        resolve();\n                    }\n                });\n\n                feedbackPromise.then(function(){\n                    // ensure the current item answer state is correctly set\n                    var item = mapHelper.getItemAt(self.getTestMap(), context.itemPosition);\n                    if (item) {\n                        item.answered = context.itemAnswered;\n                    }\n\n                    //to be sure load start after unload...\n                    //we add an intermediate ns event on unload\n                    self.on('unloaditem.' + action, function(){\n                        self.off('.'+action);\n\n                        self.getProxy()\n                            .callItemAction(context.itemIdentifier, action, params)\n                            .then(function(results){\n                                loadPromise = loadPromise || Promise.resolve();\n\n                                return loadPromise.then(function(){\n                                    return results;\n                                });\n                            })\n                            .then(function(results){\n                                if(results.testContext){\n                                    self.setTestContext(results.testContext);\n                                }\n\n                                if (results.testMap) {\n                                    self.buildTestMap(results.testMap, true);\n                                } else {\n                                    self.setTestMap(self.updateStats(self.getTestMap()));\n                                }\n\n                                load();\n                            })\n                            .catch(submitError);\n                    });\n\n                    self.unloadItem(context.itemIdentifier);\n                })\n                .catch(submitError);\n            }\n\n            /**\n             * Load the next action: load the current item or call finish based the test state\n             */\n            function load(){\n                var context = self.getTestContext();\n                var states = self.getTestData().states;\n                if(context.state <= states.interacting){\n                    self.loadItem(context.itemIdentifier);\n                } else if (context.state === states.closed){\n                    self.finish();\n                }\n            }\n\n            areaBroker.setComponent('toolbox', toolboxFactory());\n            areaBroker.getToolbox().init();\n\n            /*\n             * Install behavior on events\n             */\n            this\n                .on('ready', function(){\n                    //load the 1st item\n                    load();\n                })\n                .on('move', function(direction, scope, position){\n\n                    this.trigger('disablenav disabletools');\n\n                    computeNext('move', _.merge(getItemResults(), {\n                        direction : direction,\n                        scope     : scope || 'item',\n                        ref       : position\n                    }));\n                })\n                .on('skip', function(scope){\n\n                    this.trigger('disablenav disabletools');\n\n                    computeNext('skip', {\n                        scope     : scope || 'item'\n                    });\n                })\n                .on('exit', function(reason){\n                    var context = self.getTestContext();\n\n                    this.disableItem(context.itemIdentifier);\n\n                    this.getProxy()\n                        .callTestAction('exitTest', _.merge(getItemResults(), {\n                            itemDefinition : context.itemIdentifier,\n                            reason: reason\n                        }))\n                        .then(function(){\n                            return self.finish();\n                        })\n                        .catch(function(err){\n                            self.trigger('error', err);\n                        });\n                })\n                .on('timeout', function(scope, ref){\n\n                    var context = self.getTestContext();\n\n                    context.isTimeout = true;\n\n                    this.disableItem(context.itemIdentifier);\n\n                    computeNext(\n                        'timeout',\n                        _.merge(getItemResults(), {\n                            scope: scope,\n                            ref: ref\n                        }),\n                        new Promise(function(resolve){\n                            self.trigger('alert.timeout', __('Time limit reached, this part of the test has ended.'), resolve);\n                        })\n                    );\n                })\n                .on('pause', function(data){\n                    var pause;\n\n                    this.setState('closedOrSuspended', true);\n\n                    if (!this.getState('disconnected')) {\n                        // will notify the server that the test was auto paused\n                        pause = self.getProxy().callTestAction('pause', {\n                            reason: {\n                                reasons: data && data.reasons,\n                                comment : data && data.message\n                            }\n                        });\n                    } else {\n                        pause = Promise.resolve();\n                    }\n\n                    pause\n                        .then(function() {\n                            self.trigger('leave', {\n                                code: self.getTestData().states.suspended,\n                                message: data && data.message\n                            });\n                        })\n                        .catch(function(err){\n                            self.trigger('error', err);\n                        });\n                })\n                .on('loaditem', function(){\n                    var context = this.getTestContext();\n                    var states = this.getTestData().itemStates;\n                    var warning = false;\n\n                    /**\n                     * Get the label of the current item\n                     * @returns {String} the label (fallback to the item identifier);\n                     */\n                    var getItemLabel = function getItemLabel(){\n                        var item = mapHelper.getItem(self.getTestMap(), context.itemIdentifier);\n                        return item && item.label ? item.label : context.itemIdentifier;\n                    };\n\n                    //The item is rendered but in a state that prevents us from interacting\n                    if (context.isTimeout) {\n                        warning = __('Time limit reached for item \"%s\".', getItemLabel());\n\n                    } else if (context.itemSessionState > states.interacting) {\n\n                        if (context.remainingAttempts === 0) {\n                            warning = __('No more attempts allowed for item \"%s\".',  getItemLabel());\n                        } else {\n                            warning = __('Item \"%s\" is completed.', getItemLabel());\n                        }\n                    }\n\n                    //we disable the item and warn the user\n                    if (warning) {\n                        self.disableItem(context.itemIdentifier);\n                        self.trigger('warning', warning);\n                    }\n\n                })\n                .on('renderitem', function(){\n                    var context = this.getTestContext();\n\n                    if(!this.getItemState(context.itemIdentifier, 'disabled')){\n                        this.trigger('enabletools');\n                    }\n                    this.trigger('enablenav');\n                })\n                .on('resumeitem', function(){\n                    this.trigger('enableitem enablenav');\n                })\n                .on('disableitem', function(){\n                    this.trigger('disabletools');\n                })\n                .on('enableitem', function(){\n                    this.trigger('enabletools');\n                })\n                .on('error', function(){\n                    this.trigger('disabletools enablenav');\n                })\n                .on('finish', function () {\n                    this.trigger('endsession');\n                    this.flush();\n                })\n                .on('leave', function () {\n                    this.trigger('endsession');\n                    this.flush();\n                })\n                .on('flush', function () {\n                    this.destroy();\n                });\n\n            //starts the event collection\n            if(this.getProbeOverseer()){\n                this.getProbeOverseer().start();\n            }\n\n            //get the current store identifier to send it along with the init call\n            return store.getIdentifier().then(function(storeId){\n\n                //load data and current context in parallel at initialization\n                return self.getProxy().init({\n                    storeId : storeId\n                }).then(function(results){\n                    self.setTestData(results.testData);\n                    self.setTestContext(results.testContext);\n                    self.buildTestMap(results.testMap, true);\n\n                    //check if we need to trigger a storeChange\n                    if(!_.isEmpty(storeId) && !_.isEmpty(results.lastStoreId) && results.lastStoreId !== storeId){\n\n                        /**\n                         * We are changed the local storage engine (could be a browser change)\n                         * @event runner/provider/qti#storechange\n                         */\n                        self.trigger('storechange');\n                    }\n                });\n            });\n        },\n\n        /**\n         * Rendering phase of the test runner\n         *\n         * Attach the test runner to the DOM\n         *\n         * @this {runner} the runner context, not the provider\n         */\n        render : function render(){\n\n            var config = this.getConfig();\n            var broker = this.getAreaBroker();\n\n            config.renderTo.append(broker.getContainer());\n\n            areaBroker.getToolbox().render(areaBroker.getToolboxArea());\n        },\n\n        /**\n         * LoadItem phase of the test runner\n         *\n         * We call the proxy in order to get the item data\n         *\n         * @this {runner} the runner context, not the provider\n         * @param {String} itemIdentifier - The identifier of the item to update\n         * @returns {Promise} that calls in parallel the state and the item data\n         */\n        loadItem : function loadItem(itemIdentifier){\n            return this.getProxy().getItem(itemIdentifier)\n                .then(function(data){\n                    //aggregate the results\n                    return {\n                        content : data.itemData,\n                        baseUrl : data.baseUrl,\n                        state : data.itemState\n                    };\n                });\n        },\n\n        /**\n         * RenderItem phase of the test runner\n         *\n         * Here we initialize the item runner and wrap it's call to the test runner\n         *\n         * @this {runner} the runner context, not the provider\n         * @param {String} itemIdentifier - The identifier of the item to update\n         * @param {Object} itemData - The definition data of the item\n         * @returns {Promise} resolves when the item is ready\n         */\n        renderItem : function renderItem(itemIdentifier, itemData){\n            var self = this;\n\n            var changeState = function changeState(){\n                self.setItemState(itemIdentifier, 'changed', true);\n            };\n\n            return new Promise(function(resolve, reject){\n                assetManager.setData('baseUrl', itemData.baseUrl);\n\n                itemData.content = itemData.content || {};\n\n                self.itemRunner = qtiItemRunner(itemData.content.type, itemData.content.data, {\n                    assetManager: assetManager\n                })\n                .on('error', function(err){\n                    self.trigger('enablenav');\n                    reject(err);\n                })\n                .on('init', function(){\n                    var options = {};\n                    if(itemData.state){\n                        this.setState(itemData.state);\n                        options.state = itemData.state;//official ims portable element requires state information during rendering\n                    }\n                    this.render(self.getAreaBroker().getContentArea(), options);\n                })\n                .on('render', function(){\n\n                    this.on('responsechange', changeState);\n                    this.on('statechange', changeState);\n\n                    resolve();\n                })\n                .init();\n            });\n        },\n\n        /**\n         * UnloadItem phase of the test runner\n         *\n         * Item clean up\n         *\n         * @this {runner} the runner context, not the provider\n         * @returns {Promise} resolves when the item is cleared\n         */\n        unloadItem : function unloadItem(){\n            var self = this;\n\n            self.trigger('beforeunloaditem disablenav disabletools');\n\n            return new Promise(function(resolve){\n                if(self.itemRunner){\n                    self.itemRunner\n                        .on('clear', resolve)\n                        .clear();\n                    return;\n                }\n                resolve();\n            });\n        },\n\n        /**\n         * Finish phase of the test runner\n         *\n         * Calls proxy.finish to close the test\n         *\n         * @this {runner} the runner context, not the provider\n         * @returns {Promise} proxy.finish\n         */\n        finish : function finish(){\n            var self = this;\n\n            if (!this.getState('finish')) {\n                this.trigger('disablenav disabletools');\n\n                if (self.stateStorage) {\n                    return self.stateStorage.removeStore();\n                }\n            }\n        },\n\n        /**\n         * Flushes the test variables before leaving the runner\n         *\n         * Clean up\n         *\n         * @this {runner} the runner context, not the provider\n         */\n        flush : function flush(){\n            var self = this;\n            var probeOverseer = this.getProbeOverseer();\n            var proxy = this.getProxy();\n            var flushPromise;\n\n            //if there is trace data collected by the probes\n            if(probeOverseer && !this.getState('disconnected')){\n                flushPromise = probeOverseer.flush()\n                    .then(function(data){\n                        var traceData = {};\n\n                        //we reformat the time set into a trace variables\n                        if(data && data.length){\n                            _.forEach(data, function(entry){\n                                var id = entry.type + '-' + entry.id;\n\n                                if(entry.marker){\n                                    id = entry.marker + '-' + id;\n                                }\n                                traceData[id] = entry;\n                            });\n                            //and send them\n                            return self.getProxy().sendVariables(traceData);\n                        }\n                    })\n                    .then(function(){\n                        probeOverseer.stop();\n                    });\n            } else {\n                flushPromise = Promise.resolve();\n            }\n\n            return flushPromise.then(function () {\n                // safely stop the communicator to prevent inconsistent communication while leaving\n                if (proxy.hasCommunicator()) {\n                    proxy.getCommunicator()\n                        .then(function (communicator) {\n                            return communicator.close();\n                        })\n                        // Silently catch the potential errors to avoid polluting the console.\n                        // The code above is present to close an already open communicator in order to avoid later\n                        // communication while the test is destroying. So if any error occurs here it is not very important,\n                        // the most time it will be a missing communicator error, due to disabled config.\n                        .catch(_.noop);\n                }\n            });\n        },\n\n        /**\n         * Destroy phase of the test runner\n         *\n         * Clean up\n         *\n         * @this {runner} the runner context, not the provider\n         */\n        destroy : function destroy(){\n\n            // prevent the item to be displayed while test runner is destroying\n            if (this.itemRunner) {\n                this.itemRunner.clear();\n            }\n            this.itemRunner = null;\n\n            if(areaBroker){\n                areaBroker.getToolbox().destroy();\n                areaBroker = null;\n            }\n        }\n    };\n\n    return qtiProvider;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 Open Assessment Technologies SA ;\n */\n\n/**\n * Loads the configured proxy provider, based on the module config :\n *\n * {\n        'providerName' : 'qtiServiceProxy',\n        'module'       : 'taoQtiTest/runner/proxy/qtiServiceProxy'\n * }\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/runner/proxy/loader',[\n    'lodash',\n    'module',\n    'core/promise',\n    'taoTests/runner/proxy'\n], function(_, module, Promise, proxy){\n    'use strict';\n\n    /**\n     * The configuration of the provider to use with it's AMD module\n     */\n    var config = _.defaults(module.config(), {\n        'providerName' : 'qtiServiceProxy',\n        'module'       : 'taoQtiTest/runner/proxy/qtiServiceProxy'\n    });\n\n    /**\n     * Load and register the configured providers\n     * @returns {Promise} resolves with the regsitered provider name\n     */\n    return function load(){\n        return new  Promise(function (resolve, reject){\n            require([config.module], function(proxyProvider){\n                proxy.registerProvider(config.providerName, proxyProvider);\n                resolve(config.providerName);\n            }, reject);\n        });\n    };\n});\n\n","\ndefine('css!taoQtiTestCss/new-test-runner',[],function(){});\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n\n/**\n * Test runner controller entry\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/controller/runner/runner',[\n    'jquery',\n    'lodash',\n    'i18n',\n    'context',\n    'core/promise',\n    'core/communicator',\n    'core/communicator/poll',\n    'core/logger',\n    'layout/loading-bar',\n    'ui/feedback',\n    'taoTests/runner/runner',\n    'taoQtiTest/runner/provider/qti',\n    'taoQtiTest/runner/proxy/loader',\n    'core/pluginLoader',\n    'util/url',\n    'css!taoQtiTestCss/new-test-runner'\n], function ($, _, __, context, Promise, communicator, pollProvider, loggerFactory, loadingBar, feedback,\n             runner, qtiProvider, proxyLoader, pluginLoaderFactory, urlUtil) {\n    'use strict';\n\n    /**\n     * List of options required by the controller\n     * @type {String[]}\n     */\n    var requiredOptions = [\n        'testDefinition',\n        'testCompilation',\n        'serviceCallId',\n        'bootstrap',\n        'exitUrl',\n        'plugins'\n    ];\n\n    /**\n     * TODO provider registration should be loaded dynamically\n     * the same way the proxy and the plugins are loaded\n     */\n    runner.registerProvider('qti', qtiProvider);\n    communicator.registerProvider('poll', pollProvider);\n\n    /**\n     * The runner controller\n     */\n    return {\n\n        /**\n         * Controller entry point\n         *\n         * @param {Object}   options - the testRunner options\n         * @param {String}   options.testDefinition - the test definition id\n         * @param {String}   options.testCompilation - the test compilation id\n         * @param {String}   options.serviceCallId - the service call id\n         * @param {Object}   options.bootstrap - contains the extension and the controller to call\n         * @param {String}   options.exitUrl - the full URL where to return at the final end of the test\n         * @param {Object[]} options.plugins - the collection of plugins to load\n         */\n        start: function start(options) {\n\n            var exitReason;\n            var $container = $('.runner');\n            var logger     = loggerFactory('controller/runner', { runnerOptions : options });\n\n            /**\n             * Does the option exists ?\n             * @param {String} name - the option key\n             * @returns {Boolean}\n             */\n            var hasOption = function hasOption(name){\n                return typeof options[name] !== 'undefined';\n            };\n\n            /**\n             * Exit the test runner using the configured exitUrl\n             * @param {String} [reason] - to add a warning once left\n             */\n            var exit = function exit(reason){\n                var url = options.exitUrl;\n                if (reason) {\n                    url = urlUtil.build(url, {\n                        warning: reason\n                    });\n                }\n                window.location = url;\n            };\n\n            /**\n             * Handles errors\n             * @param {Error} err - the thrown error\n             * @param {String} [displayMessage] - an alternate message to display\n             */\n            var onError = function onError(err, displayMessage) {\n                displayMessage = displayMessage || err.message;\n\n                if(!_.isString(displayMessage)){\n                    displayMessage = JSON.stringify(displayMessage);\n                }\n                loadingBar.stop();\n\n\n                logger.error({ displayMessage : displayMessage }, err);\n\n                if(err.code === 403) {\n                    //we just leave if any 403 occurs\n                    return exit();\n                }\n                feedback().error(displayMessage, { timeout : -1 });\n            };\n\n            /**\n             * Load the plugins dynamically\n             * @param {Object[]} plugins - the collection of plugins to load\n             * @returns {Promise} resolves with the list of loaded plugins\n             */\n            var loadPlugins = function loadPlugins(plugins){\n\n                return pluginLoaderFactory()\n                        .addList(plugins)\n                        .load(context.bundle);\n            };\n\n            /**\n             * Load the configured proxy provider\n             * @returns {Promise} resolves with the name of the proxy provider\n             */\n            var loadProxy = function loadProxy(){\n                return proxyLoader();\n            };\n\n            loadingBar.start();\n\n            // verify required options\n            if( ! _.every(requiredOptions, hasOption)) {\n                return onError(new TypeError(__('Missing required option %s', name)));\n            }\n\n            //load the plugins and the proxy provider\n            Promise\n                .all([\n                    loadPlugins(options.plugins),\n                    loadProxy()\n                ])\n                .then(function (results) {\n\n                    var plugins = results[0];\n                    var proxyProviderName = results[1];\n\n                    var config = _.omit(options, 'plugins');\n                    config.proxyProvider = proxyProviderName;\n                    config.renderTo      = $container;\n\n                    logger.debug({ config: config, plugins: plugins}, 'Start test runner');\n\n                    //instantiate the QtiTestRunner\n                    runner('qti', plugins, config)\n                        .on('error', onError)\n                        .on('ready', function () {\n                            _.defer(function () {\n                                $container.removeClass('hidden');\n                            });\n                        })\n                        .on('pause', function(data) {\n                            if (data && data.reason) {\n                                exitReason = data.reason;\n                            }\n                        })\n                        .after('destroy', function () {\n                            this.removeAllListeners();\n\n                            // at the end, we are redirected to the exit URL\n                            exit(exitReason);\n                        })\n                        .init();\n                })\n                .catch(function(err){\n                    onError(err, __('An error occurred during the test initialization!'));\n                });\n        }\n    };\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sbastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoQtiTest/runner/config/qtiServiceConfig',[\n    'lodash',\n    'helpers'\n], function(_, helpers) {\n    'use strict';\n\n    /**\n     * Some default config values\n     * @type {Object}\n     * @private\n     */\n    var _defaults = {\n        bootstrap : {\n            serviceController : 'Runner',\n            serviceExtension : 'taoQtiTest'\n        }\n    };\n\n    /**\n     * The list of handled config entries. Each required entry is set to true, while optional entries are set to false.\n     * @type {Object}\n     * @private\n     */\n    var _entries = {\n        testDefinition : true,\n        testCompilation : true,\n        serviceCallId : true,\n        bootstrap : false,\n        timeout : false\n    };\n\n    /**\n     * Extract the handled config entries.\n     * @param {Object} config\n     * @returns {Object}\n     * @throws Error if a required entry is missing\n     */\n    function getConfig(config) {\n        var storage = {};\n        _.forEach(_entries, function(value, name) {\n            if ('undefined' !== typeof config[name]) {\n                storage[name] = config[name];\n            } else if (value) {\n                throw new Error('The config entry \"' + name + '\" is required!');\n            }\n        });\n        return _.defaults(storage, _defaults);\n    }\n\n    /**\n     * Creates a config object for the proxy implementation\n     * @param {Object} config - Some required and optional config\n     * @param {String} config.testDefinition - The URI of the test\n     * @param {String} config.testCompilation - The URI of the compiled delivery\n     * @param {String} config.serviceCallId - The URI of the service call\n     * @param {String} [config.serviceController] - The name of the service controller\n     * @param {String} [config.serviceExtension] - The name of the extension containing the service controller\n     * @returns {Object}\n     */\n    function configFactory(config) {\n        // protected storage\n        var storage = getConfig(config);\n        var noop;\n\n        // convert some values from seconds to milliseconds\n        if (storage.timeout) {\n            storage.timeout *= 1000;\n        } else {\n            storage.timeout = noop;\n        }\n\n        // returns only a proxy storage object : no direct access to data is provided\n        return {\n            /**\n             * Gets the URI of the test\n             * @returns {String}\n             */\n            getTestDefinition : function getTestDefinition() {\n                return storage.testDefinition;\n            },\n\n            /**\n             * Gets the URI of the compiled delivery\n             * @returns {String}\n             */\n            getTestCompilation : function getTestCompilation() {\n                return storage.testCompilation;\n            },\n\n            /**\n             * Gets the URI of the service call\n             * @returns {String}\n             */\n            getServiceCallId : function getServiceCallId() {\n                return storage.serviceCallId;\n            },\n\n            /**\n             * Gets the name of the service controller\n             * @returns {String}\n             */\n            getServiceController : function getServiceController() {\n                return storage.bootstrap.serviceController || _defaults.bootstrap.serviceController;\n            },\n\n            /**\n             * Gets the name of the extension containing the service controller\n             * @returns {String}\n             */\n            getServiceExtension : function getServiceExtension() {\n                return storage.bootstrap.serviceExtension || _defaults.bootstrap.serviceExtension;\n            },\n\n            /**\n             * Gets an URL of a service action related to the test\n             * @param {String} action - the name of the action to request\n             * @returns {String} - Returns the URL\n             */\n            getTestActionUrl : function getTestActionUrl(action) {\n                return helpers._url(action, this.getServiceController(), this.getServiceExtension(), {\n                    testDefinition : this.getTestDefinition(),\n                    testCompilation : this.getTestCompilation(),\n                    serviceCallId : this.getServiceCallId()\n                });\n            },\n\n            /**\n             * Gets an URL of a service action related to a particular item\n             * @param {String} itemIdentifier - The URI of the item\n             * @param {String} action - the name of the action to request\n             * @returns {String} - Returns the URL\n             */\n            getItemActionUrl : function getItemActionUrl(itemIdentifier, action) {\n                return helpers._url(action, this.getServiceController(), this.getServiceExtension(), {\n                    testDefinition : this.getTestDefinition(),\n                    testCompilation : this.getTestCompilation(),\n                    testServiceCallId : this.getServiceCallId(),\n                    itemDefinition : itemIdentifier\n                });\n            },\n\n            /**\n             * Gets an URL of a telemetry signal related to a particular item\n             * @param {String} itemIdentifier - The URI of the item\n             * @param {String} signal - the name of the signal to request\n             * @returns {String} - Returns the URL\n             */\n            getTelemetryUrl : function getTelemetryUrl(itemIdentifier, signal) {\n                return helpers._url(signal, this.getServiceController(), this.getServiceExtension(), {\n                    testDefinition : this.getTestDefinition(),\n                    testCompilation : this.getTestCompilation(),\n                    testServiceCallId : this.getServiceCallId(),\n                    itemDefinition : itemIdentifier\n                });\n            },\n\n            /**\n             * Gets the request timeout\n             * @returns {Number}\n             */\n            getTimeout : function getTimeout() {\n                return storage.timeout;\n            },\n\n            /**\n             * Gets the config for the communication channel\n             * @returns {Object}\n             */\n            getCommunicationConfig : function getCommunicationConfig() {\n                var communication = storage.bootstrap.communication || {};\n                var extension = communication.extension || this.getServiceExtension();\n                var controller = communication.controller || this.getServiceController();\n                var action = communication.action;\n\n                // build the service address from the provided config\n                // it can be overwritten by a full url from the config\n                var service = helpers._url(action, controller, extension, {\n                    testDefinition : this.getTestDefinition(),\n                    testCompilation : this.getTestCompilation(),\n                    serviceCallId : this.getServiceCallId()\n                });\n\n                // append the address of the remote service to target\n                var params = _.merge(communication.params || {}, {\n                    service: communication.service || service\n                });\n\n                // convert some values from seconds to milliseconds\n                if (params.timeout) {\n                    params.timeout *= 1000;\n                } else {\n                    params.timeout = storage.timeout;\n                }\n                if (params.interval) {\n                    params.interval *= 1000;\n                }\n\n                return {\n                    enabled: communication.enabled,\n                    type: communication.type,\n                    params: params\n                };\n            }\n        };\n    }\n\n    return configFactory;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n/**\n * This helper provides more statistics about the test\n *\n * @author Jean-Sbastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoQtiTest/runner/helpers/stats',[\n    'lodash',\n    'taoQtiTest/runner/helpers/map',\n    'taoQtiTest/runner/helpers/currentItem'\n], function (_, mapHelper, currentItemHelper) {\n    'use strict';\n\n    /**\n     * Return scope stats that takes into account any test taker interaction made since the item has been loaded\n     * @param {String} scope - scope to consider for calculating the stats\n     * @param {Object} runner - testRunner instance\n     * @returns {Object}\n     */\n    function getInstantStats(scope, runner) {\n        var map = runner.getTestMap(),\n            context = runner.getTestContext(),\n            stats = _.clone(mapHelper.getScopeStats(map, context.itemPosition, scope)),\n\n            isItemCurrentlyAnswered = currentItemHelper.isAnswered(runner);\n\n        if (!isItemCurrentlyAnswered && context.itemAnswered) {\n            stats.answered--;\n\n        } else if (isItemCurrentlyAnswered && !context.itemAnswered) {\n            stats.answered++;\n        }\n\n        return stats;\n    }\n\n    return {\n        getInstantStats: getInstantStats\n    };\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sbastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoQtiTest/runner/helpers/messages',[\n    'lodash',\n    'i18n',\n    'taoQtiTest/runner/helpers/map',\n    'taoQtiTest/runner/helpers/stats',\n    'taoQtiTest/runner/helpers/currentItem'\n], function (_, __, mapHelper, statsHelper, currentItemHelper) {\n    'use strict';\n\n    /**\n     * Completes an exit message\n     * @param {String} message - custom message that will be appended to the unanswered stats count\n     * @param {String} scope - scope to consider for calculating the stats\n     * @param {Object} runner - testRunner instance\n     * @returns {String} Returns the message text\n     */\n    function getExitMessage(message, scope, runner) {\n        var itemsCountMessage = '';\n\n        var testData = runner.getTestData(),\n            testConfig = testData && testData.config,\n            messageEnabled = testConfig ? testConfig.enableUnansweredItemsWarning : true;\n\n        if (messageEnabled) {\n            itemsCountMessage = getUnansweredItemsWarning(scope, runner);\n        }\n\n        return (itemsCountMessage + \" \" + message).trim();\n    }\n\n    /**\n     * Build message if not all items have answers\n     * @param {String} scope - scope to consider for calculating the stats\n     * @param {Object} runner - testRunner instance\n     * @returns {String} Returns the message text\n     */\n    function getUnansweredItemsWarning(scope, runner) {\n        var stats = statsHelper.getInstantStats(scope, runner);\n        var unansweredCount = stats && (stats.questions - stats.answered);\n        var flaggedCount = stats && stats.flagged;\n        var itemsCountMessage = '';\n        var map = runner.getTestMap();\n        var jump = mapHelper.getJump(map, runner.getTestContext().itemPosition);\n        var belowSections;\n\n        if (scope === 'section' || scope === 'testSection'){\n            if (unansweredCount === 0) {\n                itemsCountMessage += __('You answered all %s question(s) in this section',\n                    stats.questions.toString()\n                );\n            } else {\n                itemsCountMessage = __('You answered only %s of the %s question(s) in this section',\n                    stats.answered.toString(),\n                    stats.questions.toString()\n                );\n            }\n            if (flaggedCount) {\n                itemsCountMessage += ', ';\n                itemsCountMessage +=  __('and flagged %s of them', flaggedCount.toString());\n            }\n        } else if(scope === 'test') {\n            //collect statistics from below sections\n            belowSections = getNextSections(map, jump.section);\n\n            _.forEach(belowSections, function (section) {\n                _.forEach(mapHelper.getSectionStats(runner.getTestMap(), section.id), function (sectionStats, statsKey){\n                    stats[statsKey] += sectionStats;\n                });\n            });\n\n            unansweredCount = stats && (stats.questions - stats.answered);\n            flaggedCount = stats && stats.flagged;\n\n            if (unansweredCount === 0) {\n                itemsCountMessage = __('You answered all %s question(s) in this test',\n                    stats.questions.toString()\n                );\n            } else {\n                itemsCountMessage = __('You have %s unanswered question(s)', unansweredCount.toString());\n            }\n            if (flaggedCount) {\n                itemsCountMessage += ' ' + __('and you flagged %s item(s) that you can review now', flaggedCount.toString());\n            }\n        } else if(scope === 'part') {\n            if (unansweredCount === 0) {\n                itemsCountMessage = __('You answered all %s question(s)',\n                    stats.questions.toString()\n                );\n            } else {\n                itemsCountMessage = __('You have %s unanswered question(s)', unansweredCount.toString());\n            }\n            if (flaggedCount) {\n                itemsCountMessage += ' ' + __('and you flagged %s item(s) that you can review now', flaggedCount.toString());\n            }\n        }\n\n        if (itemsCountMessage) {\n            itemsCountMessage += '.';\n        }\n        return itemsCountMessage;\n    }\n\n    /**\n     * Return sections below current.\n     * @param map\n     * @param currentSectionId\n     * @return {Object}\n     */\n    function getNextSections(map, currentSectionId) {\n        var sections = mapHelper.getSections(map),\n            result = {},\n            below = false;\n\n        _.forEach(sections, function (section) {\n            if (below) {\n                result[section.id] = section;\n            }\n            if (section.id === currentSectionId) {\n                below = true;\n            }\n        });\n\n        return result;\n    }\n\n    return {\n        getExitMessage: getExitMessage\n    };\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 (original work) Open Assessment Technologies SA ;\n */\n\n/**\n * Navigate inside a test based on the information we have (testData, testMap and testContext),\n * we can't guess some of the information, so we're back to the default values :\n *  - rubric blocks (we just leave it, except if we change the section)\n *  - timers (we remove them if we change the scope)\n *  - attempts (we calculated the remaining attempts based on the last known value)\n *  - feedback is not supported\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/runner/navigator/navigator',[\n    'lodash',\n    'taoQtiTest/runner/helpers/map',\n    'taoQtiTest/runner/helpers/navigation'\n], function(_, mapHelper, navigationHelper){\n    'use strict';\n\n    /**\n     * Gives you a navigator\n     * @param {Object} testData\n     * @param {Object} testContext\n     * @param {Object} testMap\n     * @returns {Object} the navigator\n     * @throws {TypeError} if the given parameters aren't objects\n     */\n    var navigatorFactory = function navigatorFactory(testData, testContext, testMap){\n\n        /**\n         * Build context data, mostly from the test map if you\n         * want to move the item to the given position\n         * @param {Number} position - the target position\n         * @returns {Object} the new context data\n         */\n        var buildContextFromPosition = function buildContextFromPosition(position){\n\n            var newSection;\n            var newTestPart;\n            var isLeavingSection;\n            var isLeavingTestPart;\n            var newContext;\n            var updatedMap = mapHelper.updateItemStats(testMap, position);\n            var newItem    = mapHelper.getItemAt(updatedMap, position);\n\n            if(!newItem){\n                return false;\n            }\n\n            newSection        = mapHelper.getItemSection(updatedMap, position);\n            newTestPart       = mapHelper.getItemPart(updatedMap, position);\n            isLeavingSection  = (newSection.id !== testContext.sectionId);\n            isLeavingTestPart = (newTestPart.id !== testContext.testPartId);\n\n            //guess the new testContext data\n            newContext = _.defaults({\n                itemIdentifier : newItem.id,\n                itemPosition   : position,\n\n                //FIXME numberPresented can be late\n                numberPresented : testMap.stats.viewed,\n                numberCompleted : testMap.stats.answered,\n\n                //FIXME unsupported yet\n                hasFeedbacks : false,\n\n                //FIXME maintain attempts\n                //FIXME attempts can be incorrect (based on last known value)\n                remainingAttempts : (newItem.remainingAttempts > -1) ? newItem.remainingAttempts - 1 : -1,\n\n                sectionId:       newSection.id,\n                sectionTitle:    newSection.label,\n                testPartId:      newTestPart.id,\n                isLinear:        newTestPart.isLinear,\n                isLast:          navigationHelper.isLast(testMap, newItem.id),\n                canMoveBackward: !newTestPart.isLinear && !navigationHelper.isFirst(testMap, newItem.id)\n            }, testContext);\n\n            //if the section is different, we don't keep the rubric blocks\n            if(isLeavingSection){\n                newContext.numberRubrics = 0;\n                newContext.rubrics = '';\n            }\n\n            //remove timers if they're not on the same scope\n            newContext.timeConstraints = _.reject(testContext.timeConstraints, function(constraint){\n                return constraint.qtiClassName === 'assessmentItemRef' ||\n                       (isLeavingSection && constraint.qtiClassName === 'assessmentSection') ||\n                       (isLeavingTestPart && constraint.qtiClassName === 'testPart');\n            });\n\n            if(newItem.timeConstraint){\n                newContext.timeConstraints.push(newItem.timeConstraint);\n            }\n            if(isLeavingSection && newSection.timeConstraint){\n                newContext.timeConstraints.push(newSection.timeConstraint);\n            }\n            if(isLeavingTestPart && newTestPart.timeConstraint){\n                newContext.timeConstraints.push(newTestPart.timeConstraint);\n            }\n\n            return newContext;\n        };\n\n        if(!_.all([testData, testContext, testMap], _.isPlainObject)){\n            throw new TypeError('The navigator must be built with a testData, a testContext and a testMap');\n        }\n\n        return {\n\n            /**\n             * Selects and execute the navigation method based on the direction/scope.\n             *\n             * @param {String} direction - the move direction (next, previous or jump)\n             * @param {String} scope - the move scope (item, section, testPart)\n             * @param {Number} [position] - the position in case of jump\n             * @returns {Object|Boolean} - false if we can't navigate, otherwise the result of the nav\n             */\n            navigate : function navigate(direction, scope, position){\n                var methodName = direction.toLowerCase() +\n                                 scope.substr(0, 1).toUpperCase() +\n                                 scope.substr(1).toLowerCase();\n\n                if(_.isFunction(this[methodName])){\n                    return this[methodName](position);\n                }\n            },\n\n            /**\n             * Navigate to the next item\n             * @returns {Object} the new test context\n             */\n            nextItem : function nextItem(){\n                return  buildContextFromPosition(testContext.itemPosition + 1);\n            },\n\n            /**\n             * Navigate to the next item\n             * @returns {Object} the new test context\n             */\n            previousItem : function previsousItem(){\n                return buildContextFromPosition(testContext.itemPosition - 1);\n            },\n\n            /**\n             * Navigate to the next item\n             * @returns {Object} the new test context\n             */\n            nextSection : function nextSection(){\n                var sectionStats = mapHelper.getSectionStats(testMap, testContext.sectionId);\n                var section      = mapHelper.getSection(testMap, testContext.sectionId);\n\n                return buildContextFromPosition(section.position + sectionStats.total);\n            },\n\n            /**\n             * Navigate to the given position\n             * @param {Number} position - the position\n             * @returns {Object} the new test context\n             */\n            jumpItem : function jumpItem(position){\n                return buildContextFromPosition(position);\n            }\n        };\n    };\n\n    return navigatorFactory;\n});\n\n","\ndefine('css!taoQtiTestCss/plugins/key-navigation',[],function(){});\n","\ndefine('tpl!taoQtiTest/runner/plugins/content/rubricBlock/rubricBlock', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<div id=\\\"qti-rubrics\\\"></div>\\n\";\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/runner/plugins/controls/connectivity/connectivity', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing;\n\n\n  buffer += \"<div class=\\\"connectivity-box \";\n  if (helper = helpers.state) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.state); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n    <span data-control=\\\"connectivity-connected\\\" class=\\\"qti-controls icon-connect\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Connected to server\", options) : helperMissing.call(depth0, \"__\", \"Connected to server\", options)))\n    + \"\\\"></span>\\n    <span data-control=\\\"connectivity-disconnected\\\" class=\\\"qti-controls icon-disconnect\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Disconnected from server\", options) : helperMissing.call(depth0, \"__\", \"Disconnected from server\", options)))\n    + \"\\\"></span>\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/runner/plugins/controls/progressbar/progressbar', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<div class=\\\"progress-box\\\">\\n    <div data-control=\\\"progress-bar\\\" class=\\\"qti-controls progressbar info\\\"></div>\\n    <div data-control=\\\"progress-label\\\" class=\\\"qti-controls\\\"></div>\\n</div>\\n\";\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/runner/plugins/controls/timer/timer', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  \n  return \" disabled\";\n  }\n\n  buffer += \"<span class=\\\"qti-timer qti-timer__type-\";\n  if (helper = helpers.type) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.type); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \" qti-controls \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.running), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" data-control=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" title=\\\"\";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n    <span class=\\\"qti-timer_label truncate\\\">\";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n    <span class=\\\"qti-timer_time\\\"></span>\\n</span>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/runner/plugins/controls/timer/timers', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"timer-box\\\">\\n    <a href=\\\"#\\\" class=\\\"timer-toggler hidden\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Hide timers\", options) : helperMissing.call(depth0, \"__\", \"Hide timers\", options)))\n    + \"\\\"><span class=\\\"icon-clock\\\"></span></a>\\n    <div class=\\\"timer-wrapper\\\"></div>\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/runner/plugins/controls/title/title', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, functionType=\"function\", escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n        <span data-control=\\\"\";\n  if (helper = helpers.control) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.control); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" class=\\\"qti-controls\\\" title=\\\"\";\n  if (helper = helpers.text) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.text); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\";\n  stack1 = helpers.unless.call(depth0, (data == null || data === false ? data : data.first), {hash:{},inverse:self.noop,fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  if (helper = helpers.text) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.text); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n    \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  \n  return \" - \";\n  }\n\n  buffer += \"<div class=\\\"title-box truncate\\\">\\n    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.titles), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/runner/plugins/navigation/review/navigator', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, self=this;\n\nfunction program1(depth0,data) {\n  \n  \n  return \" hidden\";\n  }\n\nfunction program3(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += \"\\n    <div class=\\\"qti-navigator-info collapsible\\\">\\n                <span class=\\\"qti-navigator-label\\\">\\n                    <span class=\\\"qti-navigator-text\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Test status\", options) : helperMissing.call(depth0, \"__\", \"Test status\", options)))\n    + \"</span>\\n                    <span class=\\\"icon-up\\\"></span>\\n                    <span class=\\\"icon-down\\\"></span>\\n                </span>\\n        <ul class=\\\"collapsible-panel plain\\\">\\n            <li class=\\\"qti-navigator-viewed\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Viewed items\", options) : helperMissing.call(depth0, \"__\", \"Viewed items\", options)))\n    + \"\\\">\\n                        <span class=\\\"qti-navigator-label\\\">\\n                            <span class=\\\"qti-navigator-icon icon-viewed\\\"></span>\\n                            <span class=\\\"qti-navigator-text\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Viewed\", options) : helperMissing.call(depth0, \"__\", \"Viewed\", options)))\n    + \"</span>\\n                            <span class=\\\"qti-navigator-counter\\\">-/-</span>\\n                        </span>\\n            </li>\\n            <li class=\\\"qti-navigator-answered\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Completed items\", options) : helperMissing.call(depth0, \"__\", \"Completed items\", options)))\n    + \"\\\">\\n                        <span class=\\\"qti-navigator-label\\\">\\n                            <span class=\\\"qti-navigator-icon icon-answered\\\"></span>\\n                            <span class=\\\"qti-navigator-text\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Answered\", options) : helperMissing.call(depth0, \"__\", \"Answered\", options)))\n    + \"</span>\\n                            <span class=\\\"qti-navigator-counter\\\">-/-</span>\\n                        </span>\\n            </li>\\n            <li class=\\\"qti-navigator-unanswered\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Unanswered items\", options) : helperMissing.call(depth0, \"__\", \"Unanswered items\", options)))\n    + \"\\\">\\n                        <span class=\\\"qti-navigator-label\\\">\\n                            <span class=\\\"qti-navigator-icon icon-unanswered\\\"></span>\\n                            <span class=\\\"qti-navigator-text\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Unanswered\", options) : helperMissing.call(depth0, \"__\", \"Unanswered\", options)))\n    + \"</span>\\n                            <span class=\\\"qti-navigator-counter\\\">-/-</span>\\n                        </span>\\n            </li>\\n            <li class=\\\"qti-navigator-flagged\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Items marked for later review\", options) : helperMissing.call(depth0, \"__\", \"Items marked for later review\", options)))\n    + \"\\\">\\n                        <span class=\\\"qti-navigator-label\\\">\\n                            <span class=\\\"qti-navigator-icon icon-flagged\\\"></span>\\n                            <span class=\\\"qti-navigator-text\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Flagged\", options) : helperMissing.call(depth0, \"__\", \"Flagged\", options)))\n    + \"</span>\\n                            <span class=\\\"qti-navigator-counter\\\">-/-</span>\\n                        </span>\\n            </li>\\n        </ul>\\n    </div>\\n    \";\n  return buffer;\n  }\n\nfunction program5(depth0,data) {\n  \n  \n  return \"(<span class=\\\"qti-navigator-counter\\\">0</span>)\";\n  }\n\nfunction program7(depth0,data) {\n  \n  \n  return \"icon-unanswered \";\n  }\n\nfunction program9(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Unanswered\", options) : helperMissing.call(depth0, \"__\", \"Unanswered\", options)))\n    + \" (<span class=\\\"qti-navigator-counter\\\">0</span>)\";\n  return buffer;\n  }\n\nfunction program11(depth0,data) {\n  \n  \n  return \"icon-flagged \";\n  }\n\nfunction program13(depth0,data) {\n  \n  var buffer = \"\", helper, options;\n  buffer += escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Flagged\", options) : helperMissing.call(depth0, \"__\", \"Flagged\", options)))\n    + \" (<span class=\\\"qti-navigator-counter\\\">0</span>)\";\n  return buffer;\n  }\n\n  buffer += \"<div class=\\\"qti-panel qti-navigator\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.hidden), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\">\\n    <div class=\\\"qti-navigator-collapsible\\\">\\n        <span class=\\\"qti-navigator-collapse icon icon-left\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Collapse the review panel\", options) : helperMissing.call(depth0, \"__\", \"Collapse the review panel\", options)))\n    + \"\\\"></span>\\n        <span class=\\\"qti-navigator-expand icon icon-right\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Expand the review panel\", options) : helperMissing.call(depth0, \"__\", \"Expand the review panel\", options)))\n    + \"\\\"></span>\\n    </div>\\n    \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.showLegend), {hash:{},inverse:self.noop,fn:self.program(3, program3, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n\\n\\n    <div class=\\\"qti-navigator-filters\\\">\\n        <ul class=\\\"plain clearfix\\\">\\n            <li class=\\\"qti-navigator-filter active\\\" data-mode=\\\"all\\\">\\n                <span title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Reset filters\", options) : helperMissing.call(depth0, \"__\", \"Reset filters\", options)))\n    + \"\\\" class=\\\"qti-navigator-tab\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"All\", options) : helperMissing.call(depth0, \"__\", \"All\", options)))\n    + \"\\n                    \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.showLegend), {hash:{},inverse:self.noop,fn:self.program(5, program5, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                </span>\\n            </li>\\n\\n            <li class=\\\"qti-navigator-filter\\\" data-mode=\\\"unanswered\\\">\\n                <span class=\\\"\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.showLegend), {hash:{},inverse:self.noop,fn:self.program(7, program7, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"qti-navigator-tab\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Only display the unanswered items\", options) : helperMissing.call(depth0, \"__\", \"Only display the unanswered items\", options)))\n    + \"\\\">\\n                    \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.showLegend), {hash:{},inverse:self.noop,fn:self.program(9, program9, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                </span>\\n            </li>\\n\\n            <li class=\\\"qti-navigator-filter\\\" data-mode=\\\"flagged\\\">\\n                <span class=\\\"\";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.showLegend), {hash:{},inverse:self.noop,fn:self.program(11, program11, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"qti-navigator-tab\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Only display the items marked for review\", options) : helperMissing.call(depth0, \"__\", \"Only display the items marked for review\", options)))\n    + \"\\\">\\n                    \";\n  stack1 = helpers.unless.call(depth0, (depth0 && depth0.showLegend), {hash:{},inverse:self.noop,fn:self.program(13, program13, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                </span>\\n            </li>\\n        </ul>\\n    </div>\\n\\n    <nav class=\\\"qti-navigator-tree\\\"></nav>\\n\\n    <div id=\\\"qti-navigator-linear\\\" class=\\\"qti-navigator-linear\\\">\\n        <span class=\\\"icon icon-info\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"In this part of the test navigation is not allowed.\", options) : helperMissing.call(depth0, \"__\", \"In this part of the test navigation is not allowed.\", options)))\n    + \"\\\"></span>\\n        <p class=\\\"qti-navigator-message\\\">\\n            \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"In this part of the test navigation is not allowed.\", options) : helperMissing.call(depth0, \"__\", \"In this part of the test navigation is not allowed.\", options)))\n    + \"\\n        </p>\\n    </div>\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/runner/plugins/navigation/review/navigatorTree', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression, functionType=\"function\", self=this;\n\nfunction program1(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n    <li class=\\\"qti-navigator-part collapsible \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.active), {hash:{},inverse:self.program(4, program4, data),fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" data-id=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n        <span class=\\\"qti-navigator-label\\\" title=\\\"\";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n            <span class=\\\"qti-navigator-text\\\">\";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n            <span class=\\\"icon-up\\\"></span>\\n            <span class=\\\"icon-down\\\"></span>\\n        </span>\\n        \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.isLinear), {hash:{},inverse:self.program(8, program8, data),fn:self.program(6, program6, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n    </li>\\n    \";\n  return buffer;\n  }\nfunction program2(depth0,data) {\n  \n  \n  return \"active\";\n  }\n\nfunction program4(depth0,data) {\n  \n  \n  return \"collapsed\";\n  }\n\nfunction program6(depth0,data) {\n  \n  var buffer = \"\", stack1, helper, options;\n  buffer += \"\\n        <div class=\\\"qti-navigator-linear-part collapsible-panel\\\">\\n            <span class=\\\"icon icon-info\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"In this part of the test navigation is not allowed.\", options) : helperMissing.call(depth0, \"__\", \"In this part of the test navigation is not allowed.\", options)))\n    + \"\\\"></span>\\n            <p class=\\\"qti-navigator-message\\\">\\n                \"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"In this part of the test navigation is not allowed.\", options) : helperMissing.call(depth0, \"__\", \"In this part of the test navigation is not allowed.\", options)))\n    + \"\\n            </p>\\n            <p class=\\\"qti-navigator-actions\\\">\\n                <button class=\\\"btn-info small\\\" data-position=\\\"\";\n  if (helper = helpers.position) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.position); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Start Test-part\", options) : helperMissing.call(depth0, \"__\", \"Start Test-part\", options)))\n    + \"\\\">\\n                    <span class=\\\"qti-navigator-text\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Start Test-part\", options) : helperMissing.call(depth0, \"__\", \"Start Test-part\", options)))\n    + \"</span>\\n                    <span class=\\\"icon-play r\\\"></span>\\n                </button>\\n            </p>\\n        </div>\\n        \";\n  return buffer;\n  }\n\nfunction program8(depth0,data) {\n  \n  var buffer = \"\", stack1;\n  buffer += \"\\n        <ul class=\\\"qti-navigator-sections collapsible-panel plain\\\">\\n            \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.sections), {hash:{},inverse:self.noop,fn:self.program(9, program9, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n        </ul>\\n        \";\n  return buffer;\n  }\nfunction program9(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n            <li class=\\\"qti-navigator-section collapsible \";\n  stack1 = helpers['if'].call(depth0, (depth0 && depth0.active), {hash:{},inverse:self.program(4, program4, data),fn:self.program(2, program2, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\\" data-id=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                <span class=\\\"qti-navigator-label\\\" title=\\\"\";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                    <span class=\\\"qti-navigator-text\\\">\";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n                    <span class=\\\"qti-navigator-counter\\\">\"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.stats)),stack1 == null || stack1 === false ? stack1 : stack1.answered)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"/\"\n    + escapeExpression(((stack1 = ((stack1 = (depth0 && depth0.stats)),stack1 == null || stack1 === false ? stack1 : stack1.total)),typeof stack1 === functionType ? stack1.apply(depth0) : stack1))\n    + \"</span>\\n                </span>\\n                <ul class=\\\"qti-navigator-items collapsible-panel plain\\\">\\n                    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.items), {hash:{},inverse:self.noop,fn:self.program(10, program10, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n                </ul>\\n            </li>\\n            \";\n  return buffer;\n  }\nfunction program10(depth0,data) {\n  \n  var buffer = \"\", stack1, helper;\n  buffer += \"\\n                    <li class=\\\"qti-navigator-item \";\n  if (helper = helpers.cls) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.cls); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" data-id=\\\"\";\n  if (helper = helpers.id) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.id); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\" data-position=\\\"\";\n  if (helper = helpers.position) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.position); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                        <span class=\\\"qti-navigator-label truncate\\\" title=\\\"\";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\">\\n                            <span class=\\\"qti-navigator-icon icon-\";\n  if (helper = helpers.icon) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.icon); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\\"></span>\\n                            <span class=\\\"qti-navigator-number\\\">\";\n  if (helper = helpers.index) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.index); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n                            \";\n  if (helper = helpers.label) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.label); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"\\n                        </span>\\n                    </li>\\n                    \";\n  return buffer;\n  }\n\n  buffer += \"<ul class=\\\"qti-navigator-parts plain\\\">\\n    \";\n  stack1 = helpers.each.call(depth0, (depth0 && depth0.parts), {hash:{},inverse:self.noop,fn:self.program(1, program1, data),data:data});\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"\\n</ul>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/runner/plugins/tools/answerMasking/tpl/mask', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  \n\n\n  return \"<div class=\\\"answer-mask\\\">\\n    <span class=\\\"answer-mask-toggle\\\"></span>\\n</div>\";\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/runner/plugins/tools/areaMasking/mask', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"mask\\\">\\n   <div class=\\\"inner\\\"></div>\\n   <div class=\\\"controls\\\">\\n        <a href=\\\"#\\\" class=\\\"view\\\"  title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Preview the covered area\", options) : helperMissing.call(depth0, \"__\", \"Preview the covered area\", options)))\n    + \"\\\"><span class=\\\"icon-preview\\\"></span></a>\\n        <a href=\\\"#\\\" class=\\\"close\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Close the mask\", options) : helperMissing.call(depth0, \"__\", \"Close the mask\", options)))\n    + \"\\\"><span class=\\\"icon-result-nok\\\"></span></a>\\n   </div>\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/runner/plugins/tools/comment/comment', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div data-control=\\\"qti-comment\\\" class=\\\"hidden\\\">\\n    <textarea data-control=\\\"qti-comment-text\\\" placeholder=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Your comment\", options) : helperMissing.call(depth0, \"__\", \"Your comment\", options)))\n    + \"\\\"></textarea>\\n    <button data-control=\\\"qti-comment-cancel\\\" class=\\\"btn-info small\\\"></span>\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Cancel\", options) : helperMissing.call(depth0, \"__\", \"Cancel\", options)))\n    + \"</button>\\n    <button data-control=\\\"qti-comment-send\\\" class=\\\"btn-info small\\\">\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Send\", options) : helperMissing.call(depth0, \"__\", \"Send\", options)))\n    + \"</button>\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/runner/plugins/tools/documentViewer/panel', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, functionType=\"function\", escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"document-viewer-plugin hidden\\\">\\n    <div class=\\\"viewer-overlay\\\"></div>\\n    <div class=\\\"viewer-panel\\\">\\n        <div class=\\\"viewer-header\\\">\\n            <span class=\\\"viewer-title\\\">\";\n  if (helper = helpers.title) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.title); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</span>\\n            <span class=\\\"icon icon-close\\\"></span>\\n        </div>\\n        <div class=\\\"viewer-content\\\">\";\n  if (helper = helpers.content) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.content); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  if(stack1 || stack1 === 0) { buffer += stack1; }\n  buffer += \"</div>\\n        <div class=\\\"viewer-footer\\\"></div>\\n    </div>\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/runner/plugins/tools/magnifier/magnifierPanel', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", stack1, helper, options, functionType=\"function\", escapeExpression=this.escapeExpression, helperMissing=helpers.helperMissing;\n\n\n  buffer += \"<div class=\\\"magnifier\\\">\\n    <div class=\\\"level\\\">\";\n  if (helper = helpers.level) { stack1 = helper.call(depth0, {hash:{},data:data}); }\n  else { helper = (depth0 && depth0.level); stack1 = typeof helper === functionType ? helper.call(depth0, {hash:{},data:data}) : helper; }\n  buffer += escapeExpression(stack1)\n    + \"</div>\\n    <div class=\\\"overlay\\\"></div>\\n    <div class=\\\"inner\\\"></div>\\n    <div class=\\\"controls close\\\">\\n        <a href=\\\"#\\\" class=\\\"closeMagnifier\\\" data-control=\\\"closeMagnifier\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Close Magnifier\", options) : helperMissing.call(depth0, \"__\", \"Close Magnifier\", options)))\n    + \"\\\"><span class=\\\"icon-result-nok\\\"></span></a>\\n    </div>\\n    <div class=\\\"controls zoom\\\">\\n        <a href=\\\"#\\\" class=\\\"control\\\"  data-control=\\\"zoomOut\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Magnify less\", options) : helperMissing.call(depth0, \"__\", \"Magnify less\", options)))\n    + \"\\\"><span class=\\\"icon-remove\\\"></span></a>\\n        <a href=\\\"#\\\" class=\\\"control\\\" data-control=\\\"zoomIn\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Magnify more\", options) : helperMissing.call(depth0, \"__\", \"Magnify more\", options)))\n    + \"\\\"><span class=\\\"icon-add\\\"></span></a>\\n    </div>\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('tpl!taoQtiTest/runner/plugins/tools/textToSpeech/textToSpeech', ['handlebars'], function(hb){ \nreturn hb.template(function (Handlebars,depth0,helpers,partials,data) {\n  this.compilerInfo = [4,'>= 1.0.0'];\nhelpers = this.merge(helpers, Handlebars.helpers); data = data || {};\n  var buffer = \"\", helper, options, helperMissing=helpers.helperMissing, escapeExpression=this.escapeExpression;\n\n\n  buffer += \"<div class=\\\"text-to-speech hidden\\\">\\n    <div class=\\\"action click-to-speak\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Click to speak\", options) : helperMissing.call(depth0, \"__\", \"Click to speak\", options)))\n    + \"\\\"><span class=\\\"icon-click-to-speak\\\"></span></div>\\n\\n    <div class=\\\"action play\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Play\", options) : helperMissing.call(depth0, \"__\", \"Play\", options)))\n    + \"\\\"><span class=\\\"icon-play\\\"></span></div>\\n    <div class=\\\"action pause\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Pause\", options) : helperMissing.call(depth0, \"__\", \"Pause\", options)))\n    + \"\\\"><span class=\\\"icon-pause\\\"></span></div>\\n\\n    <div class=\\\"action stop\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Stop\", options) : helperMissing.call(depth0, \"__\", \"Stop\", options)))\n    + \"\\\"><span class=\\\"icon-stop\\\"></span></div>\\n\\n    <div class=\\\"action settings\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Settings\", options) : helperMissing.call(depth0, \"__\", \"Settings\", options)))\n    + \"\\\">\\n        <span class=\\\"icon-settings\\\"></span>\\n        <div class=\\\"settings-menu\\\">\\n            <div class=\\\"option volume\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Volume\", options) : helperMissing.call(depth0, \"__\", \"Volume\", options)))\n    + \"\\\">\\n                <span class=\\\"icon-volume\\\"></span>\\n                <div class=\\\"slider-container\\\">\\n                    <div class=\\\"slider\\\"></div>\\n                </div>\\n                <div class=\\\"hover-container\\\"></div>\\n            </div>\\n            <div class=\\\"option speed\\\" title=\\\"\"\n    + escapeExpression((helper = helpers.__ || (depth0 && depth0.__),options={hash:{},data:data},helper ? helper.call(depth0, \"Speech speed\", options) : helperMissing.call(depth0, \"__\", \"Speech speed\", options)))\n    + \"\\\">\\n                <span class=\\\"icon-speed\\\"></span>\\n                <div class=\\\"slider-container\\\">\\n                    <div class=\\\"slider\\\"></div>\\n                </div>\\n                <div class=\\\"hover-container\\\"></div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\";\n  return buffer;\n  });\n});\n\n","\ndefine('css!taoQtiTest/runner/plugins/tools/textToSpeech/textToSpeech',[],function(){});\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 Open Assessment Technologies SA\n */\n\n/**\n * Store test takers' actions\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/runner/proxy/cache/actionStore',[\n    'lodash',\n    'core/store'\n], function(_, store) {\n    'use strict';\n\n    var storeName = 'actions';\n    var storeKey  = 'queue';\n\n    /**\n     * Create an action store\n     *\n     * @param {String} id - the store id, to identify a test\n     * @returns {actionStore}\n     */\n    return function actionStoreFatory(id) {\n\n        var storeId;\n        var actionQueue = [];\n\n        if(_.isEmpty(id)){\n            throw new TypeError('Please specify the action store id');\n        }\n        storeId = storeName + '-' + id;\n\n        /**\n         * @typedef {actionStore}\n         */\n        return {\n\n            /**\n             * Push an action to the store\n             * @param {String} action - the action name\n             * @param {Object} params - the action parameters\n             * @returns {Promise} resolves when the action is stored\n             */\n            push: function push(action, params) {\n                actionQueue.push({\n                    action : action,\n                    timestamp : Date.now(),\n                    parameters : params\n                });\n                return store(storeId).then(function(actionStore) {\n                    return actionStore.setItem(storeKey, actionQueue);\n                });\n            },\n\n            /**\n             * Flush the action store and retrieve the data\n             * @returns {Promise} resolves with the flushed data\n             */\n            flush : function flush(){\n                actionQueue = [];\n                return store(storeId).then(function(actionStore) {\n                    return actionStore.getItem(storeKey).then(function(queue){\n                        return actionStore.setItem(storeKey, actionQueue).then(function(){\n                            return queue;\n                        });\n                    });\n                });\n            }\n        };\n    };\n});\n\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 Open Assessment Technologies SA\n */\n\n/**\n * Pre load assets\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/runner/proxy/cache/assetLoader',[\n    'lodash',\n    'taoQtiTest/runner/config/assetManager',\n    'util/url'\n], function(_, assetManagerFactory, urlUtil){\n    'use strict';\n\n    //get the same asset manager than the test runner\n    var assetManager = assetManagerFactory();\n\n    /**\n     * Asset loaders per supported asset types\n     */\n    var loaders = {\n\n        /**\n         * Preload images, using the in memory Image object\n         * @param {String} url - the url of the image to preload\n         */\n        img : function preloadImage(url){\n            if('Image' in window){\n                new Image().src = url;\n            }\n        },\n\n        /**\n         * Preload images, using prefetch\n         * @param {String} url - the url of the image to preload\n         */\n        css : function preloadCss(url){\n            var link = document.createElement('link');\n            link.setAttribute('rel', 'prefetch');\n            link.setAttribute('href', url);\n\n            //be safe in case preload is not supported\n            link.setAttribute('disabled', true);\n            document.querySelector('head').appendChild(link);\n        }\n    };\n\n    /**\n     * Run the asset preload\n     * @param {String} baseUrl - item baseUrl\n     * @param {Object} assets - assets per types :  img : ['url1', 'url2' ]\n     */\n    return function preload(baseUrl, assets) {\n\n        if(assets && _.size(assets) > 0){\n\n            assetManager.setData('baseUrl', baseUrl);\n\n            _.forEach(assets, function(assetList, type){\n                if(_.isFunction(loaders[type]) && _.size(assetList) > 0 ){\n                    _(assetList)\n                        .filter(function(url){\n                            //filter base64 (also it seems sometimes we just have base64 data, without the protocol...)\n                            return !urlUtil.isBase64(url) && /\\.[a-zA-Z]+$/.test(url);\n                        })\n                        .map(assetManager.resolve, assetManager)\n                        .forEach(function(url){\n                            loaders[type](url);\n                        });\n                }\n            });\n        }\n    };\n});\n\n","/*\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 Open Assessment Technologies SA\n */\n\n/**\n * Cache/store for items on memory as a FIFO list\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/runner/proxy/cache/itemStore',['lodash'], function(_) {\n    'use strict';\n\n    /**\n     * The default number of items to store\n     */\n    var defaultConfig = {\n        maxSize: 10\n    };\n\n    /**\n     * Create an item store\n     * @param {Number} [maxSize = 10] - the store limit\n     * @returns {itemStore}\n     */\n    return function itemStoreFactory(maxSize) {\n\n        //where items are stores, in an array\n        var store = [];\n\n        if(! _.isNumber(maxSize)){\n            maxSize = defaultConfig.maxSize;\n        }\n\n        /**\n         * @typedef itemStore\n         */\n        return {\n\n            /**\n             * Get the item form the given key/id/uri\n             * @param {String} key - something identifier\n             * @returns {Object} the item\n             */\n            get: function get(key) {\n                var content = _.find(store, {\n                    key : key\n                });\n                if(content && content.data){\n                    return content.data;\n                }\n                return false;\n            },\n\n            /**\n             * Check whether the given item is in the store\n             * @param {String} key - something identifier\n             * @returns {Boolean}\n             */\n            has: function has(key) {\n                return _.some(store, {\n                    key : key\n                });\n            },\n\n            /**\n             * Add/Set an item into the store, under the given key\n             * @param {String} key - something identifier\n             * @param {Object} value - the item\n             * @returns {itemStore} chains\n             */\n            set: function set(key, value) {\n                store.push({\n                    key: key,\n                    data: value\n                });\n\n                if (store.length > 1 && store.length > maxSize) {\n                    store.shift();\n                }\n                return this;\n            },\n\n            /**\n             * Remove the item from the store\n             * @param {String} key - something identifier\n             * @returns {Boolean} if an item was acually removed\n             */\n            remove: function remove(key) {\n\n                var evens = _.remove(store, {\n                    key : key\n                });\n                return evens.length;\n            },\n\n            /**\n             * Clear the store\n             * @returns {itemStore} chains\n             */\n            clear: function clear() {\n                store = [];\n                return this;\n            }\n        };\n    };\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2016 (original work) Open Assessment Technologies SA ;\n */\n/**\n * @author Jean-Sbastien Conan <jean-sebastien.conan@vesperiagroup.com>\n */\ndefine('taoQtiTest/runner/proxy/qtiServiceProxy',[\n    'jquery',\n    'lodash',\n    'i18n',\n    'core/promise',\n    'core/promiseQueue',\n    'core/communicator',\n    'helpers',\n    'taoQtiTest/runner/config/qtiServiceConfig'\n], function($, _, __, Promise, promiseQueue, communicatorFactory, helpers, configFactory) {\n    'use strict';\n\n    /**\n     * QTI proxy definition\n     * Related to remote services calls\n     * @type {Object}\n     */\n    var qtiServiceProxy = {\n\n        /**\n         * Installs the proxy\n         */\n        install : function install(){\n            var self = this;\n\n            /**\n             * A promise queue to ensure requests run sequentially\n             */\n            this.queue = promiseQueue();\n\n            /**\n             * Some parameters needs special handling...\n             * @param {Object} actionParams - the input parameters\n             * @returns {Object} output parameters\n             */\n            this.prepareParams = function prepareParams(actionParams){\n\n                //some parameters need to be JSON.stringified\n                var stringifyParams = ['itemState', 'itemResponse'];\n\n                if(_.isPlainObject(actionParams)){\n                    return _.mapValues(actionParams, function(value, key){\n                        if(_.contains(stringifyParams, key)){\n                            return JSON.stringify(value);\n                        }\n                        return value;\n                    });\n                }\n\n                return actionParams;\n            };\n\n            /**\n             * Proxy request function. Returns a promise\n             * Applied options: asynchronous call, JSON data, no cache\n             * @param {String} url\n             * @param {Object} [reqParams]\n             * @param {String} [contentType] - to force the content type\n             * @param {Boolean} [noToken] - to disable the token\n             * @returns {Promise}\n             */\n            this.request = function request(url, reqParams, contentType, noToken) {\n\n                //run the request, just a function wrapper\n                var runRequest = function runRequest() {\n                    return new Promise(function(resolve, reject) {\n                        var token;\n                        var noop;\n                        var headers        = {};\n                        var action         = reqParams ? 'POST' : 'GET';\n                        var preparedParams = self.prepareParams(reqParams);\n                        var tokenHandler   = self.getTokenHandler();\n\n                        if (!noToken) {\n                            token = tokenHandler.getToken();\n                            if (token) {\n                                headers['X-Auth-Token'] = token;\n                            }\n                        }\n\n                        $.ajax({\n                            url : url,\n                            type : action,\n                            cache : false,\n                            data : preparedParams,\n                            headers : headers,\n                            async : true,\n                            dataType : 'json',\n                            contentType : contentType || noop,\n                            timeout : self.configStorage.getTimeout()\n                        })\n                        .done(function(data) {\n\n                            if (data && data.token) {\n                                tokenHandler.setToken(data.token);\n                            }\n\n                            self.setOnline();\n\n                            if (data && data.success) {\n                                resolve(data);\n                            } else {\n                                reject(data);\n                            }\n                        })\n                        .fail(function(jqXHR, textStatus, errorThrown) {\n                            var data;\n\n                            try {\n                                data = JSON.parse(jqXHR.responseText);\n                            } catch(err) {\n                                data = {};\n                            }\n\n                            data = _.defaults(data, {\n                                success: false,\n                                source: 'network',\n                                cause : url,\n                                purpose: 'proxy',\n                                context: this,\n                                code: jqXHR.status,\n                                sent: jqXHR.readyState > 0,\n                                type: textStatus || 'error',\n                                message: errorThrown || __('An error occurred!')\n                            });\n                            if (data.token) {\n                                tokenHandler.setToken(data.token);\n                            } else if (!noToken) {\n                                tokenHandler.setToken(token);\n                            }\n\n                            if(self.isConnectivityError(data)){\n                                self.setOffline('request');\n                                return resolve(data);\n                            }\n\n                            reject(data);\n                        });\n                    });\n                };\n\n                //no token protection, run the request\n                if (noToken === true) {\n                    return runRequest();\n                }\n\n                return this.queue.serie(runRequest);\n            };\n        },\n\n        /**\n         * Initializes the proxy\n         * @param {Object} config - The config provided to the proxy factory\n         * @param {String} config.testDefinition - The URI of the test\n         * @param {String} config.testCompilation - The URI of the compiled delivery\n         * @param {String} config.serviceCallId - The URI of the service call\n         * @param {Object} [params] - Some optional parameters to join to the call\n         * @returns {Promise} - Returns a promise. The proxy will be fully initialized on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        init: function init(config, params) {\n            // store config in a dedicated configStorage\n            this.configStorage = configFactory(config || {});\n\n            // request for initialization\n            return this.request(this.configStorage.getTestActionUrl('init'), params);\n        },\n\n        /**\n         * Uninstalls the proxy\n         * @returns {Promise} - Returns a promise. The proxy will be fully uninstalled on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        destroy: function destroy() {\n            // no request, just a resources cleaning\n            this.configStorage = null;\n            this.queue = null;\n\n            // the method must return a promise\n            return Promise.resolve();\n        },\n\n        /**\n         * Gets the test definition data\n         * @returns {Promise} - Returns a promise. The test definition data will be provided on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        getTestData: function getTestData() {\n            return this.request(this.configStorage.getTestActionUrl('getTestData'));\n        },\n\n        /**\n         * Gets the test context\n         * @returns {Promise} - Returns a promise. The context object will be provided on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        getTestContext: function getTestContext() {\n            return this.request(this.configStorage.getTestActionUrl('getTestContext'));\n        },\n\n        /**\n         * Gets the test map\n         * @returns {Promise} - Returns a promise. The test map object will be provided on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        getTestMap: function getTestMap() {\n            return this.request(this.configStorage.getTestActionUrl('getTestMap'));\n        },\n\n        /**\n         * Sends the test variables\n         * @param {Object} variables\n         * @returns {Promise} - Returns a promise. The result of the request will be provided on resolve.\n         *                      Any error will be provided if rejected.\n         * @fires sendVariables\n         */\n        sendVariables: function sendVariables(variables) {\n            return this.request(this.configStorage.getTestActionUrl('storeTraceData'), {\n                traceData: JSON.stringify(variables)\n            });\n        },\n\n        /**\n         * Calls an action related to the test\n         * @param {String} action - The name of the action to call\n         * @param {Object} [params] - Some optional parameters to join to the call\n         * @returns {Promise} - Returns a promise. The result of the request will be provided on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        callTestAction: function callTestAction(action, params) {\n            return this.request(this.configStorage.getTestActionUrl(action), params);\n        },\n\n        /**\n         * Gets an item definition by its identifier, also gets its current state\n         * @param {String} itemIdentifier - The identifier of the item to get\n         * @param {Object} [params] - additional parameters\n         * @returns {Promise} - Returns a promise. The item data will be provided on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        getItem: function getItem(itemIdentifier, params) {\n            return this.request(this.configStorage.getItemActionUrl(itemIdentifier, 'getItem'), params);\n        },\n\n        /**\n         * Submits the state and the response of a particular item\n         * @param {String} itemIdentifier - The identifier of the item to update\n         * @param {Object} state - The state to submit\n         * @param {Object} response - The response object to submit\n         * @param {Object} [params] - Some optional parameters to join to the call\n         * @returns {Promise} - Returns a promise. The result of the request will be provided on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        submitItem: function submitItem(itemIdentifier, state, response, params) {\n            var body = _.merge({\n                itemState: state,\n                itemResponse: response\n            }, params || {});\n\n            return this.request(this.configStorage.getItemActionUrl(itemIdentifier, 'submitItem'), body);\n        },\n\n        /**\n         * Calls an action related to a particular item\n         * @param {String} itemIdentifier - The identifier of the item for which call the action\n         * @param {String} action - The name of the action to call\n         * @param {Object} [params] - Some optional parameters to join to the call\n         * @returns {Promise} - Returns a promise. The result of the request will be provided on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        callItemAction: function callItemAction(itemIdentifier, action, params) {\n            return this.request(this.configStorage.getItemActionUrl(itemIdentifier, action), params);\n        },\n\n        /**\n         * Sends a telemetry signal\n         * @param {String} itemIdentifier - The identifier of the item for which sends the telemetry signal\n         * @param {String} signal - The name of the signal to send\n         * @param {Object} [params] - Some optional parameters to join to the signal\n         * @returns {Promise} - Returns a promise. The result of the request will be provided on resolve.\n         *                      Any error will be provided if rejected.\n         * @fires telemetry\n         */\n        telemetry: function telemetry(itemIdentifier, signal, params) {\n            return this.request(this.configStorage.getTelemetryUrl(itemIdentifier, signal), params, null, true);\n        },\n\n        /**\n         * Builds the communication channel\n         * @returns {communicator|null} the communication channel\n         */\n        loadCommunicator: function loadCommunicator() {\n            var config = this.configStorage.getCommunicationConfig();\n            if (config.enabled) {\n                return communicatorFactory(config.type, config.params);\n            }\n            return null;\n        }\n    };\n\n    return qtiServiceProxy;\n});\n\n","/**\n * This program is free software; you can redistribute it and/or\n * modify it under the terms of the GNU General Public License\n * as published by the Free Software Foundation; under version 2\n * of the License (non-upgradable).\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.\n *\n * Copyright (c) 2017 Open Assessment Technologies SA\n */\n\n/**\n * This proxy provider cache the next item\n *\n * @author Bertrand Chevrier <bertrand@taotesting.com>\n */\ndefine('taoQtiTest/runner/proxy/cache/proxy',[\n    'lodash',\n    'i18n',\n    'core/promise',\n    'taoQtiTest/runner/navigator/navigator',\n    'taoQtiTest/runner/helpers/map',\n    'taoQtiTest/runner/helpers/navigation',\n    'taoQtiTest/runner/proxy/qtiServiceProxy',\n    'taoQtiTest/runner/proxy/cache/itemStore',\n    'taoQtiTest/runner/proxy/cache/actionStore',\n    'taoQtiTest/runner/proxy/cache/assetLoader'\n], function(_, __, Promise, testNavigatorFactory, mapHelper, navigationHelper, qtiServiceProxy, itemStoreFactory, actionStoreFactory, assetLoader) {\n    'use strict';\n\n    /**\n     * The number of items to keep in the cache\n     * @type {Number}\n     */\n    var cacheSize     = 20;\n\n    /**\n     * The number of ms to wait after an item is loaded\n     * to start loading the next.\n     * This value is more or less the time needed to render an item.\n     * @type {Number}\n     */\n    var loadNextDelay = 450;\n\n    /**\n     * When we are unable to navigate offline\n     * @type {Error}\n     */\n    var offlineNavError = _.assign(\n        new Error(__('We are unable to connect to the server to retrieve the next item.')),\n        {\n            success : false,\n            source: 'navigator',\n            purpose: 'proxy',\n            type: 'nav',\n            code : 404\n        }\n    );\n\n    /**\n     * When we are unable to exit the test offline\n     * @type {Error}\n     */\n    var offlineExitError = _.assign(\n        new Error(__('We are unable to connect the server to submit your results.')),\n        {\n            success : false,\n            source: 'navigator',\n            purpose: 'proxy',\n            type: 'finish',\n            code : 404\n        }\n    );\n\n    /**\n     * Overrides the qtiServiceProxy with the precaching behavior\n     * @extends taoQtiTest/runner/proxy/qtiServiceProxy\n     */\n    return _.defaults({\n\n        /**\n         * Installs the proxy\n         */\n        install : function install(){\n            var self = this;\n\n            //install the parent proxy\n            qtiServiceProxy.install.call(this);\n\n            //we keep items here\n            this.itemStore = itemStoreFactory(cacheSize);\n\n            //where we keep actions\n            this.actiontStore = null;\n\n            //can we load the next item from the cache/store ?\n            this.getItemFromStore = false;\n\n            //configuration params, that comes on every request/params\n            this.requestConfig = {};\n\n            /**\n             * Get the item cache size from the test data\n             * @returns {Number} the cache size\n             */\n            this.getCacheAmount = function getCacheAmount(){\n                var cacheAmount = 1;\n                var testData    = this.getDataHolder().get('testData');\n                if(testData && testData.config && testData.config.itemCaching) {\n                    cacheAmount = parseInt(testData.config.itemCaching.amount, 10) || cacheAmount;\n                }\n                return cacheAmount;\n            };\n\n            /**\n             * Update the item state in the store\n             * @param {String} itemIdentifier - the item identifier\n             * @param {Object} state - the state of the item\n             * @returns {Boolean}\n             */\n            this.updateState = function updateState(itemIdentifier, state) {\n                var itemData;\n                if (this.itemStore.has(itemIdentifier)) {\n                    itemData = this.itemStore.get(itemIdentifier);\n                    itemData.itemState = state;\n                    this.itemStore.set(itemIdentifier, itemData);\n                }\n            };\n\n            /**\n             * Check whether we have the item in the store\n             * @param {String} itemIdentifier - the item identifier\n             * @returns {Boolean}\n             */\n            this.hasItem = function hasItem(itemIdentifier) {\n                return itemIdentifier && self.itemStore.has(itemIdentifier);\n            };\n\n            /**\n             * Check whether we have the next item in the store\n             * @param {String} itemIdentifier - the CURRENT item identifier\n             * @returns {Boolean}\n             */\n            this.hasNextItem = function hasNextItem(itemIdentifier) {\n                var sibling = navigationHelper.getNextItem(this.getDataHolder().get('testMap'), itemIdentifier);\n                return sibling && self.hasItem(sibling.id);\n            };\n\n            /**\n             * Check whether we have the previous item in the store\n             * @param {String} itemIdentifier - the CURRENT item identifier\n             * @returns {Boolean}\n             */\n            this.hasPreviousItem = function hasPreviousItem(itemIdentifier) {\n                var sibling = navigationHelper.getPreviousItem(this.getDataHolder().get('testMap'), itemIdentifier);\n                return sibling && self.hasItem(sibling.id);\n            };\n\n            /**\n             * Offline ? We try to do the action anyway :\n             *  1. Save the data to the actionStore\n             *  2. Try to navigate offline, or just say 'ok'\n             *\n             * @param {String} action - the action name (ie. move, skip, timeout)\n             * @param {Object} actionParams - the parameters sent along the action\n             * @returns {Promise} resolves with the action result\n             */\n            this.offlineAction = function offlineAction(action, actionParams){\n                var testNavigator;\n                var newTestContext;\n\n                var blockingActions = ['exitTest', 'timeout'];\n\n                var testData    = this.getDataHolder().get('testData');\n                var testContext = this.getDataHolder().get('testContext');\n                var testMap     = this.getDataHolder().get('testMap');\n\n                var storeAction  = function storeAction(){\n                    return self.actiontStore.push(\n                        action,\n                        self.prepareParams(_.defaults(actionParams || {}, self.requestConfig))\n                    );\n                };\n\n                //we just block those actions and the end of the test\n                if( _.contains(blockingActions, action) ||\n                    ( actionParams.direction === 'next' && navigationHelper.isLast(testMap, testContext.itemIdentifier)) ){\n\n                    storeAction();\n                    throw offlineExitError;\n                }\n\n                // try the navigation if the actionParams context meaningful data\n                if( actionParams.direction && actionParams.scope){\n                    testNavigator = testNavigatorFactory(testData, testContext, testMap);\n                    newTestContext = testNavigator.navigate(\n                            actionParams.direction,\n                            actionParams.scope,\n                            actionParams.ref\n                        );\n\n                    //we are really not able to navigate\n                    if(!newTestContext || !newTestContext.itemIdentifier || !self.hasItem(newTestContext.itemIdentifier)){\n                        storeAction();\n                        throw offlineNavError;\n                    }\n\n                    return storeAction().then(function(){\n                        return {\n                            success : true,\n                            testContext : newTestContext\n                        };\n                    });\n                }\n\n                return storeAction().then(function(){\n                    return {\n                        success : true\n                    };\n                });\n            };\n\n            /**\n             * Request/Offline strategy :\n             *\n             *  Online\n             *    run the request\n             *      request ok\n             *      request fails\n             *         run the offline action\n             *  Offline\n             *     send a telemetry request (connection could be back)\n             *       request ok\n             *         sync data\n             *             run the request (back to the tree root)\n             *       request fails\n             *          run the offline action\n             *\n             * @param {String} action - the action name (ie. move, skip, timeout)\n             * @param {Object} actionParams - the parameters sent along the action\n             * @returns {Promise} resolves with the action result\n             */\n            this.requestNetworkThenOffline = function requestNetworkThenOffline(url, action, actionParams){\n                var testContext = this.getDataHolder().get('testContext');\n\n                //perform the request, but fallback on offline if the request itself fails\n                var runRequestThenOffline = function runRequestThenOffline(){\n                    return self.request(url, actionParams).then(function(result){\n                        //if the request fails, we should be offline\n                        if(self.isOffline()){\n                            return self.offlineAction(action, actionParams);\n                        }\n                        return result;\n                    });\n                };\n\n                if(this.isOffline()){\n                    //try the telemetry action, just in case\n                    return this\n                        .telemetry(testContext.itemIdentifier, 'up')\n                        .then(function(){\n                            //if the up request succeed,\n                            // we ask for action sync, and we run the request\n                            if(self.isOnline()){\n                                return self.syncOfflineData().then(function(){\n                                    return runRequestThenOffline();\n                                });\n                            }\n                            return self.offlineAction(action, actionParams);\n                        })\n                        .catch(function(err){\n                            if(self.isConnectivityError(err)){\n                                return self.offlineAction(action, actionParams);\n                            }\n                            throw err;\n                        });\n                }\n\n                //by default we try to run the request first\n                return runRequestThenOffline();\n            };\n\n            /**\n             * Flush and synchronize actions collected while offline\n             * @returns {Promise} resolves with the action result\n             */\n            this.syncOfflineData = function syncOfflineData(){\n                return this.queue.serie(function(){\n                    return self.actiontStore.flush().then(function(data){\n                        if(data && data.length){\n                            return self.send('sync', data);\n                        }\n                    })\n                    .catch(function(err){\n                        self.trigger('error', err);\n                    });\n                });\n            };\n        },\n\n        /**\n         * Initializes the proxy\n         * @param {Object} config - The config provided to the proxy factory\n         * @param {String} config.testDefinition - The URI of the test\n         * @param {String} config.testCompilation - The URI of the compiled delivery\n         * @param {String} config.serviceCallId - The URI of the service call\n         * @param {Object} [params] - Some optional parameters to join to the call\n         * @returns {Promise} - Returns a promise. The proxy will be fully initialized on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        init: function init(config, params) {\n\n            if(!this.getDataHolder()){\n                throw new Error('Unable to retrieve test runners data holder');\n            }\n\n            //those needs to be in each request params.\n            this.requestConfig = _.pick(config, ['testDefinition', 'testCompilation', 'serviceCallId']);\n\n            //set up the action store for the current service call\n            this.actiontStore  = actionStoreFactory(config.serviceCallId);\n\n            //we resync as soon as the connection is back\n            this.on('reconnect', function(){\n                return this.syncOfflineData();\n            });\n\n            //if some actions remains unsynced\n            this.syncOfflineData();\n\n            //run the init\n            return qtiServiceProxy.init.call(this, config, params);\n        },\n\n        /**\n         * Uninstalls the proxy\n         * @returns {Promise} - Returns a promise. The proxy will be fully uninstalled on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        destroy: function destroy() {\n\n            this.itemStore.clear();\n\n            this.getItemFromStore = false;\n\n            return qtiServiceProxy.destroy.call(this);\n        },\n\n        /**\n         * Gets an item definition by its identifier, also gets its current state\n         * @param {String} itemIdentifier - The identifier of the item to get\n         * @param {Object} [params] - additional parameters\n         * @returns {Promise} - Returns a promise. The item data will be provided on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        getItem: function getItem(itemIdentifier, params) {\n            var self = this;\n\n            /**\n             * try to load the next items\n             * @returns {Promise} that always resolves\n             */\n            var loadNextItem = function loadNextItem(){\n                var testMap = self.getDataHolder().get('testMap');\n\n                var siblings = navigationHelper.getSiblingItems(testMap, itemIdentifier, 'both', self.getCacheAmount());\n                var missing = _.reduce(siblings, function (list, sibling) {\n                    if (!self.hasItem(sibling.id)) {\n                        list.push(sibling.id);\n                    }\n                    return list;\n                }, []);\n\n                //don't run a request if not needed\n                if (self.isOnline() && missing.length) {\n                    _.delay(function(){\n                        self.request(self.configStorage.getTestActionUrl('getNextItemData'), {itemDefinition: missing})\n                            .then(function(response){\n                                if (response && response.items) {\n                                    _.forEach(response.items, function (item) {\n                                        if (item && item.itemIdentifier) {\n\n                                            //store the response and start caching assets\n                                            self.itemStore.set(item.itemIdentifier, item);\n\n                                            if (item.baseUrl && item.itemData && item.itemData.assets) {\n                                                assetLoader(item.baseUrl, item.itemData.assets);\n                                            }\n                                        }\n                                    });\n                                }\n                            })\n                            .catch(_.noop);\n                    }, loadNextDelay);\n                }\n            };\n\n            //resolve from the store\n            if (this.getItemFromStore && this.itemStore.has(itemIdentifier)) {\n                loadNextItem();\n\n                return Promise.resolve(this.itemStore.get(itemIdentifier));\n            }\n\n            return this.request(this.configStorage.getItemActionUrl(itemIdentifier, 'getItem'), params)\n                    .then(function(response){\n                        if(response && response.success){\n                            self.itemStore.set(itemIdentifier, response);\n                        }\n\n                        loadNextItem();\n\n                        return response;\n                    });\n        },\n\n        /**\n         * Submits the state and the response of a particular item\n         * @param {String} itemIdentifier - The identifier of the item to update\n         * @param {Object} state - The state to submit\n         * @param {Object} response - The response object to submit\n         * @param {Object} [params] - Some optional parameters to join to the call\n         * @returns {Promise} - Returns a promise. The result of the request will be provided on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        submitItem: function submitItem(itemIdentifier, state, response, params) {\n            this.updateState(itemIdentifier, state);\n            return qtiServiceProxy.submitItem.call(this, itemIdentifier, state, response, params);\n        },\n\n\n        /**\n         * Sends the test variables\n         * @param {Object} variables\n         * @returns {Promise} - Returns a promise. The result of the request will be provided on resolve.\n         *                      Any error will be provided if rejected.\n         * @fires sendVariables\n         */\n        sendVariables: function sendVariables(variables) {\n            var action = 'storeTraceData';\n            var actionParams = {\n                traceData: JSON.stringify(variables)\n            };\n\n            return this.requestNetworkThenOffline(\n                this.configStorage.getTestActionUrl(action),\n                action,\n                actionParams\n            );\n        },\n\n        /**\n         * Calls an action related to the test\n         * @param {String} action - The name of the action to call\n         * @param {Object} [params] - Some optional parameters to join to the call\n         * @returns {Promise} - Returns a promise. The result of the request will be provided on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        callTestAction: function callTestAction(action, params) {\n            return this.requestNetworkThenOffline(\n                this.configStorage.getTestActionUrl(action),\n                action,\n                params\n            );\n        },\n\n        /**\n         * Calls an action related to a particular item\n         * @param {String} itemIdentifier - The identifier of the item for which call the action\n         * @param {String} action - The name of the action to call\n         * @param {Object} [params] - Some optional parameters to join to the call\n         * @returns {Promise} - Returns a promise. The result of the request will be provided on resolve.\n         *                      Any error will be provided if rejected.\n         */\n        callItemAction: function callItemAction(itemIdentifier, action, params) {\n            var self = this;\n\n            var testMap = this.getDataHolder().get('testMap');\n\n            //update the item state\n            if(params.itemState){\n                self.updateState(itemIdentifier, params.itemState);\n            }\n\n            //check if we have already the item for the action we are going to perform\n            self.getItemFromStore = (\n                (navigationHelper.isMovingToNextItem(action, params) && self.hasNextItem(itemIdentifier)) ||\n                (navigationHelper.isMovingToPreviousItem(action, params) && self.hasPreviousItem(itemIdentifier)) ||\n                (navigationHelper.isJumpingToItem(action, params) && self.hasItem(mapHelper.getItemIdentifier(testMap,  params.ref)))\n            );\n\n            //as we will pick the next item from the store ensure the next request will start the timer\n            if (self.getItemFromStore) {\n                params.start = true;\n            }\n\n            return this.requestNetworkThenOffline(\n                this.configStorage.getItemActionUrl(itemIdentifier, action),\n                action,\n                _.merge({ itemDefinition : itemIdentifier }, params)\n            );\n        }\n    }, qtiServiceProxy);\n});\n\n","\n(function(c){var d=document,a='appendChild',i='styleSheet',s=d.createElement('style');s.type='text/css';d.getElementsByTagName('head')[0][a](s);s[i]?s[i].cssText=c:s[a](d.createTextNode(c));})\n('@-o-keyframes loadingbar{0%{left:-10%}50%{left:90%}100%{left:-10%}}@-moz-keyframes loadingbar{0%{left:-10%}50%{left:90%}100%{left:-10%}}@-webkit-keyframes loadingbar{0%{left:-10%}50%{left:90%}100%{left:-10%}}@keyframes loadingbar{0%{left:-10%}50%{left:90%}100%{left:-10%}}.loading-bar{height:6px;position:absolute;width:100%;top:0px;display:none;z-index:10000}.loading-bar.fixed{position:fixed;width:100%}.loading-bar.fixed:before{top:0 !important}.loading-bar.loading{display:block;overflow:hidden;top:58px}.loading-bar.loading:before{position:absolute;content:\\'\\';height:6px;width:20%;display:block;transform:translateZ(0);background:-webkit-linear-gradient(to right, transparent 0%, #c35a13 20%, #c35a13 80%, transparent 100%);background:-moz-linear-gradient(to right, transparent 0%, #c35a13 20%, #c35a13 80%, transparent 100%);background:-ms-linear-gradient(to right, transparent 0%, #c35a13 20%, #c35a13 80%, transparent 100%);background:-o-linear-gradient(to right, transparent 0%, #c35a13 20%, #c35a13 80%, transparent 100%);background:linear-gradient(to right, transparent 0%, #c35a13 20%, #c35a13 80%, transparent 100%);-webkit-animation:loadingbar 5s linear infinite;-moz-animation:loadingbar 5s linear infinite;-ms-animation:loadingbar 5s linear infinite;-o-animation:loadingbar 5s linear infinite;animation:loadingbar 5s linear infinite}.loading-bar.loading.loadingbar-covered{top:0px;overflow-y:visible}.loading-bar.loading.loadingbar-covered:before{top:86px}.no-version-warning .loading-bar.loadingbar-covered:before{top:58px}.action-bar{background:#266d9c;padding:3px;overflow:hidden;color:#e7eff4}.action-bar li{float:left}.action-bar li .li-inner{padding-bottom:1px;text-decoration:none !important;outline:0;display:inline-block;color:inherit}.action-bar li .li-inner:hover{color:white}.action-bar li span.glyph{text-shadow:0 0 0 transparent;color:inherit}.action-bar li input{width:100%;font-size:12px;font-size:1.2rem;padding:2px 4px}.action-bar li.active .li-inner{color:white}.action-bar.horizontal-action-bar{padding:5px;height:35px}.action-bar.horizontal-action-bar .search-area{margin:2px 0 0 0;border:none;float:right;display:inline-block;position:relative;padding:0 30px 0 0}.action-bar.horizontal-action-bar .search-area input{padding-right:34px;min-width:250px !important}.action-bar.horizontal-action-bar .search-area button{position:absolute;right:32px;top:-2px;cursor:default;opacity:.5;background:transparent;width:25px;height:25px}.action-bar.horizontal-action-bar .search-area button:before{color:#666}.action-bar.horizontal-action-bar .search-area .icon-help{position:absolute;right:5px;top:-1px;text-shadow:0px 0px transparent;color:white;cursor:pointer;display:block;width:24px;height:24px;line-height:24px;text-align:center}.action-bar.horizontal-action-bar li{margin:0 1px;border:1px transparent solid;text-align:center;float:left}.action-bar.horizontal-action-bar li .glyph{width:14px}.action-bar.horizontal-action-bar li .svg-glyph{height:14px;width:14px;margin-right:9px}.action-bar.horizontal-action-bar li.btn-info{overflow:hidden;background:transparent}.action-bar.horizontal-action-bar li.btn-info:hover,.action-bar.horizontal-action-bar li.btn-info.active{border-color:rgba(255,255,255,0.3);opacity:1}.action-bar.horizontal-action-bar li.disabled{background:none !important;text-shadow:inherit !important;opacity:0.45 !important;color:inherit !important}.action-bar.horizontal-action-bar li.disabled a{cursor:not-allowed !important}.action-bar.vertical-action-bar li{max-height:60px}.action-bar.vertical-action-bar li .li-inner{height:60px;display:block;overflow:hidden;text-overflow:ellipsis;text-align:center;font-size:12px;font-size:1.2rem;line-height:12px}.action-bar.vertical-action-bar li .glyph{display:block;margin:12px auto 3px;width:20px;height:20px}.action-bar.tree-action-bar{background:#f3f1ef;position:relative;left:-1px;padding:0;margin:0 2.8571428571% 8px 2.8571428571%;width:94.6428571429%;font-size:13px;font-size:1.3rem}.action-bar.tree-action-bar li{background:rgba(255,255,255,0.5);border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;line-height:1.3;padding:0;text-align:center;float:left;width:65px;height:65px;margin:0 1px 1px 0}.action-bar.tree-action-bar li .glyph,.action-bar.tree-action-bar li .svg-glyph{display:block;color:#0e5d91;margin:12px auto 1px !important}.action-bar.tree-action-bar li .svg-glyph{width:20px;height:20px}.action-bar.tree-action-bar li .glyph{font-size:17px !important;font-size:1.7rem !important}.action-bar.tree-action-bar li .li-inner{display:block;height:65px;padding:2px;font-size:11px;font-size:1.1rem;color:#222}.action-bar.tree-action-bar li:hover{background:#ddd;color:#666}.action-bar .tree-filters{width:160px;position:relative}.action-bar .tree-filters input{padding-right:24px}.action-bar .tree-filters span{position:absolute;right:3px;color:#555;width:22px;top:2px;line-height:20px;display:inline-block;text-align:center;text-shadow:0 0 0 transparent;border-left:1px solid #ddd;cursor:pointer}.action-bar .tree-filters span.icon-close{display:none}.action-bar .tree-filters span:hover{color:#0e5d91}@media (max-width: 1150px){.action-bar.horizontal-action-bar .search-area{float:none;position:absolute;right:0px}.action-bar.horizontal-action-bar .search-area input{padding-right:30px;min-width:auto !important;width:150px}.action-bar.horizontal-action-bar .search-area input:focus{width:220px}}body.oversized-nav:not(.delivery-scope) .action-bar.horizontal-action-bar .search-area{float:none;position:absolute;right:0px}body.oversized-nav:not(.delivery-scope) .action-bar.horizontal-action-bar .search-area input{padding-right:30px;min-width:auto !important;width:150px}body.oversized-nav:not(.delivery-scope) .action-bar.horizontal-action-bar .search-area input:focus{width:220px}.section-container{top:0 !important}.section-container .flex-container-full{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 100%;-webkit-flex:0 0 100%;flex:0 0 100%}.section-container .flex-container-half{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 50%;-webkit-flex:0 0 50%;flex:0 0 50%}.section-container .flex-container-third{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 33.3333333333%;-webkit-flex:0 0 33.3333333333%;flex:0 0 33.3333333333%}.section-container .flex-container-quarter{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 25%;-webkit-flex:0 0 25%;flex:0 0 25%}.section-container .flex-container-remaining{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:1 1 480px;-webkit-flex:1 1 480px;flex:1 1 480px}.section-container .flex-container-main-form{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 500px;-webkit-flex:0 0 500px;flex:0 0 500px;margin:0 20px 20px 0}.section-container .flex-container-navi{-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 280px;-webkit-flex:0 0 280px;flex:0 0 280px}.section-container .section-header{border:none}.section-container .content-panel{width:100%;height:100%;margin:0;padding:0;border:none !important;display:box;display:-ms-flexbox;display:-webkit-flexbox;display:flexbox;display:-ms-flex;display:-webkit-flex;display:flex;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;flex-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;flex-line-pack:start;-ms-flex-line-pack:start;-webkit-align-content:flex-start;align-content:flex-start;flex-align:stretch;-ms-flex-align:stretch;-webkit-align-items:stretch;align-items:stretch}.section-container .tab-container{border:none;display:none;list-style-type:none;padding:0;margin:0}.section-container .tab-container li{float:left;position:relative;top:0;padding:0;margin:0 1px 0px 0;border-top:1px solid #f3f1ef !important;border-bottom:1px solid #f3f1ef !important;background:#f3f1ef !important}.section-container .tab-container li a{top:0 !important;margin-bottom:0 !important;padding:6px 16px;text-decoration:none;min-height:32px;color:#222;float:left}.section-container .tab-container li.active,.section-container .tab-container li:hover{border-bottom-color:#4a86ad !important;border-top-color:#6e9ebd !important;background:#266d9c !important}.section-container .tab-container li.active a,.section-container .tab-container li:hover a{background:transparent !important;border-color:transparent !important;color:#fff !important;text-shadow:1px 1px 0 rgba(0,0,0,0.2)}.section-container .tab-container li.disabled:hover{background:#f3f1ef !important}.section-container .tab-container li.disabled:hover a{cursor:not-allowed !important;color:#222 !important}.section-container .navi-container{display:none;background:#f3f1ef;-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:0 0 280px;-webkit-flex:0 0 280px;flex:0 0 280px;border-right:1px #ddd solid}.section-container .navi-container .block-title{font-size:14px;font-size:1.4rem;padding:2px 8px;margin:0}.section-container .navi-container .tree-action-bar-box{margin:10px 0;opacity:0}.section-container .navi-container .tree-action-bar-box.active{opacity:1;-webkit-opacity:0.25s ease-in-out;-moz-opacity:0.25s ease-in-out;opacity:0.25s ease-in-out}.section-container .content-container{border:none;-ms-order:0;-webkit-order:0;order:0;flex-item-align:stretch;-ms-flex-item-align:stretch;-webkit-align-self:stretch;align-self:stretch;-ms-flex:1 1 auto;-webkit-flex:1 1 auto;flex:1 1 auto;-ms-flex:1 1;-webkit-flex:1 1;flex:1 1}.section-container .content-block{padding:20px;overflow-y:auto;display:box;display:-ms-flexbox;display:-webkit-flexbox;display:flexbox;display:-ms-flex;display:-webkit-flex;display:flex;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;-webkit-flex-wrap:wrap;flex-wrap:wrap;flex-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;flex-line-pack:start;-ms-flex-line-pack:start;-webkit-align-content:flex-start;align-content:flex-start;flex-align:stretch;-ms-flex-align:stretch;-webkit-align-items:stretch;align-items:stretch}.section-container .content-block>.grid-container{width:100%}.section-container .content-block .data-container-wrapper{padding:0px 20px 0 0}.section-container .content-block .data-container-wrapper:before,.section-container .content-block .data-container-wrapper:after{content:\\\" \\\";display:table}.section-container .content-block .data-container-wrapper:after{clear:both}.section-container .content-block .data-container-wrapper>section,.section-container .content-block .data-container-wrapper .data-container{width:260px;margin:0 20px 20px 0;float:left;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px}.section-container .content-block .data-container-wrapper>section.double,.section-container .content-block .data-container-wrapper .data-container.double{width:540px}.section-container .content-block .data-container-wrapper>section .emptyContentFooter,.section-container .content-block .data-container-wrapper .data-container .emptyContentFooter{display:none}.section-container .content-block .data-container-wrapper>section .tree,.section-container .content-block .data-container-wrapper .data-container .tree{border:none;max-width:none;max-height:none}.section-container .content-block .data-container-wrapper>section form,.section-container .content-block .data-container-wrapper .data-container form{background:none;border:none;margin:0;padding:0}.section-container .content-block .data-container-wrapper>section>header,.section-container .content-block .data-container-wrapper>section .ui-widget-header,.section-container .content-block .data-container-wrapper .data-container>header,.section-container .content-block .data-container-wrapper .data-container .ui-widget-header{background:#f3f1ef;border-width:0px !important;border-bottom:1px #ddd solid !important}.section-container .content-block .data-container-wrapper>section>header h1,.section-container .content-block .data-container-wrapper>section>header h6,.section-container .content-block .data-container-wrapper>section .ui-widget-header h1,.section-container .content-block .data-container-wrapper>section .ui-widget-header h6,.section-container .content-block .data-container-wrapper .data-container>header h1,.section-container .content-block .data-container-wrapper .data-container>header h6,.section-container .content-block .data-container-wrapper .data-container .ui-widget-header h1,.section-container .content-block .data-container-wrapper .data-container .ui-widget-header h6{padding:4px;margin:0;font-size:14px;font-size:1.4rem}.section-container .content-block .data-container-wrapper>section>div,.section-container .content-block .data-container-wrapper>section .ui-widget-content,.section-container .content-block .data-container-wrapper>section .container-content,.section-container .content-block .data-container-wrapper .data-container>div,.section-container .content-block .data-container-wrapper .data-container .ui-widget-content,.section-container .content-block .data-container-wrapper .data-container .container-content{border-width:0px !important;overflow-y:auto;min-height:250px;padding:5px}.section-container .content-block .data-container-wrapper>section>div .icon-grip,.section-container .content-block .data-container-wrapper>section .ui-widget-content .icon-grip,.section-container .content-block .data-container-wrapper>section .container-content .icon-grip,.section-container .content-block .data-container-wrapper .data-container>div .icon-grip,.section-container .content-block .data-container-wrapper .data-container .ui-widget-content .icon-grip,.section-container .content-block .data-container-wrapper .data-container .container-content .icon-grip{cursor:move}.section-container .content-block .data-container-wrapper>section>footer,.section-container .content-block .data-container-wrapper>section .data-container-footer,.section-container .content-block .data-container-wrapper .data-container>footer,.section-container .content-block .data-container-wrapper .data-container .data-container-footer{background:#f3f1ef;text-align:right !important;padding:4px;border-width:0px !important;border-top:1px #ddd solid !important}.section-container .content-block .data-container-wrapper>section>footer .square,.section-container .content-block .data-container-wrapper>section .data-container-footer .square,.section-container .content-block .data-container-wrapper .data-container>footer .square,.section-container .content-block .data-container-wrapper .data-container .data-container-footer .square{width:28px}.section-container .content-block .data-container-wrapper>section>footer .square span,.section-container .content-block .data-container-wrapper>section .data-container-footer .square span,.section-container .content-block .data-container-wrapper .data-container>footer .square span,.section-container .content-block .data-container-wrapper .data-container .data-container-footer .square span{padding:0;left:0}.section-container .content-block .data-container-wrapper>section ol,.section-container .content-block .data-container-wrapper .data-container ol{margin:0 0 0 15px;padding:10px}.section-container .content-block #form-container.ui-widget-content{border:none !important}.section-container .content-block form:not(.list-container){border:1px #ddd solid;background:#f3f1ef;padding:30px;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px}.section-container .content-block [class^=\\\"btn-\\\"],.section-container .content-block [class*=\\\" btn-\\\"]{margin:0 2px}.qti-navigator{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;display:box;display:-ms-flexbox;display:-webkit-flexbox;display:flexbox;display:-ms-flex;display:-webkit-flex;display:flex;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;flex-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;flex-line-pack:start;-ms-flex-line-pack:start;-webkit-align-content:flex-start;align-content:flex-start;flex-align:stretch;-ms-flex-align:stretch;-webkit-align-items:stretch;align-items:stretch;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;-o-flex-direction:column;flex-direction:column;padding:0;cursor:default;min-width:calc(18rem - 8px);height:100%;position:relative}.qti-navigator span{display:inline-block}.qti-navigator .collapsed .collapsible-panel{display:none !important}.qti-navigator .collapsed .qti-navigator-label .icon-up{display:none}.qti-navigator .collapsed .qti-navigator-label .icon-down{display:inline-block}.qti-navigator .collapsible>.qti-navigator-label,.qti-navigator .qti-navigator-item>.qti-navigator-label{cursor:pointer}.qti-navigator.scope-test-section .qti-navigator-part>.qti-navigator-label{display:none !important}.qti-navigator .qti-navigator-label{display:box;display:-ms-flexbox;display:-webkit-flexbox;display:flexbox;display:-ms-flex;display:-webkit-flex;display:flex;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;flex-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;flex-line-pack:start;-ms-flex-line-pack:start;-webkit-align-content:flex-start;align-content:flex-start;flex-align:stretch;-ms-flex-align:stretch;-webkit-align-items:stretch;align-items:stretch;min-width:calc(100% - 12px);padding:0 6px;line-height:3rem}.qti-navigator .qti-navigator-label .icon-up,.qti-navigator .qti-navigator-label .icon-down{line-height:3rem;margin-left:auto}.qti-navigator .qti-navigator-label .icon-down{display:none}.qti-navigator .qti-navigator-label .qti-navigator-number{display:none}.qti-navigator .qti-navigator-icon,.qti-navigator .icon{position:relative;top:1px;display:inline-block;width:2rem;line-height:2.8rem}.qti-navigator .unseen .qti-navigator-icon{cursor:default}.qti-navigator.prevents-unseen .unseen .qti-navigator-icon,.qti-navigator.prevents-unseen .unseen .qti-navigator-label{cursor:not-allowed !important}.qti-navigator .icon-answered:before{content:\\\"\\\\e69a\\\"}.qti-navigator .icon-viewed:before{content:\\\"\\\\e631\\\"}.qti-navigator .icon-flagged:before{content:\\\"\\\\e64e\\\"}.qti-navigator .icon-unanswered:before,.qti-navigator .icon-unseen:before{content:\\\"\\\\e6a5\\\"}.qti-navigator .qti-navigator-counter{text-align:right;margin-left:auto;font-size:12px;font-size:1.2rem}.qti-navigator .qti-navigator-actions{text-align:center}.qti-navigator .qti-navigator-info.collapsed{height:calc(3rem + 1px)}.qti-navigator .qti-navigator-info{height:calc(5 * (3rem + 1px));overflow:hidden}.qti-navigator .qti-navigator-info>.qti-navigator-label{min-width:calc(100% - 16px);padding:0 8px}.qti-navigator .qti-navigator-info ul{padding:0 4px}.qti-navigator .qti-navigator-info ul .qti-navigator-label span.qti-navigator-text{padding:0 6px;min-width:10rem}.qti-navigator .qti-navigator-info ul .qti-navigator-label span.qti-navigator-icon{min-width:1.5rem}.qti-navigator .qti-navigator-info ul .qti-navigator-label span.qti-navigator-counter{min-width:5rem}.qti-navigator .qti-navigator-filters{margin-top:1rem;text-align:center;width:15rem;height:calc(3rem + (2 * 1px))}.qti-navigator .qti-navigator-filters ul{display:box;display:-ms-flexbox;display:-webkit-flexbox;display:flexbox;display:-ms-flex;display:-webkit-flex;display:flex;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;flex-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;flex-line-pack:start;-ms-flex-line-pack:start;-webkit-align-content:flex-start;align-content:flex-start;flex-align:stretch;-ms-flex-align:stretch;-webkit-align-items:stretch;align-items:stretch}.qti-navigator .qti-navigator-filters li{display:block}.qti-navigator .qti-navigator-filters li .qti-navigator-tab{border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;border-left:none;line-height:3rem;min-width:5rem;cursor:pointer;white-space:nowrap}.qti-navigator .qti-navigator-tree{-webkit-flex:1;-moz-flex:1;-ms-flex:1;-o-flex:1;flex:1;overflow-y:auto}.qti-navigator .qti-navigator-linear,.qti-navigator .qti-navigator-linear-part{padding:8px}.qti-navigator .qti-navigator-linear .icon,.qti-navigator .qti-navigator-linear-part .icon{display:none}.qti-navigator .qti-navigator-linear .qti-navigator-label,.qti-navigator .qti-navigator-linear-part .qti-navigator-label{font-size:14px;font-size:1.4rem}.qti-navigator .qti-navigator-linear .qti-navigator-title,.qti-navigator .qti-navigator-linear-part .qti-navigator-title{font-size:14px;font-size:1.4rem;margin:8px 0}.qti-navigator .qti-navigator-linear .qti-navigator-message,.qti-navigator .qti-navigator-linear-part .qti-navigator-message{font-size:14px;font-size:1.4rem}.qti-navigator .qti-navigator-part>.qti-navigator-label{padding:0 8px}.qti-navigator .qti-navigator-part:not(:first-child){margin-top:1px}.qti-navigator .qti-navigator-section>.qti-navigator-label{padding:0 8px}.qti-navigator .qti-navigator-item{margin:1px 0;padding-left:10px}.qti-navigator .qti-navigator-item:first-child{margin-top:0}.qti-navigator .qti-navigator-item.disabled>.qti-navigator-label{cursor:not-allowed}.qti-navigator .qti-navigator-collapsible{cursor:pointer;text-align:center;display:none;position:absolute;top:0;bottom:0;right:0;padding-top:50%}.qti-navigator .qti-navigator-collapsible .icon{font-size:20px;font-size:2rem;width:1rem !important;height:2rem !important}.qti-navigator .qti-navigator-collapsible .qti-navigator-expand{display:none}.qti-navigator.collapsible{padding-right:calc(1rem + 10px) !important}.qti-navigator.collapsible .qti-navigator-collapsible{display:block}.qti-navigator.collapsed{width:calc(8rem + 1rem + 10px);min-width:8rem}.qti-navigator.collapsed ul{padding:0 !important}.qti-navigator.collapsed .qti-navigator-text,.qti-navigator.collapsed .qti-navigator-info>.qti-navigator-label,.qti-navigator.collapsed .qti-navigator-part>.qti-navigator-label,.qti-navigator.collapsed .qti-navigator-section>.qti-navigator-label,.qti-navigator.collapsed .qti-navigator-message{display:none !important}.qti-navigator.collapsed .qti-navigator-label{padding:0 2px !important;width:calc(8rem - 4px);min-width:calc(8rem - 4px)}.qti-navigator.collapsed .qti-navigator-icon,.qti-navigator.collapsed .icon{width:auto}.qti-navigator.collapsed .qti-navigator-counter{margin-left:0;min-width:4rem !important}.qti-navigator.collapsed .qti-navigator-collapsible .qti-navigator-collapse{display:none}.qti-navigator.collapsed .qti-navigator-collapsible .qti-navigator-expand{display:block}.qti-navigator.collapsed .qti-navigator-info{height:calc(4 * (3rem + 1px))}.qti-navigator.collapsed .qti-navigator-info.collapsed .collapsible-panel{display:block !important}.qti-navigator.collapsed .qti-navigator-filters{width:calc(8rem - 16px)}.qti-navigator.collapsed .qti-navigator-filter span{display:none}.qti-navigator.collapsed .qti-navigator-filter.active span{display:block;border:0 none;width:calc(8rem - 16px)}.qti-navigator.collapsed .qti-navigator-item,.qti-navigator.collapsed .qti-navigator-linear,.qti-navigator.collapsed .qti-navigator-linear-part{padding-left:2px;text-align:center}.qti-navigator.collapsed .qti-navigator-item{overflow:hidden}.qti-navigator.collapsed .qti-navigator-item .qti-navigator-icon{padding-left:6px;width:2rem}.qti-navigator.collapsed .qti-navigator-item .qti-navigator-number{display:inline-block;margin-left:6px;margin-right:8rem}.qti-navigator.collapsed .qti-navigator-linear,.qti-navigator.collapsed .qti-navigator-linear-part{padding:0 0 8px 0}.qti-navigator.collapsed .qti-navigator-linear .icon,.qti-navigator.collapsed .qti-navigator-linear-part .icon{display:block}.qti-navigator.collapsed .qti-navigator-actions button{padding:0 9px 0 5px}.qti-navigator .qti-navigator-info>.qti-navigator-label{background-color:#D4D5D7;color:#222;border-top:1px solid #D4D5D7}.qti-navigator .qti-navigator-info li{border-bottom:1px solid #fff}.qti-navigator .qti-navigator-filter .qti-navigator-tab{background-color:#fff}.qti-navigator .qti-navigator-filter .qti-navigator-tab:hover{background-color:#3e7da7;color:#fff}.qti-navigator .qti-navigator-filter.active .qti-navigator-tab{background-color:#a4a9b1;color:#fff}.qti-navigator .qti-navigator-linear,.qti-navigator .qti-navigator-linear-part{background:#fff}.qti-navigator .qti-navigator-part>.qti-navigator-label{background-color:#dddfe2}.qti-navigator .qti-navigator-part>.qti-navigator-label:hover{background-color:#c6cacf}.qti-navigator .qti-navigator-part.active>.qti-navigator-label{background-color:#c0c4ca}.qti-navigator .qti-navigator-section>.qti-navigator-label{border-bottom:1px solid #fff}.qti-navigator .qti-navigator-section>.qti-navigator-label:hover{background-color:#ebe8e4}.qti-navigator .qti-navigator-section.active>.qti-navigator-label{background-color:#ded9d4}.qti-navigator .qti-navigator-item{background:#fff}.qti-navigator .qti-navigator-item.active{background:#f4f7f8}.qti-navigator .qti-navigator-item:hover{background:#eef3f5}.qti-navigator .qti-navigator-item.disabled{background-color:#e2deda !important}.qti-navigator .qti-navigator-collapsible{background-color:#dfe1e4;color:#222}.qti-navigator .qti-navigator-collapsible .icon{color:#fff}.document-viewer-plugin{position:relative}.document-viewer-plugin .viewer-overlay{position:fixed;top:0;left:0;bottom:0;right:0;z-index:10000;width:100%;opacity:.5;background-color:#e4ecef}.document-viewer-plugin .viewer-panel{position:fixed;top:10px;left:10px;bottom:10px;right:10px;z-index:100000;color:#222;background:#f3f1ef;font-size:14px;font-size:1.4rem;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px}.document-viewer-plugin .viewer-header{position:relative;width:100%;height:30px;padding:5px 0;z-index:1}.document-viewer-plugin .viewer-header .viewer-title{font-size:15px;font-size:1.5rem;padding:0;margin:0 0 0 1.6rem}.document-viewer-plugin .viewer-header .icon{float:right;font-size:20px;font-size:2rem;color:#266d9c;margin:1px 6px;top:3px}.document-viewer-plugin .viewer-header .icon:hover{cursor:pointer;opacity:.75}.document-viewer-plugin .viewer-content{padding:0 20px;margin-top:4px;position:relative;height:calc(100% - 40px);overflow:auto}.qti-choiceInteraction.maskable .qti-choice .answer-mask{position:absolute;top:0;right:0;height:100%;padding:5px 10px 0 10px;z-index:10;color:#0e5d91;border:solid 1px #222;background-color:#c8d6dc;text-align:right;vertical-align:middle}.qti-choiceInteraction.maskable .qti-choice .answer-mask:hover{color:#568eb2}.qti-choiceInteraction.maskable .qti-choice .answer-mask .answer-mask-toggle:before{font-family:\\'tao\\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:\\\"\\\\e643\\\"}.qti-choiceInteraction.maskable .qti-choice .label-content{padding-right:40px}.qti-choiceInteraction.maskable .qti-choice.masked .answer-mask{width:100%}.qti-choiceInteraction.maskable .qti-choice.masked .answer-mask .answer-mask-toggle:before{font-family:\\'tao\\' !important;speak:none;font-style:normal;font-weight:normal;font-variant:normal;text-transform:none;line-height:1;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;content:\\\"\\\\e631\\\"}.qti-choiceInteraction.maskable .qti-choice.masked .answer-mask:hover{background-color:#d2dde2}.mask{position:absolute;width:250px;height:100px;min-width:50px;min-height:25px;top:0;left:0;border:solid 1px #0E5D91;-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px;background:transparent;opacity:1}.mask .inner{-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px;position:relative;width:100%;height:100%;background-color:#fff;opacity:1}.mask.moving .inner{border-color:rgba(14,93,145,0.5);opacity:.55}.mask.moving .controls{display:none}.mask.sizing{border-color:rgba(14,93,145,0.5)}.mask.sizing .inner{opacity:.55}.mask.sizing .controls{display:none}.mask.previewing .inner{opacity:.15;-webkit-transition:opacity, 600ms, ease;-moz-transition:opacity, 600ms, ease;-ms-transition:opacity, 600ms, ease;-o-transition:opacity, 600ms, ease;transition:opacity, 600ms, ease}.mask .controls{position:absolute;top:5px;right:5px}.mask .controls a{color:#0E5D91;text-decoration:none;margin-right:5px;vertical-align:middle}.mask .controls a:hover{color:#0a4166}.mask .controls .view{font-size:14px;font-size:1.4rem}.mask .controls .close{font-size:12px;font-size:1.2rem}.connectivity-box{display:none;width:40px;margin-left:40px}.connectivity-box .icon-connect,.connectivity-box .icon-disconnect{display:none;line-height:2;font-size:16px;font-size:1.6rem;text-shadow:0 1px 0 rgba(0,0,0,0.9)}.connectivity-box.connected,.connectivity-box.disconnected{display:inline-block}.connectivity-box.connected .icon-connect{display:inline-block}.connectivity-box.disconnected .icon-disconnect{display:inline-block}.line-reader-mask{box-sizing:border-box;border:0 solid #0E5D91;background-color:#f3f7fa}.line-reader-mask.hidden{display:none}.line-reader-mask.resizing{background-color:rgba(243,247,250,0.8);border-color:rgba(14,93,145,0.5)}.line-reader-mask.border-top{border-top-width:1px}.line-reader-mask.border-right{border-right-width:1px}.line-reader-mask.border-bottom{border-bottom-width:1px}.line-reader-mask.border-left{border-left-width:1px}.line-reader-mask.ne{-webkit-border-top-right-radius:5px;-moz-border-radius-topright:5px;border-top-right-radius:5px}.line-reader-mask.se{-webkit-border-bottom-right-radius:5px;-moz-border-radius-bottomright:5px;border-bottom-right-radius:5px}.line-reader-mask.sw{-webkit-border-bottom-left-radius:5px;-moz-border-radius-bottomleft:5px;border-bottom-left-radius:5px}.line-reader-mask.nw{-webkit-border-top-left-radius:5px;-moz-border-radius-topleft:5px;border-top-left-radius:5px}.line-reader-overlay{box-sizing:border-box;opacity:0}.line-reader-overlay.hidden{display:none}.line-reader-overlay.moving{-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px}.line-reader-overlay.moving,.line-reader-overlay .inner-window{overflow:hidden;position:absolute;opacity:1;background-color:transparent;border:1px solid rgba(14,93,145,0.5)}.line-reader-overlay .inner-window{box-sizing:content-box}.line-reader-overlay .mask-bg{box-sizing:border-box;border:0 solid rgba(243,247,250,0.8);background-color:transparent;position:absolute}.line-reader-inner-drag{-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;text-align:center;padding-top:3px;color:#0E5D91}.line-reader-inner-drag.hidden{display:none}.line-reader-inner-drag:hover{background-color:#87aec8;color:#0a4166}.line-reader-inner-drag.moving{background-color:transparent;color:#9fbed3}.line-reader-inner-drag .icon{text-shadow:none !important}.line-reader-closer{font-size:12px;font-size:1.2rem;cursor:pointer;color:#0E5D91;width:12px;height:12px}.line-reader-closer:hover{color:#0a4166}.line-reader-closer .icon{text-shadow:none !important}.magnifier{position:absolute;top:0;left:0;width:250px;height:100px;min-width:50px;min-height:25px;overflow:hidden;background-color:#fff;opacity:1;border:solid 1px #0E5D91;-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px}@-o-keyframes fadeIn{0%{opacity:0;visibility:visible}100%{opacity:1;visibility:visible}}@-moz-keyframes fadeIn{0%{opacity:0;visibility:visible}100%{opacity:1;visibility:visible}}@-webkit-keyframes fadeIn{0%{opacity:0;visibility:visible}100%{opacity:1;visibility:visible}}@keyframes fadeIn{0%{opacity:0;visibility:visible}100%{opacity:1;visibility:visible}}@-o-keyframes fadeOut{0%{opacity:1;visibility:visible}100%{opacity:0;visibility:hidden}}@-moz-keyframes fadeOut{0%{opacity:1;visibility:visible}100%{opacity:0;visibility:hidden}}@-webkit-keyframes fadeOut{0%{opacity:1;visibility:visible}100%{opacity:0;visibility:hidden}}@keyframes fadeOut{0%{opacity:1;visibility:visible}100%{opacity:0;visibility:hidden}}@-o-keyframes pop{0%{opacity:0;visibility:visible}50%{opacity:.5;visibility:visible;transform:scale(2)}100%{opacity:0;visibility:hidden;transform:scale(3)}}@-moz-keyframes pop{0%{opacity:0;visibility:visible}50%{opacity:.5;visibility:visible;transform:scale(2)}100%{opacity:0;visibility:hidden;transform:scale(3)}}@-webkit-keyframes pop{0%{opacity:0;visibility:visible}50%{opacity:.5;visibility:visible;transform:scale(2)}100%{opacity:0;visibility:hidden;transform:scale(3)}}@keyframes pop{0%{opacity:0;visibility:visible}50%{opacity:.5;visibility:visible;transform:scale(2)}100%{opacity:0;visibility:hidden;transform:scale(3)}}.magnifier .level{position:absolute;overflow:hidden;z-index:1;top:0;left:0;bottom:0;right:0;background:transparent;color:#3e7da7;opacity:1;font-size:50px;font-size:5rem;display:box;display:-ms-flexbox;display:-webkit-flexbox;display:flexbox;display:-ms-flex;display:-webkit-flex;display:flex;-ms-flex-direction:row;-webkit-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;-webkit-flex-wrap:nowrap;flex-wrap:nowrap;flex-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;justify-content:flex-start;flex-line-pack:start;-ms-flex-line-pack:start;-webkit-align-content:flex-start;align-content:flex-start;flex-align:stretch;-ms-flex-align:stretch;-webkit-align-items:stretch;align-items:stretch;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;-o-align-items:center;align-items:center;-webkit-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;-o-justify-content:center;justify-content:center;-webkit-animation:pop 400ms forwards;-moz-animation:pop 400ms forwards;-ms-animation:pop 400ms forwards;-o-animation:pop 400ms forwards;animation:pop 400ms forwards}.magnifier .level:before{content:\\\"x\\\"}.magnifier .overlay{position:absolute;overflow:hidden;z-index:2;top:0;left:0;bottom:0;right:0;background:transparent}.magnifier>.controls{position:absolute;z-index:3;padding:3px;background-color:#fff;-webkit-animation:fadeOut 600ms forwards;-moz-animation:fadeOut 600ms forwards;-ms-animation:fadeOut 600ms forwards;-o-animation:fadeOut 600ms forwards;animation:fadeOut 600ms forwards;border:0 solid #0E5D91}.magnifier>.controls a{color:#0E5D91;text-decoration:none;font-size:12px;font-size:1.2rem;margin:0 2px}.magnifier>.controls a:hover{color:#0a4166}.magnifier>.zoom{bottom:0;right:0;border-top-width:1px;border-left-width:1px;-webkit-border-top-left-radius:5px;-moz-border-radius-topleft:5px;border-top-left-radius:5px}.magnifier>.zoom a{font-size:20px;font-size:2rem}.magnifier>.close{top:0;right:0;border-bottom-width:1px;border-left-width:1px;-webkit-border-bottom-left-radius:5px;-moz-border-radius-bottomleft:5px;border-bottom-left-radius:5px}.magnifier .inner{position:absolute}.magnifier.sizing{border-color:rgba(14,93,145,0.5)}.magnifier.sizing .inner,.magnifier.sizing .controls,.magnifier.sizing .level{opacity:0.45 !important}.magnifier:hover .close,.magnifier:hover .controls{-webkit-animation:fadeIn 600ms forwards;-moz-animation:fadeIn 600ms forwards;-ms-animation:fadeIn 600ms forwards;-o-animation:fadeIn 600ms forwards;animation:fadeIn 600ms forwards}body.delivery-scope{min-height:100vh;max-height:100vh;margin-bottom:0}.runner{position:relative}.test-runner-scope{position:relative;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;height:calc(100vh - 99px)}.test-runner-scope .test-runner-sections{-webkit-flex:1 1 0%;-ms-flex:1 1 0%;flex:1 1 0%;overflow:hidden;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row}.test-runner-scope .test-sidebar{background:#f3f1ef;-webkit-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;height:calc(100vh - 179px);overflow-y:auto;max-width:350px}.test-runner-scope .test-sidebar>.qti-panel{max-width:350px;padding:10px}@media only screen and (max-device-width: 800px){.test-runner-scope .test-sidebar{max-width:200px}.test-runner-scope .test-sidebar>.qti-panel{max-width:200px}}@media only screen and (min-device-width: 800px) and (max-device-width: 1280px){.test-runner-scope .test-sidebar{max-width:250px}.test-runner-scope .test-sidebar>.qti-panel{max-width:250px}}@media only screen and (min-device-width: 1280px) and (max-device-width: 1440px){.test-runner-scope .test-sidebar{max-width:300px}.test-runner-scope .test-sidebar>.qti-panel{max-width:300px}}.test-runner-scope .test-sidebar-left{border-right:1px #ddd solid}.test-runner-scope .test-sidebar-right{border-left:1px #ddd solid}.test-runner-scope .content-wrapper{position:relative;-webkit-flex:1 1 0%;-ms-flex:1 1 0%;flex:1 1 0%;overflow:auto;padding:0}.test-runner-scope .content-wrapper .overlay{position:absolute;left:0;right:0;top:0;bottom:0;width:100%;opacity:.9}.test-runner-scope .content-wrapper .overlay-full{background-color:#fff;opacity:1}.test-runner-scope #qti-content{max-width:1024px;width:100%;margin:auto}.test-runner-scope #qti-item{width:100%;min-width:100%;height:auto;overflow:visible}.test-runner-scope .qti-item{padding:30px}.test-runner-scope .size-wrapper{max-width:1280px;margin:auto;width:100%}.test-runner-scope #qti-rubrics{margin:auto;max-width:1024px;width:100%}.test-runner-scope #qti-rubrics .qti-rubricBlock{margin:20px 0}.test-runner-scope #qti-rubrics .hidden{display:none}.no-controls .test-runner-scope{height:100vh}.test-runner-scope .action-bar.content-action-bar{padding:2px}.test-runner-scope .action-bar.content-action-bar li{margin:2px 0 0 10px;border:none}.test-runner-scope .action-bar.content-action-bar li.btn-info{padding-top:6px;height:36px;margin-top:0;border-bottom:solid 2px transparent;border-radius:0}.test-runner-scope .action-bar.content-action-bar li.btn-info.btn-group{border:none !important;overflow:hidden;padding:0}.test-runner-scope .action-bar.content-action-bar li.btn-info.btn-group a{float:left;margin:0 2px;padding:0 15px;border:1px solid rgba(255,255,255,0.3);border-radius:0px;display:inline-block;height:inherit}.test-runner-scope .action-bar.content-action-bar li.btn-info.btn-group a:first-of-type{border-top-left-radius:3px;border-bottom-left-radius:3px;margin-left:0}.test-runner-scope .action-bar.content-action-bar li.btn-info.btn-group a:last-of-type{border-top-right-radius:3px;border-bottom-right-radius:3px;margin-right:0}.test-runner-scope .action-bar.content-action-bar li.btn-info.btn-group a:hover,.test-runner-scope .action-bar.content-action-bar li.btn-info.btn-group a.active{border-color:rgba(255,255,255,0.8)}.test-runner-scope .action-bar.content-action-bar li.btn-info.btn-group a .no-label{padding-right:0}.test-runner-scope .action-bar.content-action-bar li.btn-info:hover,.test-runner-scope .action-bar.content-action-bar li.btn-info.active{border-bottom-color:rgba(255,255,255,0.8)}.test-runner-scope .action-bar.content-action-bar li.btn-info:active,.test-runner-scope .action-bar.content-action-bar li.btn-info.active{background:#e7eff4;border-color:rgba(255,255,255,0.8)}.test-runner-scope .action-bar.content-action-bar li.btn-info:active a,.test-runner-scope .action-bar.content-action-bar li.btn-info.active a{color:#266d9c;text-shadow:none}.test-runner-scope .action-bar.content-action-bar li.btn-info:active:hover,.test-runner-scope .action-bar.content-action-bar li.btn-info.active:hover{background:#fff}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar{opacity:1;height:40px}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box{height:40px;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-justify-content:space-between;-ms-flex-pack:space-between;justify-content:space-between;padding-left:10px;padding-right:10px}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .title-box{font-size:14px;font-size:1.4rem;padding:4px 0 0;-ms-flex:0 1 auto;-webkit-flex:0 1 auto;flex:0 1 auto}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .progress-box,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .item-number-box{padding-top:4px;white-space:nowrap;-ms-flex:0 1 auto;-webkit-flex:0 1 auto;flex:0 1 auto}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .progress-box .qti-controls,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .item-number-box .qti-controls{display:inline-block;margin-left:20px;white-space:nowrap}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .timer-box{padding-top:0;white-space:nowrap;-webkit-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-flex-wrap:nowrap;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-justify-content:flex-end;-ms-flex-pack:end;justify-content:flex-end}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .timer-box .timer-toggler{text-decoration:none;color:#fff;line-height:1.3;opacity:.68;padding:8px 20px;position:relative;top:-1px;left:20px;z-index:2;-webkit-transition:opacity, .5s, ease-out;-moz-transition:opacity, .5s, ease-out;-ms-transition:opacity, .5s, ease-out;-o-transition:opacity, .5s, ease-out;transition:opacity, .5s, ease-out}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .timer-box .timer-toggler:hover,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .timer-box .timer-toggler:active,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .timer-box .timer-toggler:focus{outline:unset}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .timer-box .timer-toggler:hover{opacity:.93;-webkit-transition:opacity, .5s, ease-out;-moz-transition:opacity, .5s, ease-out;-ms-transition:opacity, .5s, ease-out;-o-transition:opacity, .5s, ease-out;transition:opacity, .5s, ease-out}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .timer-box.zen-mode .timer-toggler{opacity:.93;-webkit-transition:opacity, .5s, ease-out;-moz-transition:opacity, .5s, ease-out;-ms-transition:opacity, .5s, ease-out;-o-transition:opacity, .5s, ease-out;transition:opacity, .5s, ease-out}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .timer-box.zen-mode .qti-timer_time{opacity:0;-webkit-transition:opacity, 1s, ease-out;-moz-transition:opacity, 1s, ease-out;-ms-transition:opacity, 1s, ease-out;-o-transition:opacity, 1s, ease-out;transition:opacity, 1s, ease-out}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .timer-box .qti-timer{display:inline-block;text-align:center;vertical-align:top;line-height:1.2;position:relative;padding:0 20px;margin-top:-1px;overflow:hidden}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .timer-box .qti-timer .qti-timer_label{max-width:130px;display:block;font-size:12px;font-size:1.2rem}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .timer-box .qti-timer::before{content:\\' \\';background:rgba(255,255,255,0.3);width:1px;height:20px;position:absolute;left:0;top:5px}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .timer-box .qti-timer:first-child::before{content:none}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .timer-box .qti-timer.qti-timer__type-assessmentTest{-ms-flex-order:0;-webkit-order:0;order:0}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .timer-box .qti-timer.qti-timer__type-assessmentTestPart{-ms-flex-order:1;-webkit-order:1;order:1}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .timer-box .qti-timer.qti-timer__type-assessmentSection{-ms-flex-order:2;-webkit-order:2;order:2}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .timer-box .qti-timer.qti-timer__type-assessmentItemRef{-ms-flex-order:3;-webkit-order:3;order:3}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.top-action-bar>.control-box .progressbar{margin-top:5px;min-width:150px;max-width:200px;height:0.6em}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar>.control-box{color:rgba(255,255,255,0.9);text-shadow:1px 1px 0 black}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar>.control-box .lft,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar>.control-box .rgt{padding-left:20px}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar>.control-box .lft:first-child,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar>.control-box .rgt:first-child{padding-left:0}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar>.control-box .lft:last-child ul,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar>.control-box .rgt:last-child ul{display:inline-block}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar>.control-box [class^=\\\"btn-\\\"],.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar>.control-box [class*=\\\" btn-\\\"]{white-space:nowrap}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .action{position:relative;overflow:visible}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu{color:#222;background:#f3f1ef;border:1px solid #aaa9a7;overflow:auto;list-style:none;min-width:150px;margin:0;padding:0;position:absolute;bottom:36px;left:-3px}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action{display:inline-block;text-align:left;width:100%;white-space:nowrap;overflow:hidden;color:#222;border-bottom:1px solid #c2c1bf;margin:0;-moz-border-radius:0px;-webkit-border-radius:0px;border-radius:0px;height:32px;padding:6px 15px;line-height:1;border-left:solid 3px transparent}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action .icon-checkbox-checked{display:none}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action.active{background-color:#dbd9d7;font-weight:bold}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action.hover .icon-checkbox,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action:hover .icon-checkbox,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action.active .icon-checkbox{display:none}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action.hover .icon-checkbox-checked,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action:hover .icon-checkbox-checked,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action.active .icon-checkbox-checked{display:inline-block}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action.hover,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action:hover{background-color:#0e5d91;color:#fff;border-left-color:#313030 !important}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action.hover .label,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action.hover .icon,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action:hover .label,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action:hover .icon{color:#fff}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action.hover .icon,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action:hover .icon{color:#e7eff4}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action .label,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar .tools-box .menu .action .icon{font-size:14px;font-size:1.4rem;text-shadow:none;color:#222}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar{overflow:visible;position:relative}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .action{line-height:1.6}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .icon.no-label{padding-right:0}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .tool-label-collapsed .btn-info .text,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .tool-label-collapsed-hover .btn-info:not(:hover) .text,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .btn-info.no-tool-label .text,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .btn-info.tool-label-collapsed .text,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .btn-info.tool-label-collapsed-over:not(:hover) .text{display:none}.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .tool-label-collapsed .btn-info .icon,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .tool-label-collapsed-hover .btn-info:not(:hover) .icon,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .btn-info.no-tool-label .icon,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .btn-info.tool-label-collapsed .icon,.test-runner-scope .action-bar.content-action-bar.horizontal-action-bar.bottom-action-bar .btn-info.tool-label-collapsed-over:not(:hover) .icon{padding:0}.test-runner-scope [data-control=\\\"exit\\\"]{margin-left:20px}.test-runner-scope [data-control=\\\"comment-toggle\\\"]{display:none}.test-runner-scope.non-lti-context .title-box{display:none}.test-runner-scope [data-control=\\\"qti-comment\\\"]{background-color:#f3f1ef;position:absolute;bottom:33px;left:8px;text-align:right;padding:5px;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;-webkit-box-shadow:0 0 15px 1px rgba(0,0,0,0.2);-moz-box-shadow:0 0 15px 1px rgba(0,0,0,0.2);-ms-box-shadow:0 0 15px 1px rgba(0,0,0,0.2);-o-box-shadow:0 0 15px 1px rgba(0,0,0,0.2);box-shadow:0 0 15px 1px rgba(0,0,0,0.2)}.test-runner-scope [data-control=\\\"qti-comment\\\"] textarea{display:block;height:100px;resize:none;width:350px;padding:3px;margin:0  0 10px 0;border:none;font-size:13px;font-size:1.3rem;border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px}.test-runner-scope .tools-box{position:relative;overflow:visible}\\n\\n/*# sourceMappingURL=new-test-runner.css.map */.test-runner-scope .content-wrapper p.key-navigation-group,.test-runner-scope .content-wrapper div.key-navigation-group{padding:5px !important}.test-runner-scope .content-wrapper .key-navigation-group:not(.qti-extendedTextInteraction):not(.qti-textEntryInteraction){border-width:1px !important;border-style:solid;border-color:transparent}.test-runner-scope .content-wrapper .key-navigation-group:not(.qti-extendedTextInteraction):not(.qti-textEntryInteraction).focusin{border-color:#0e5d91 !important;outline:none}.test-runner-scope .content-wrapper .key-navigation-group:not(.qti-extendedTextInteraction):not(.qti-textEntryInteraction).qti-interaction .qti-choice.key-navigation-highlight{background:#e7eff4 !important}.test-runner-scope .content-wrapper span.key-navigation-group{border:none !important}.test-runner-scope .content-wrapper span.key-navigation-group.focusin{outline:solid #0e5d91 1px !important;outline-offset:1px}.test-runner-scope .test-sidebar .key-navigation-group.focusin{background:#e7eff4}.test-runner-scope .test-sidebar .key-navigation-group .qti-navigator-filters .key-navigation-highlight .qti-navigator-tab{border-width:2px}.test-runner-scope .test-sidebar .key-navigation-group .qti-navigator-filters .key-navigation-highlight:focus{outline:none}.test-runner-scope .test-sidebar .key-navigation-group .qti-navigator-filters .key-navigation-highlight:focus .qti-navigator-tab{border-top-color:#222 !important;border-left-color:#222 !important;border-right-color:#222 !important}.test-runner-scope .test-sidebar .key-navigation-group li.qti-navigator-item.key-navigation-highlight{padding-left:8px;border-left:solid 2px #222}.test-runner-scope .test-sidebar .key-navigation-group li.qti-navigator-item.key-navigation-highlight .key-navigation-highlight:focus{outline:none}.test-runner-scope .bottom-action-bar.content-action-bar.key-navigation-group.focusin{-webkit-box-shadow:0 0 6px 2px #3e7da7;-moz-box-shadow:0 0 6px 2px #3e7da7;-ms-box-shadow:0 0 6px 2px #3e7da7;-o-box-shadow:0 0 6px 2px #3e7da7;box-shadow:0 0 6px 2px #3e7da7}.test-runner-scope .bottom-action-bar.content-action-bar.key-navigation-group .key-navigation-highlight:focus{margin-bottom:0;border-bottom-color:#e7eff4 !important;outline:none}.test-runner-scope .bottom-action-bar.content-action-bar.key-navigation-group .key-navigation-highlight:focus.active{border-bottom-color:transparent !important;background:#e7eff4 !important}.test-runner-scope .bottom-action-bar.content-action-bar.key-navigation-group .key-navigation-highlight:focus:not(.active):not(:active) .li-inner{color:#e7eff4}header .settings-menu .key-navigation-group{padding-right:5px}header .settings-menu .key-navigation-group.focusin{background-color:rgba(14,93,145,0.5);padding-bottom:10px}header .settings-menu .key-navigation-highlight:focus{height:54px;color:white !important;border-bottom:solid 2px white !important}\\n\\n/*# sourceMappingURL=key-navigation.css.map */.text-to-speech{border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;background-color:#f3f1ef;bottom:37px;box-shadow:0 0 15px 1px rgba(0,0,0,0.2);color:#222;left:-2px;padding:2px;position:absolute;width:146px}.text-to-speech>.action{background-color:#f3f1ef;display:inline-block;height:28px;position:relative;width:32px}.text-to-speech>.action>span{color:#222;font-size:15px !important;padding:0 !important;vertical-align:middle;left:0px}.text-to-speech>.action>.settings-menu{border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;background-color:#f3f1ef;bottom:30px;box-shadow:0 0 15px 1px rgba(0,0,0,0.2);left:-1px;padding:2px;position:absolute}.text-to-speech>.action>.settings-menu>.option{background-color:#f3f1ef;height:30px;position:relative;width:30px}.text-to-speech>.action>.settings-menu>.option>span{color:#222;font-size:15px;padding:0;vertical-align:middle;left:0px}.text-to-speech>.action>.settings-menu>.option>span.icon-volume{left:1px}.text-to-speech>.action>.settings-menu>.option>.slider-container{border:1px solid #ddd;border-radius:2px;-webkit-border-radius:2px;background-color:#f3f1ef;height:12px;left:26px;margin:8px;padding:2px;position:relative;top:-22px;width:80px}.text-to-speech>.action>.settings-menu>.option>.slider-container .noUi-horizontal{height:6px}.text-to-speech>.action>.settings-menu>.option>.slider-container .noUi-horizontal .noUi-handle{top:-7px}.text-to-speech>.action>.settings-menu>.option>.hover-container{height:44px;left:20px;position:absolute;top:-8px;width:106px;z-index:-1}.text-to-speech>.action>.settings-menu>.option:hover{background-color:#f3f1ef}.text-to-speech>.action>.settings-menu>.option:hover>span{color:#9c9c9c}.text-to-speech>.action:hover{background-color:#f3f1ef}.text-to-speech>.action:hover>span{color:#9c9c9c}.text-to-speech>.action.active{background-color:#a4a9b1}.text-to-speech>.action.active>span{color:#4e4e4e}.text-to-speech>.action.disabled{background-color:#f3f1ef !important}.text-to-speech>.action.disabled>span{color:#d3d3d3}\\n\\n/*# sourceMappingURL=textToSpeech.css.map */');\n"]}